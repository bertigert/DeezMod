"use strict";(self.webpackJsonpDeezer=self.webpackJsonpDeezer||[]).push([[6569],{"+UU7":(e,t,n)=>{n.d(t,{A:()=>o}),n("/eM8");var a=n("TRpf"),l=n("Wp0Y"),i=n("fkXJ"),r=n("eq2Y");const o=e=>{const t=(0,a.wA)();return{onReplaceTrack:(n,a)=>new Promise(((o,s)=>{t((0,r.Ct)({playlistId:e,selectedSong:a.legacy,oldSongId:n.id})).then(o).catch((e=>{!1===e&&(0,i.A)({body:(0,l.AP)("playlist_action_tracksalreadyaddedtotheplaylist_web")}),s(e)}))})),onRemoveTrack:n=>new Promise(((a,l)=>{t((0,r.Vc)({playlist_id:e,songs:[[n.id,0]],context:{}})).then(a).catch(l)}))}}},"/G5K":(e,t,n)=>{n.d(t,{A:()=>u});var a=n("q1tI"),l=n("juqV"),i=n("TRpf"),r=n("xobL"),o=n("x4+n"),s=n("BJtZ");const d={root:"MaxOe",label:"xogtX","is-active":"oSYze",isActive:"oSYze","is-disabled":"nRbxm",isDisabled:"nRbxm","is-restricted":"K50Uu",isRestricted:"K50Uu"};var c=n("iiSH");const u=({date:e,dataTestId:t})=>{const[n]=(0,i.d4)((e=>[(0,r.mI)({SERVER_TIMESTAMP:(0,r.mS)(e.user),clientTimestampDelta:(0,r.gE)(e.user)})])),u=(0,l.A)(d.label,(0,s.A)(d));return a.createElement("div",{className:d.root},a.createElement("span",{className:u,"data-testid":t},e>0?(0,o.E)(e,n):c.fs))}},"/uRm":(e,t,n)=>{n.d(t,{F:()=>a});let a=function(e){return e.ONBOARDING="ON_BOARDING",e.ONBOARDING_LEGACY="ON_BOARDING_LEGACY",e.SELECT_PROFILE="SELECT_PROFILE",e.BRIDGED_WEBVIEW="BRIDGED_WEBVIEW",e.PLAYLIST_ASSISTANT="PLAYLIST_ASSISTANT",e}({})},"3AbJ":(e,t,n)=>{n.d(t,{A:()=>r}),n("/eM8");var a=n("q1tI"),l=n("iiSH"),i=n("t08u");const r=(e,t,n,r,o,s=l.XQ,d=l.ww)=>{const[c,u]=(0,a.useState)(!1),[m,p]=(0,a.useState)(!1),{triggerTracking:h}=(0,i.A)(o.TYPE),A=(0,a.useCallback)((async()=>{n||c||m||(p(!0),await e({id:t,start:r,nb:d}),p(!1),h({action:"fetch",eventaction:"fetch-"+(d>l.ww?"all":"next")}))}),[d,t,n,c,m,r,e,h]),E=(0,a.useCallback)((async()=>{n||(u(!0),await e({id:t,start:r,nb:s}),u(!1),h({action:"fetch",eventaction:"fetch-all"}))}),[t,n,s,r,e,h]);return{loadingStatus:{isLoadingNext:m,isLoadingAll:c,isFullyFetched:n},fetchNext:A,fetchAll:E}}},C53p:(e,t,n)=>{n.d(t,{A:()=>p});var a,l=n("q1tI"),i=n("TRpf"),r=n("HmE0"),o=n("EPmj"),s=n("Wp0Y"),d=n("TqF5"),c=n("N67Q"),u=n("Jfek"),m=n("1h7S");const p=()=>{const{id:e,isShareable:t,containerData:n,context:p,shareType:h,isSponsored:A}=l.useContext(m.PK),E=(0,i.wA)();return t&&h?l.createElement(c.A,null,l.createElement(r.K0,{"aria-haspopup":!0,"aria-label":(0,s.AP)("Partager"),colorScheme:!0===A?"white":"neutral",icon:a||(a=l.createElement(o.l,null)),onClick:()=>{E((0,d.qf)({name:u.DN,props:{componentType:u.Wg.directShareMasthead,context:p,data:n,id:e,type:h}}))},variant:"ghost"})):null}},EBWn:(e,t,n)=>{n.d(t,{A:()=>s});var a=n("lXQd"),l=n("nLzw"),i=n("Oqsq"),r=n("1Pdy"),o=n("t08u");const s=(e,t,n,s)=>{const{triggerTracking:d}=(0,o.A)(n.TYPE),c={},u=t.toDisplay.map((e=>((0,i.A)(c,e.uuid,e.item.id),e.uuid)));return(t,n,i)=>{if("function"!=typeof s)return;const o=u.filter((e=>!t.includes(e)));let m=0;if(t.includes(n)){for(m=u.indexOf(n);t.includes(u[m])&&m>0;)m--;m>0&&(m+=1)}else m=o.indexOf(n),m+=i===r.Nz.TOP?0:1;var p;o.splice(m,0,...t),(0,l.A)(o,u)||(s({id:e,order:(p=o,p.map((e=>(0,a.A)(c,e))))}),d({action:"dragdrop",eventaction:t.length>1?"dragdrop-multi":"dragdrop-single"}))}}},"Fg+i":(e,t,n)=>{n.d(t,{Zo:()=>a,eb:()=>i,lC:()=>l});const a="1c51eebdce4b220e94e2ffddef5cf2f1",l="d6172ff86cb3f10e16a46ad0cb8f3259";let i=function(e){return e.latest="latest",e.resume="resume",e}({})},KJ1h:(e,t,n)=>{n.d(t,{A:()=>s});var a=n("q1tI"),l=n("0oT0"),i=n("N67Q"),r=n("1h7S"),o=n("cFUB");const s=()=>{const{context:e,id:t,isDownloadable:n,type:s}=a.useContext(r.PK);return n?a.createElement(i.A,null,a.createElement(l.A,{action:o.Hj.DOWNLOAD,context:e,id:t,type:s})):null}},LWGD:(e,t,n)=>{n.d(t,{A:()=>r});var a=n("Lrj8"),l=n("nIb6"),i=n("diin");const r=(0,l.A)((function(e,t){return(0,i.A)(e)?(0,a.A)(e,t):[]}))},M3gt:(e,t,n)=>{n.d(t,{A:()=>r});var a=n("q1tI"),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t};const r=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var l=arguments.length,r=Array(l),o=0;o<l;o++)r[o]=arguments[o];return n=a=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(r))),a._lastRenderedStartIndex=-1,a._lastRenderedStopIndex=-1,a._memoizedUnloadedRanges=[],a._onItemsRendered=function(e){var t=e.visibleStartIndex,n=e.visibleStopIndex;a._lastRenderedStartIndex=t,a._lastRenderedStopIndex=n,a._ensureRowsLoaded(t,n)},a._setRef=function(e){a._listRef=e},i(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),l(t,[{key:"resetloadMoreItemsCache",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._memoizedUnloadedRanges=[],e&&this._ensureRowsLoaded(this._lastRenderedStartIndex,this._lastRenderedStopIndex)}},{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return(0,this.props.children)({onItemsRendered:this._onItemsRendered,ref:this._setRef})}},{key:"_ensureRowsLoaded",value:function(e,t){var n=this.props,a=n.isItemLoaded,l=n.itemCount,i=n.minimumBatchSize,r=void 0===i?10:i,o=n.threshold,s=void 0===o?15:o,d=function(e){for(var t=e.isItemLoaded,n=e.itemCount,a=e.minimumBatchSize,i=e.stopIndex,r=[],o=null,s=null,d=e.startIndex;d<=i;d++)t(d)?null!==s&&(r.push(o,s),o=s=null):(s=d,null===o&&(o=d));if(null!==s){for(var c=Math.min(Math.max(s,o+a-1),n-1),u=s+1;u<=c&&!t(u);u++)s=u;r.push(o,s)}if(r.length)for(;r[1]-r[0]+1<a&&r[0]>0;){var m=r[0]-1;if(t(m))break;r[0]=m}return r}({isItemLoaded:a,itemCount:l,minimumBatchSize:r,startIndex:Math.max(0,e-s),stopIndex:Math.min(l-1,t+s)});(this._memoizedUnloadedRanges.length!==d.length||this._memoizedUnloadedRanges.some((function(e,t){return d[t]!==e})))&&(this._memoizedUnloadedRanges=d,this._loadUnloadedRanges(d))}},{key:"_loadUnloadedRanges",value:function(e){for(var t=this,n=this.props.loadMoreItems||this.props.loadMoreRows,a=function(a){var l=e[a],i=e[a+1],r=n(l,i);null!=r&&r.then((function(){if(function(e){return!(e.startIndex>e.lastRenderedStopIndex||e.stopIndex<e.lastRenderedStartIndex)}({lastRenderedStartIndex:t._lastRenderedStartIndex,lastRenderedStopIndex:t._lastRenderedStopIndex,startIndex:l,stopIndex:i})){if(null==t._listRef)return;"function"==typeof t._listRef.resetAfterIndex?t._listRef.resetAfterIndex(l,!0):("function"==typeof t._listRef._getItemStyleCache&&t._listRef._getItemStyleCache(-1),t._listRef.forceUpdate())}}))},l=0;l<e.length;l+=2)a(l)}}]),t}(a.PureComponent)},MTsA:(e,t,n)=>{n.d(t,{A:()=>p});var a,l,i=n("q1tI"),r=n("juqV"),o=n("Wp0Y"),s=n("H/eQ"),d=n("yCtO"),c=n("GPus"),u=n("pVdW");class m extends i.Component{constructor(e){super(e),this._onClickOutsideDropDown=e=>{this._navbarLinks.contains(e.target)||(this.setState({isOpenDropDown:!1}),document.removeEventListener("click",this._onClickOutsideDropDown))},this._onResize=this._onResize.bind(this),this._onToggleDropDown=this._onToggleDropDown.bind(this),this.state={items:e.items,lastVisibleElementIndex:1/0,isOpenDropDown:!1}}componentDidMount(){this._getTabWidth(),s.A.subscribe(s.A.layout.resize,this._onResize),s.A.subscribe(s.A.layout.adsBackground,this._onResize),s.A.trigger(s.A.navigation.tab_displayed,{type:this.props.active})}UNSAFE_componentWillReceiveProps(e){this.setState({lastVisibleElementIndex:1/0,items:e.items},this._getTabWidth)}componentWillUnmount(){s.A.unsubscribe(s.A.layout.resize,this._onResize),s.A.unsubscribe(s.A.layout.adsBackground,this._onResize)}render(){const e=(0,r.A)({navbar:!0,"navbar-center":"center"===this.props.align});return i.createElement("nav",{className:e},i.createElement("div",{style:this.props.style,className:"container"},i.createElement("ul",{className:"navbar-nav",ref:e=>this._navbarLinks=e,role:"tablist"},this._renderList())))}_renderList(){const e=[],{items:t,lastVisibleElementIndex:n}=this.state;for(let a=0,l=t.length;a<l;a++)if(!t[a].disabled){if(!(a<n)){e.push(this._renderViewMore(a));break}e.push(this._renderItem(a))}return e}_renderItem(e,t=!1){const{active:n,textSize:a}=this.props,l=this.state.items[e],o=(0,r.A)({"navbar-item":!t,"dropdown-item":t,active:n===l.id}),s=l.isButton&&n!==l.id,d=(0,r.A)({"navbar-link":!t,"navbar-button":s}),c=n===l.id?void 0:this._onItemClick.bind(this,l);return i.createElement("li",{key:l.id,className:o},i.createElement(u.E,{as:"a",color:s?"text.accent.onDark.default":"text.neutral.secondary.default",fontWeight:n===l.id?"semibold":"normal",_hover:{color:s?"text.accent.onDark.default":"text.neutral.secondary.hovered"},className:d,role:"tab",tabIndex:"0","aria-selected":n===l.id,onClick:c,onKeyDown:c,"data-testid":`${l.id}-tab`,variant:{large:"body.l.default",medium:"body.m.default"}[a]},l.label))}_renderViewMore(e){const{isOpenDropDown:t,items:n,lastVisibleElementIndex:s}=this.state,m=(0,r.A)("navbar-item","navbar-dropdown",{"dropdown-active":t}),p=[];for(let t=e,a=n.length;t<a;t++)n[t].disabled||p.push(this._renderItem(t,!0));return i.createElement("li",{className:m,key:"viewmore_"+s},i.createElement(u.E,{as:"button",color:"text.neutral.secondary.default",_hover:{color:"text.neutral.secondary.hovered"},className:"navbar-link",type:"button","data-testid":"more_button",onClick:this._onToggleDropDown},(0,o.AP)("Plus"),t?a||(a=i.createElement(c.o,{marginStart:"5px",marginTop:"3px"})):l||(l=i.createElement(d.e,{marginStart:"5px",marginTop:"3px"}))),i.createElement("ul",{className:"dropdown-menu is-right"},p))}_onToggleDropDown(e){if(e.stopPropagation(),void 0!==e.keyCode&&13!==e.keyCode)return;const t=!this.state.isOpenDropDown;this.setState({isOpenDropDown:t}),t&&document.addEventListener("click",this._onClickOutsideDropDown,{once:!0,capture:!0})}_onItemClick(e,t){void 0!==t.keyCode&&13!==t.keyCode||(e.action&&e.action(e),this.setState({isOpenDropDown:!1}),s.A.trigger(s.A.navigation.tab_displayed,{type:e.id}))}_onResize(){let e=1/0,t=0,n=0;const a=this._navbarLinks.offsetWidth,l=this._linksWidth.entries();for(const[i,r]of l){if(t+=r,t>a){e=n;break}n=i}this.state.lastVisibleElementIndex!==e&&this.setState({lastVisibleElementIndex:e})}_getTabWidth(){this._linksWidth=[],Array.from(this._navbarLinks.childNodes).forEach(((e,t)=>{this._linksWidth[t]=e.getBoundingClientRect().width})),this._onResize()}}m.defaultProps={align:"left",textSize:"large"};const p=m},P4bz:(e,t,n)=>{n.d(t,{H:()=>l});var a=n("nKUr");const l=(0,n("QSQl").w)({displayName:"HumanPlusIcon",viewBox:"0 0 24 24",pathSmall:[(0,a.jsx)("path",{d:"M15.835 10V7.665H13.5v-1.33h2.335V4h1.33v2.335H19.5v1.33h-2.335V10h-1.33Z"}),(0,a.jsx)("path",{fillRule:"evenodd",d:"M9.208 8c-1.698 0-2.596.9-2.596 2.6 0 1.7.898 2.6 2.596 2.6 1.697 0 2.596-.9 2.596-2.6.1-1.7-.899-2.6-2.596-2.6Zm0 1.3c.998 0 1.298.3 1.298 1.2 0 .9-.3 1.2-1.298 1.2-.999 0-1.198-.2-1.198-1.1 0-.9.3-1.3 1.198-1.3Zm.1 4.7c-1.997 0-3.595.7-4.394 1.2-.3.2-.499.4-.599.7a7.153 7.153 0 0 1-.083.3c-.1.342-.216.742-.216 1.2-.094 1.13.255 1.995.462 2.509l.037.091h9.486c.2-.5.499-1.3.499-2.3 0-.582-.138-1.095-.242-1.48L14.2 16c-.1-.3-.3-.6-.599-.7-.798-.6-2.396-1.3-4.293-1.3Zm-.1 1.3c1.757 0 3.086.686 3.59.946l.104.054c.1.4.2.9.2 1.3 0 .3 0 .7-.1 1H5.414c-.1-.3-.1-.7-.1-1.1 0-.4.1-.8.2-1.1.698-.4 1.997-1.1 3.694-1.1Z",clipRule:"evenodd"})],pathMedium:[(0,a.jsx)("path",{d:"M18 1h2v3h3v2h-3v3h-2V6h-3V4h3V1Z"}),(0,a.jsx)("path",{fillRule:"evenodd",d:"M8 7c-2.2 0-3.5 1.2-3.5 3.4s1.3 3.4 3.5 3.4 3.5-1.2 3.5-3.4S10.2 7 8 7Zm0 2c1.3 0 1.5.5 1.5 1.4 0 .9-.2 1.5-1.5 1.5s-1.5-.5-1.5-1.4C6.5 9.6 6.7 9 8 9Zm0 6c-2.7 0-4.8 1-5.8 1.6-.335.167-.53.475-.702.747a7.626 7.626 0 0 1-.098.153c-.2.5-.4 1.2-.4 2-.1 1.6.4 2.8.7 3.4h12.7c.3-.6.7-1.7.6-3.1 0-.9-.2-1.7-.4-2.3-.1-.4-.4-.7-.8-1-1-.5-3.1-1.5-5.8-1.5Zm0 2c2.29 0 3.908.839 4.625 1.21l.175.09c.2.5.3 1.1.3 1.6 0 .4 0 .7-.1 1.1H3.1c-.1-.4-.1-.8-.1-1.3s.1-.9.3-1.4C4.1 17.8 5.8 17 8 17Z",clipRule:"evenodd"})]});l.defaultProps={fill:"currentColor",boxSize:"24px",display:"block","data-testid":"HumanPlusIcon"}},Q4xC:(e,t,n)=>{n.d(t,{m:()=>l});var a=n("nKUr");const l=(0,n("QSQl").w)({displayName:"ClockOutlinedIcon",viewBox:"0 0 24 24",pathSmall:[(0,a.jsx)("path",{d:"M11.335 8v4.275l3.195 3.195.94-.94-2.805-2.805V8h-1.33Z"}),(0,a.jsx)("path",{fillRule:"evenodd",d:"M4 12c0-5.138 2.862-8 8-8 5.137 0 8 2.862 8 8 0 5.137-2.863 8-8 8-5.138 0-8-2.863-8-8Zm1.333 0c0 4.424 2.243 6.667 6.667 6.667 4.424 0 6.667-2.243 6.667-6.667 0-4.424-2.243-6.667-6.667-6.667-4.424 0-6.667 2.243-6.667 6.667Z",clipRule:"evenodd"})],pathMedium:[(0,a.jsx)("path",{d:"M11 6v7.414l4.293 4.293 1.414-1.414L13 12.586V6h-2Z"}),(0,a.jsx)("path",{fillRule:"evenodd",d:"M1 12C1 4.936 4.936 1 12 1s11 3.936 11 11-3.936 11-11 11S1 19.064 1 12Zm2 0c0 5.972 3.028 9 9 9 5.972 0 9-3.028 9-9 0-5.972-3.028-9-9-9-5.972 0-9 3.028-9 9Z",clipRule:"evenodd"})]});l.defaultProps={fill:"currentColor",boxSize:"24px",display:"block","data-testid":"ClockOutlinedIcon"}},U47Q:(e,t,n)=>{n.d(t,{I:()=>l});var a=n("nKUr");const l=(0,n("QSQl").w)({displayName:"PauseFilledIcon",viewBox:"0 0 24 24",pathSmall:[(0,a.jsx)("path",{d:"M11.125 5v14H7.206a.848.848 0 01-.832-.72 39.734 39.734 0 01-.498-6.648c.017-2.261.217-4.24.481-5.908A.849.849 0 017.19 5h3.936ZM16.794 5c.41 0 .764.302.832.72a39.746 39.746 0 01.498 6.648 39.686 39.686 0 01-.481 5.908.849.849 0 01-.833.724H12.875V5h3.919Z"})],pathMedium:[(0,a.jsx)("path",{fillRule:"evenodd",d:"M3.77 21.18c.08.48.5.82.98.82h6.24V2H4.77c-.48 0-.9.34-.98.82-.45 2.57-.8 5.67-.8 9.25v.46c.03 3.33.35 6.23.77 8.65h.01ZM21 12.53c-.03 3.32-.35 6.22-.77 8.65h-.01c-.08.48-.5.82-.98.82H13V2h6.22c.48 0 .9.34.98.82.45 2.57.8 5.67.8 9.25v.46Z"})]});l.defaultProps={fill:"currentColor",boxSize:"24px",display:"block","data-testid":"PauseFilledIcon"}},WN1e:(e,t,n)=>{n.d(t,{R:()=>l});var a=n("nKUr");const l=(0,n("QSQl").w)({displayName:"ShuffleIcon",viewBox:"0 0 24 24",pathSmall:[(0,a.jsx)("path",{d:"M17.945 13.424a10.61 10.61 0 0 0-.415-.366l-.263-.227-.878 1.004.279.24c.11.093.196.166.373.329.372.344.67.628.971.93h-2.22a2.525 2.525 0 0 1-2.105-1.127L12.215 12l1.472-2.207a2.525 2.525 0 0 1 2.105-1.126h2.221c-.301.3-.599.584-.972.929-.177.163-.263.236-.373.33l-.279.239.878 1.004.263-.227c.123-.104.218-.184.415-.366a34.106 34.106 0 0 0 1.683-1.652 1.333 1.333 0 0 0 0-1.848 33.583 33.583 0 0 0-1.683-1.652 10.731 10.731 0 0 0-.415-.366l-.263-.227-.878 1.004.279.24c.11.093.196.165.373.329.372.343.67.628.971.93h-2.22a3.856 3.856 0 0 0-3.215 1.72l-1.163 1.744-1.163-1.744a3.856 3.856 0 0 0-3.215-1.72H4v1.333h3.036c.848 0 1.635.42 2.106 1.126L10.612 12l-1.47 2.207a2.525 2.525 0 0 1-2.106 1.126H4v1.334h3.036a3.855 3.855 0 0 0 3.215-1.72l1.163-1.745 1.163 1.744a3.856 3.856 0 0 0 3.215 1.72h2.221c-.301.3-.599.585-.972.93-.177.163-.263.236-.373.33l-.279.239.878 1.004.263-.227c.123-.104.218-.184.415-.366a34.106 34.106 0 0 0 1.683-1.652 1.333 1.333 0 0 0 0-1.848 33.517 33.517 0 0 0-1.683-1.652Z"})],pathMedium:[(0,a.jsx)("path",{d:"M9.26 16.42 11 13.8l1.74 2.62A5.776 5.776 0 0 0 17.56 19h2.21c-.45.45-.9.88-1.46 1.39-.27.25-.39.35-.56.49l-.42.36 1.32 1.51.39-.34c.18-.16.33-.28.62-.55.98-.9 1.61-1.53 2.52-2.48.74-.78.74-1.99 0-2.77-.91-.95-1.55-1.58-2.52-2.48-.3-.27-.44-.39-.62-.55l-.39-.34-1.32 1.51.42.36c.17.14.29.25.56.49.56.52 1 .94 1.46 1.39h-2.21c-1.27 0-2.45-.63-3.16-1.69l-2.21-3.31 2.21-3.31a3.795 3.795 0 0 1 3.16-1.69h2.21c-.45.45-.9.88-1.46 1.39-.27.25-.39.35-.56.49l-.42.36 1.32 1.51.39-.34c.18-.16.33-.28.62-.55.98-.9 1.61-1.53 2.52-2.48.74-.78.74-1.99 0-2.77-.91-.95-1.55-1.58-2.52-2.48-.3-.27-.44-.39-.62-.55l-.39-.34-1.32 1.51.42.36c.17.14.29.25.56.49.56.52 1 .94 1.46 1.39h-2.21c-1.94 0-3.74.96-4.82 2.58L11 10.18 9.26 7.56a5.776 5.776 0 0 0-4.82-2.58H1v2h3.43c1.27 0 2.45.63 3.16 1.69l2.21 3.31-2.21 3.31a3.795 3.795 0 0 1-3.16 1.69H1v2h3.43c1.94 0 3.74-.96 4.82-2.58l.01.02Z"})]});l.defaultProps={fill:"currentColor",boxSize:"24px",display:"block","data-testid":"ShuffleIcon"}},XLml:(e,t,n)=>{n.d(t,{A:()=>p});var a=n("+9dH"),l=n("q1tI"),i=n("fSLK"),r=n("pkJ8"),o=n("TRpf"),s=n("xobL"),d=n("a9NY");const c=(e,t,n=150)=>{const a=l.useRef(null),{height:i}=(0,d.A)(),c=(0,o.d4)((e=>(0,s.iJ)(e.user)));return l.useEffect((()=>{const a=(0,r.A)((n=>{n.stopPropagation(),(()=>{const{y:n=0}=t.current?t.current.getBoundingClientRect():{},a=n+window.scrollY;e.current&&a>0&&e.current.scrollTo(window.pageYOffset-a)})()}),n);return document.addEventListener("scroll",a,{passive:!0}),()=>{a.cancel(),document.removeEventListener("scroll",a)}})),{direction:c,outerRef:a,height:i||0,style:{overflow:"hidden",height:"100%"},width:"100%"}};var u=n("1Pdy");const m=l.forwardRef((({children:e,items:t,onItemsRendered:n,rowHeight:r=u.F4.md,tableRef:o},s)=>{const d=l.useRef(null),m=c(d,o);return l.createElement(i.Y1,(0,a.A)({},m,{onItemsRendered:n,itemSize:r,itemCount:t.toDisplay.length,itemData:t,ref:e=>{"function"==typeof s&&s(e),d.current=e}}),e)}));m.displayName="list";const p=m},a9NY:(e,t,n)=>{n.d(t,{A:()=>l});var a=n("q1tI");function l(){const e="object"==typeof window,[t,n]=(0,a.useState)({width:e?window.innerWidth:void 0,height:e?window.innerHeight:void 0});return(0,a.useEffect)((()=>{if(!e)return()=>{};const t=()=>{n({width:e?window.innerWidth:void 0,height:e?window.innerHeight:void 0})};return window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)}),[]),t}},iphN:(e,t,n)=>{n.d(t,{A:()=>re});var a=n("q1tI"),l=n("M3gt"),i=n("Q4xC"),r=n("CdHq"),o=n("iiSH"),s=n("AfN5"),d=n("STEc");const c=n("DjLa").WR.PLAYLIST,u={TITLE:{SIZE:d.uq.Full},ARTIST:{SIZE:d.uq.PercentXs},PARENT:{BREAKPOINT:d.x1.md,SIZE:d.uq.PercentXs},DATE:{BREAKPOINT:d.x1.md,SIZE:d.uq.xl},DURATION:{SIZE:d.uq.sm},POPULARITY:{BREAKPOINT:d.x1.xl,SIZE:d.uq.sm},SELECT:{ALIGN:d.uP.Right,SIZE:d.uq.sm}};var m,p,h,A,E=n("xCFc"),f=n("kSle"),I=n("xLtY"),y=n("BP9I"),b=n("1Uwb"),g=n("XLml"),v=n("fSLK"),S=n("lXQd"),_=n("o+h5"),x=n("0JBE"),R=n("/G5K"),P=n("pQlO"),w=n("0oF4"),T=n("r4LN"),L=n("wkd/"),C=n("PJQK"),k=n("+UU7"),D=n("tgyz"),N=n("Wp0Y"),O=n("CxZw"),z=n("5G9X"),Z=n("SehT"),B=n("X/h3");const M=(0,a.memo)((0,x.S2)((({data:e,index:t,style:n})=>{const{context:l,container:i,loadingStatus:r,isOrderable:o,lastSeen:s,shouldExplicitBeHidden:d}=(0,E.$A)(),{playerStatus:c,play:f,isItemLoadedInPlayer:I}=(0,D.A)(l,i,r.isFullyFetched),{onRemoveTrack:y,onReplaceTrack:g}=(0,k.A)(i.id),v=e.toDisplay[t],x=v.item.hasExplicitLyrics&&d,M=(0,a.useCallback)(((t,n)=>{f({playIndex:n,playItems:e.toPlay,isTrackActive:t})}),[e.toPlay,f]),U=(0,a.useCallback)((t=>{f({notify:!1,playIndex:t,playItems:e.toPlay,playLyrics:!0})}),[e.toPlay,f]);return a.createElement(b.A.Row,{style:n,uuid:v.uuid,id:v.item.id,index:v.index,isActive:I(v.item)&&c.isSameContext,isOrderable:o,isReadable:v.item.right===O.A.READABLE,isRestrictedByExplicit:x,isUnseen:(0,B.g)(s,v.item.date),type:v.item.type,isDraggable:!0},a.createElement(C.A,{size:u.TITLE.SIZE},a.createElement(C.A.Play,{ariaLabel:(0,N.AP)("generic_action_playsongXbyartistX_web",{sprintf:[v.item.title,(0,S.A)(v,"item.artists[0].name","")]}),hasExplicitCover:v.item.parent.hasExplicitCover,onPlayItems:M,pictureUrl:v.item.cover(_.r4).url}),m||(m=a.createElement(C.A.Unseen,null)),p||(p=a.createElement(C.A.Download,null)),a.createElement(C.A.PlayableLabel,{hasExplicitLyrics:v.item.hasExplicitLyrics,label:v.item.title,onPlayItems:M,tooltipText:(0,Z.Y)(v.item,d)}),a.createElement(b.A.IconGroup,null,a.createElement(C.A.OpenReplaceItem,{item:v.item,onReplaceTrack:g,onRemoveTrack:y}),a.createElement(C.A.ShowLyrics,{item:v.item,lyricsId:v.item.lyricsId,onPlayLyrics:U}),h||(h=a.createElement(C.A.AddToFavorite,null)),a.createElement(C.A.OpenContextMenu,{item:v.item}))),a.createElement(b.A.CellBody,{size:u.ARTIST.SIZE},a.createElement(T.A,{links:v.item.artists.map((e=>({...e,type:z.Ay.Artist})))})),a.createElement(b.A.CellBody,{breakpoint:u.PARENT.BREAKPOINT,size:u.PARENT.SIZE},a.createElement(T.A,{links:[{...v.item.parent,type:z.Ay.Album}]})),a.createElement(b.A.CellBody,{breakpoint:u.DATE.BREAKPOINT,size:u.DATE.SIZE},a.createElement(R.A,{date:1e3*v.item.date})),a.createElement(b.A.CellBody,{size:u.DURATION.SIZE},a.createElement(P.A,{duration:v.item.duration})),a.createElement(b.A.CellBody,{breakpoint:u.POPULARITY.BREAKPOINT,size:u.POPULARITY.SIZE},a.createElement(w.A,{rank:v.item.popularity})),a.createElement(b.A.CellBody,{align:u.SELECT.ALIGN,size:u.SELECT.SIZE},A||(A=a.createElement(L.A,null))))}),(({index:e,data:t})=>({item:z.Ay.Track,itemIndex:e,itemId:t.toDisplay[e].item.id}))),v.t7);var U,H=n("7Gye"),Y=n("pVdW"),F=n("TRpf"),K=n("+dDc"),W=n("nxAS"),V=n("/uRm");const q=({playlistId:e})=>{const{IS_PERSONAL:t,IS_COLLABORATIVE:n,IS_LOVETRACKS:l}=(0,F.d4)((t=>(0,K.lS)(t.entities,{id:e,currentUserId:t.user.id}))),i=(0,F.wA)();return e?!t&&!n||l?null:a.createElement(r.s,{role:"button",gap:"spacing.s",alignItems:"center",padding:"spacing.s",onClick:()=>{i((0,W.J2)({name:V.F.PLAYLIST_ASSISTANT,data:{playlistId:e,hideLogo:!0}}))},_hover:{bg:"background.neutral.tertiary.hovered",cursor:"pointer"},bg:"background.neutral.primary.default"},a.createElement(r.s,{alignItems:"center",justifyContent:"center",bg:"background.neutral.tertiary.default",borderRadius:"2xs",height:`${_.r4.height}px`,width:`${_.r4.width}px`},U||(U=a.createElement(H.c,{color:"icon.neutral.secondary.default"}))),a.createElement(Y.E,{variant:"body.s.default",paddingX:"spacing.s",_hover:{textDecoration:"underline"}},(0,N.AP)("playlistpage_action_addtracks_web"))):null};var j,Q,G,X,J,$=n("ZH8F"),ee=n("dalA"),te=n("3AbJ"),ne=n("ftFY"),ae=n("7u2F"),le=n("EBWn"),ie=n("tZCQ");const re=({context:e,hasFilter:t=!0,isFullyFetched:n,isPersonalFavoritesSongs:d=!1,items:m,lastSeen:p,nextFetchDataIndex:h,onFetch:A,onReorder:v,options:S=[],playlistId:_,shouldExplicitBeHidden:x=!1,total:R})=>{const P={id:_,type:s.Kk.PLAYLIST},w=(0,a.useRef)(null),{loadingStatus:T,fetchNext:L,fetchAll:C}=(0,te.A)(A,_,n,h,e,o.XQ),{manageItems:k,tableItems:O}=(0,ne.A)(_,m,e,{fetchAll:C,sortStorageKey:c}),{playerStatus:z,play:Z}=(0,D.A)(e,P,n),B=(0,le.A)(_,O,e,v),U=(0,ae.A)(O,e,C);(0,ee.A)($.g.PLAY,(()=>{Z({playItems:O.toPlay})}),e),(0,ee.A)($.g.FILTER,(e=>{t||k.action.filter(e.query||"")}),e);const H=(0,E.Ay)({container:P,context:e,options:S,isPersonalFavoritesSongs:d,lastSeen:p,loadingStatus:T,manageItems:k,order:B,playerStatus:z,select:U,shouldExplicitBeHidden:x});return a.createElement(E.ru,{value:H},!d&&t?a.createElement(r.s,{alignItems:"center",mt:"spacing.xl",mb:"spacing.2xl"},a.createElement(f.A,{playlistId:_,context:e}),j||(j=a.createElement(r.s,{justifyContent:"flex-end",ms:"auto"},a.createElement(I.A,null)))):t&&(Q||(Q=a.createElement(I.A,null))),a.createElement(b.A,{tableRef:w,rowCount:R},a.createElement(b.A.Header,null,a.createElement(b.A.CellHead,{size:u.TITLE.SIZE,sortPath:"item.title"},(0,N.AP)("datagrid_title_trackUPP_web")),a.createElement(b.A.CellHead,{size:u.ARTIST.SIZE,sortPath:"item.artist.name"},(0,N.AP)("datagrid_title_artistUPP_web")),a.createElement(b.A.CellHead,{breakpoint:u.PARENT.BREAKPOINT,size:u.PARENT.SIZE,sortPath:"item.parent.name"},(0,N.AP)("datagrid_title_albumUPP_web")),a.createElement(b.A.CellHead,{breakpoint:u.DATE.BREAKPOINT,size:u.DATE.SIZE,sortPath:"item.date"},(0,N.AP)("datagrid_title_addedtrackUPP_web")),a.createElement(b.A.CellHead,{ariaLabel:(0,N.AP)("sortingmenu_title_duration_web"),size:u.DURATION.SIZE,sortPath:"item.duration"},G||(G=a.createElement(i.m,null))),a.createElement(b.A.CellHead,{breakpoint:u.POPULARITY.BREAKPOINT,size:u.POPULARITY.SIZE,sortPath:"item.popularity"},a.createElement("span",null,(0,N.AP)("datagrid_title_popularityabbrevUPP_web"))),a.createElement(b.A.CellHead,{align:u.SELECT.ALIGN,size:u.SELECT.SIZE},a.createElement(y.A,{rowCount:O.toDisplay.length}))),a.createElement(b.A.Body,null,!ie.A.isAllowed("playlist_assistant_end_of_tracklist")&&a.createElement(q,{playlistId:_}),a.createElement(l.A,{isItemLoaded:e=>e<m.length-o.Hs,itemCount:O.toDisplay.length,loadMoreItems:L,threshold:o.Hs},(({onItemsRendered:e,ref:t})=>a.createElement(g.A,{onItemsRendered:e,tableRef:w,items:O,ref:t},M))),X||(X=a.createElement(b.A.RowLoader,null)))),0===O.toDisplay.length&&(J||(J=a.createElement(b.A.EmptyContent,null))))}},kSle:(e,t,n)=>{n.d(t,{A:()=>O});var a,l=n("q1tI"),i=n("TRpf"),r=n("Jfek"),o=n("+dDc"),s=n("xobL"),d=n("5G9X"),c=n("1h7S"),u=n("9MQu"),m=n("rOn+"),p=n("KJ1h"),h=n("TqF5"),A=n("Wp0Y"),E=n("HmE0"),f=n("ZUSG"),I=n("N67Q"),y=n("aoCz"),b=n("A2sV");const g=()=>{const{id:e,isEditable:t}=l.useContext(c.PK),n=(0,i.wA)(),[r]=(0,b.Y1z)({variables:{playlistId:e}});return t?l.createElement(I.A,null,l.createElement(E.K0,{"aria-haspopup":!0,"aria-label":(0,A.AP)("generic_action_edit_web"),icon:a||(a=l.createElement(f.r,null)),onClick:()=>{n((0,h.qf)({name:"PLAYLIST_ASSISTANT",props:{type:y.F.EDITION,playlistId:e},background:"background.neutral.primary.default"}))},variant:"ghost",onMouseOver:()=>r()})):null};var v=n("Ye48"),S=n("Eiyd"),_=n("C53p"),x=n("D/zM"),R=n("+pY+");const P=class{constructor(e){this._counter=void 0,this._counter=new x.A({id:R.Ps.LAUNCH_MUSICQUIZ_FROM_PLAYLIST_PAGE,tags:e})}log(){this._counter.increment(),this._counter.send()}};var w,T=n("tZCQ"),L=n("BVS8"),C=n("NgX8"),k=n("GkjM");const D=()=>{var e;const{id:t,context:n}=(0,l.useContext)(c.PK),{data:a}=(0,b.Hi1)({variables:{playlistId:t}});return null!=a&&null!==(e=a.playlist)&&void 0!==e&&e.isBlindTestable?!1===T.A.isAllowed("contextual_menu_blindtest")?null:l.createElement(I.A,null,l.createElement(C.m,{label:(0,A.AP)("contextualmenu_title_playXfeaturename_web"),"aria-label":(0,A.AP)("contextualmenu_title_playXfeaturename_web")},l.createElement(E.K0,{as:k.A,to:`/game/blindtest/playlist/${t}?context=${n.TYPE}`,"aria-haspopup":!0,"aria-label":(0,A.AP)("contextualmenu_title_playXfeaturename_web"),icon:w||(w=l.createElement(L.Q,null)),onClick:()=>{new P({playlist_id:t}).log()},variant:"ghost"}))):null};var N;const O=({playlistId:e,context:t,isSponsored:n=!1})=>{const a=(0,i.d4)((t=>(0,o.lS)(t.entities,{id:e,currentUserId:t.user.id}))),h=(0,i.d4)((e=>(0,s.Jt)(e.user))),A=(0,c.Ay)({containerData:a,context:t,id:e,isDownloadable:h,isEditable:a.IS_PERSONAL,isLoveable:!a.IS_PERSONAL,isShareable:!a.IS_PRIVATE,isSponsored:n,type:d.Ay.Playlist,shareType:r.Gb.playlist});return l.createElement(c.PK.Provider,{value:A},N||(N=l.createElement(u.e,{size:"medium",gap:"spacing.xs",spacing:0,"data-testid":"toolbar"},l.createElement(S.A,null),l.createElement(l.Suspense,{fallback:null},l.createElement(m.A,null),l.createElement(g,null),l.createElement(_.A,null),l.createElement(D,null),l.createElement(p.A,null),l.createElement(v.A,null)))))}},"rOn+":(e,t,n)=>{n.d(t,{A:()=>s});var a=n("q1tI"),l=n("0oT0"),i=n("N67Q"),r=n("1h7S"),o=n("cFUB");const s=()=>{const{context:e,id:t,isLoveable:n,isSponsored:s,type:d}=a.useContext(r.PK);return n?a.createElement(i.A,null,a.createElement(l.A,{action:o.Hj.FAVORITE,color:!0===s?o.cW.LIGHT:o.cW.DEFAULT,context:e,id:t,type:d})):null}},"x4+n":(e,t,n)=>{n.d(t,{E:()=>r});var a=n("Wp0Y"),l=n("3nMj"),i=n("iiSH");const r=(e,t)=>{if(Number.isNaN(e))return i.fs;const n=new Date(1e3*t),r=n.getDate(),o=new Date(1e3*t-864e5).getDate(),s=n.getMonth(),d=n.getFullYear(),c=new Date(e),u=c.getDate(),m=c.getMonth(),p=c.getFullYear();return r===u&&s===m&&d===p?(0,a.AP)("masthead_title_today_web"):o===u&&s===m&&d===p?(0,a.AP)("generic_title_yesterday_web"):(0,l.A)(e)}},xLtY:(e,t,n)=>{n.d(t,{A:()=>c});var a=n("q1tI"),l=n("kSUS"),i=n("lXQd"),r=n("Wp0Y"),o=n("Z9kq"),s=n("CdHq"),d=n("xCFc");const c=({placeholder:e=(0,r.AP)("search_action_searchwithintracks_web")})=>{const{manageItems:t,loadingStatus:n}=a.useContext(d.Gt);if(!t||"function"!=typeof t.action.filter)return null;const c=(0,l.A)((e=>{t.action.filter((0,i.A)(e,"target.value",""))}),500);return a.createElement(s.s,{flex:"1",ms:"spacing.m",my:0,w:{md:"375px",base:"320px"}},a.createElement(o.D,{isDisabled:n.isLoadingAll,onChange:c,size:"medium",placeholder:e}))}}}]);