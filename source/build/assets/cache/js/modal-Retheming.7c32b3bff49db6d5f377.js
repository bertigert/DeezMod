"use strict";(self.webpackJsonpDeezer=self.webpackJsonpDeezer||[]).push([[3566],{"5QL7":(e,t,a)=>{a.d(t,{I:()=>o,c:()=>c});var n=a("q1tI"),r=a("TDRX"),l=a("CdHq");const o=({children:e})=>n.createElement(l.s,{direction:"row",align:"center",gap:"spacing.m",mb:"spacing.m"},e),c=({color:e="background.neutral.secondary.default",bgGradient:t,onClick:a,selected:l})=>n.createElement(r.a,{as:"button",onClick:a,boxSize:"size.l",padding:l?"spacing.xs":void 0,transition:"padding 0.2s ease-in",_hover:{padding:"spacing.xs","& > div":{outlineColor:"border.neutral.primary.default",border:"transparent"},"& > div:after":{content:"none"}},"data-testid":"customise_color_button"},n.createElement(r.a,{bgColor:e,bgGradient:t,borderRadius:"rounded",outline:"2px solid transparent",outlineOffset:"2px",outlineColor:l?"border.accent.primary.default":void 0,transition:"outline-color 0.2s ease-in",width:"100%",height:"100%",position:"relative",sx:l?void 0:{"&:after":{content:'""',position:"absolute",top:0,left:0,width:"100%",height:"100%",borderRadius:"rounded",outline:"1px solid",outlineOffset:"-1px",outlineColor:"border.neutral.primary.default",backgroundColor:"transparent",opacity:.2}}}))},"86Bo":(e,t,a)=>{a.d(t,{A:()=>m});var n=a("+9dH"),r=a("q1tI"),l=a("HmE0"),o=a("CdHq"),c=a("pVdW");const i=({children:e,...t})=>r.createElement(l.K0,(0,n.A)({"aria-label":"tool-icon",bgColor:"background.neutral.secondary.default",boxSize:"size.xl",variant:"ghost"},t),e);i.displayName="ToolIcon";const s=({children:e,...t})=>r.createElement(c.E,(0,n.A)({variant:"body.default.2xs",color:"text.neutral.primary.default"},t),e);s.displayName="ToolLabel";const d=r.forwardRef(({children:e,...t},a)=>r.createElement(o.s,(0,n.A)({direction:"column",alignItems:"center",gap:"spacing.s",ref:a},t),e));d.displayName="Tool",d.Icon=i,d.Label=s;const m=d},LTto:(e,t,a)=>{a.d(t,{A:()=>_});var n=a("WKgy"),r=a("+9dH"),l=a("q1tI"),o=a("TRpf"),c=a("Zlrv"),i=a("TqF5"),s=a("Wp0Y");const d=({onClick:e,...t})=>{const a=(0,o.wA)();return l.createElement(c.s_,(0,r.A)({id:"modal-close",onClick:t=>{null==e||e(t),a((0,i.Oo)())},"aria-label":(0,s.AP)("Fermer")},t))};d.displayName="Close";const m=d;var u,p=a("9yOc"),g=a("jiu+"),E=a("LSdk"),b=a("PBDT"),f=a("juqV"),y=a("CV49");var h=a("nHPd");n.A.addReducers({modal:i.Ay});const _={Close:m,Layout:function({children:e}){return p.A.is("mobile")||p.A.is("tablet")?l.createElement(c.aF,{isOpen:!0,size:"full"},l.createElement("div",{className:"modal-container"},l.createElement("div",{className:"modal-dialog modal-small"},u||(u=l.createElement("div",{className:"modal-header-partner"},l.createElement("span",{className:"cell"},l.createElement(g.QQ,null,l.createElement(E.T,null))))),e))):l.createElement(c.aF,{isOpen:!0,size:"full"},l.createElement(b.o,{flexDirection:"column",mt:"spacing.3xl"},e))},Body:e=>l.createElement(y.c,(0,r.A)({"data-testid":"modal_body",className:(0,f.A)("modal-body",e.className)},e),e.children),Header:({children:e,...t})=>l.createElement(h.r,(0,r.A)({"data-testid":"modal_header"},t),e),Footer:({children:e,...t})=>l.createElement(c.jl,t,e)}},dPA2:(e,t,a)=>{a.d(t,{A:()=>c});var n=a("q1tI"),r=a("DLHJ"),l=a("TDRX"),o=a("hBc1");const c=({children:e,isDark:t,selectedTone:a})=>{const c=(0,o.D)(),i=(null==c?void 0:c.__cssVarPrefix)||"tempo",s=(0,n.useMemo)(()=>function(e,t){if(!e)return{};const a=r.Ge[e];if(!a)return{};const n={},l=(e,a)=>{Object.entries(a).forEach(([a,r])=>{n[`--${t}-colors-${e}-${a}`]=r})};return l("lightPrimary",a.colors.lightPrimary),l("darkPrimary",a.colors.darkPrimary),l("neutralPrimary",a.colors.neutralPrimary),n}(a,i),[a,i]),d=a&&["acid","auroraBlaze"].includes(a)||t?"dark":"light";let m=s;return!!a&&["blue","orange","acid","auroraBlaze","midnightOrchid"].includes(a)&&"dark"===d&&(m={...s,"--tempo-colors-icon-accent-onDark-default":"var(--tempo-colors-icon-accent-onLight-default)","--tempo-colors-background-accent-onDark-default":"var(--tempo-colors-background-accent-onLight-default)"}),n.createElement(l.a,{"data-theme":d,style:m,overflow:"hidden"},e)}},m4yX:(e,t,a)=>{a.d(t,{V:()=>m,r:()=>u});var n,r,l=a("q1tI"),o=a("TDRX"),c=a("CdHq"),i=a("KoOM"),s=a("xLNB"),d=a("dPA2");const m=({color:e})=>l.createElement(c.s,{position:"relative"},n||(n=l.createElement(i.G,{size:"medium",color:"icon.neutral.primary.default"})),l.createElement(s.Z,{size:"medium",color:e,position:"absolute",top:0,left:0})),u=({isDark:e,selectedTone:t,bgGradient:a})=>l.createElement(c.s,{position:"relative"},r||(r=l.createElement(i.G,{size:"medium",color:"icon.neutral.primary.default"})),l.createElement(d.A,{isDark:e,selectedTone:t,resetCSS:!1},l.createElement(c.s,{position:"absolute",top:0,left:0,w:"100%",h:"100%",alignItems:"center",justifyContent:"center"},l.createElement(o.a,{bgGradient:a,w:"14px",h:"14px",borderRadius:"rounded"}))))},qUID:(e,t,a)=>{a.r(t),a.d(t,{Retheming:()=>Be,default:()=>Re});var n,r,l=a("q1tI"),o=a("TRpf"),c=a("TqF5"),i=a("xobL"),s=a("Wp0Y"),d=a("dPin"),m=a("fkXJ"),u=a("LOQS"),p=a("CdHq"),g=a("pVdW"),E=a("LTto"),b=a("RQNg"),f=a("Ti9p"),y=a("HmE0"),k=a("9vg6"),h=a("yJYf"),x=a("y7xR"),v=a("L57E"),_=a("Ozd+"),C=a("jzy2");const A=({name:e,onThemeChange:t,currentTheme:a})=>{const o=a===e;return l.createElement(p.s,{as:"button",flexDir:"column",h:"80px",w:"80px",gap:"8px",borderRadius:"xs",justifyContent:"center",alignItems:"center",onClick:()=>{t(e)},backgroundColor:o?"background.neutral.primary.selected":"background.neutral.tertiary.default",border:o?"1px solid":"null",borderColor:o?"border.accent.primary.default":"null"},"dark"===e?n||(n=l.createElement(_.b,{size:"medium"})):r||(r=l.createElement(C._,{size:"medium"})),l.createElement(g.E,{variant:"heading.xs",color:o?"text.neutral.primary.default":"text.neutral.secondary.default"},"dark"===e?(0,s.AP)("displaysettings_title_dark_web"):(0,s.AP)("displaysettings_title_light_web")))};var T=a("tZCQ"),w=a("aIaO"),P=a("TDRX"),D=a("5QL7"),S=a("86Bo"),I=a("m4yX"),z=a("jCk4"),B=a("dPA2");const R=["blue","lava","magenta","orange","purple","acid","auroraBlaze","midnightOrchid"],O={blue:{tokenTop:"background.accent.primary.default",tokenBottom:"background.accent.primary.default"},lava:{tokenTop:"background.accent.primary.default",tokenBottom:"background.accent.primary.default"},magenta:{tokenTop:"background.accent.primary.default",tokenBottom:"background.accent.primary.default"},orange:{tokenTop:"background.accent.primary.default",tokenBottom:"background.accent.primary.default"},purple:{tokenTop:"background.accent.primary.default",tokenBottom:"background.accent.primary.default"},acid:{tokenTop:"background.accent.primary.default",tokenBottom:"background.accent.primary.default"},auroraBlaze:{tokenTop:"#140026",tokenBottom:"#FA6238"},midnightOrchid:{tokenTop:"#c01fc2",tokenBottom:"#f483fc"}},N=(e,t)=>t&&R.includes(t)?t:null!=e&&e.accentIdentifier&&R.includes(e.accentIdentifier)?e.accentIdentifier:"purple",q=e=>O[e],H=({onColorSelect:e,selectedTone:t,isDark:a})=>{const{palette:n,hasPalettePermission:r}=(0,z.w)();if(!r||!T.A.isAllowed("feature_2025_accent_color"))return null;const o=N(n,t),{tokenTop:c,tokenBottom:i}=q(o);return l.createElement(b.A,{placement:"left-start"},l.createElement(f.W,null,l.createElement(S.A,null,l.createElement(S.A.Icon,{boxSize:"56px"},l.createElement(I.r,{isDark:a,selectedTone:o,bgGradient:`linear(315deg, ${c} 0%, ${c} 50%, ${i} 50%)`})),l.createElement(S.A.Label,null,(0,s.AP)("playlistcover_title_color_web")))),l.createElement(k.h,{p:"spacing.l",gap:"spacing.m",width:"fit-content"},l.createElement(x.D,{variant:"heading.xs"},(0,s.AP)("playlistcover_title_color_web")),l.createElement(w.x,{templateColumns:"repeat(4, 2fr)",gap:"spacing.m"},R.map(n=>{const{tokenTop:r,tokenBottom:c}=q(n);return l.createElement(P.a,{key:n},l.createElement(B.A,{isDark:a,resetCSS:!1,selectedTone:n},l.createElement(D.c,{bgGradient:`linear-gradient(315deg, ${r} 0%, ${r} 50%, ${c} 50%)`,onClick:()=>e(n),selected:(t||o)===n})))}))))};var G,J=a("+9zR");const W=({onThemeChange:e,currentTheme:t,onColorSelect:a,selectedTone:n})=>{const r=!(0,J.J)(n);return l.createElement(p.s,{direction:"column",borderStart:"1px solid",borderStartColor:"border.neutral.primary.default",p:"spacing.2xl",gap:"spacing.l"},l.createElement(H,{onColorSelect:a,selectedTone:n,isDark:"dark"===t}),l.createElement(b.A,{placement:"left-start"},l.createElement(p.s,{flexDirection:"column",gap:"spacing.xs",alignItems:"center"},l.createElement(f.W,null,l.createElement(y.K0,{px:"spacing.l",py:"spacing.l",backgroundColor:"background.neutral.secondary.default","aria-label":"{\\`Theme\\`}",size:"medium",icon:G||(G=l.createElement(v.V,null)),variant:"ghost",_hover:{bg:"background.neutral.secondary.hovered"},disabled:!r})),l.createElement(g.E,{color:r?"currentColor":"text.neutral.secondary.disabled"},(0,s.AP)("displaysettings_title_theme_web"))),l.createElement(k.h,{w:"fit-content"},l.createElement(h.e,{backgroundColor:"background.neutral.secondary.default",borderRadius:"s"},l.createElement(p.s,{direction:"column",gap:"spacing.m",justifyContent:"flex-end"},l.createElement(x.D,{variant:"heading.xs"},(0,s.AP)("displaysettings_title_theme_web")),l.createElement(p.s,{justifyContent:"center",gap:"12px"},l.createElement(A,{name:"dark",currentTheme:t,onThemeChange:e}),l.createElement(A,{name:"light",currentTheme:t,onThemeChange:e})))))))};var $=a("o/QY"),F=a("+9dH");const M=e=>l.createElement(P.a,(0,F.A)({backgroundColor:"background.neutral.tertiary.default",borderRadius:"2xs"},e)),Q=e=>l.createElement(M,(0,F.A)({w:"spacing.m",h:"spacing.m",margin:"spacing.m"},e)),Z=e=>l.createElement(M,(0,F.A)({w:"148px",h:"spacing.l"},e)),U=M;var V;const K=()=>V||(V=l.createElement(p.s,{justifyContent:"center",alignItems:"center"},l.createElement(U,{w:"spacing.m",h:"spacing.m",backgroundColor:"background.neutral.tertiary.hovered"}),l.createElement(U,{h:"spacing.s",w:"54px",ms:"spacing.s",backgroundColor:"background.neutral.tertiary.hovered"})));var X;const Y=()=>X||(X=l.createElement(p.s,{backgroundColor:"background.neutral.tertiary.default",flexDir:"column",p:"spacing.m",alignItems:"center"},l.createElement(g.E,{variant:"display.2xl",color:"background.neutral.tertiary.pressed",fontWeight:"extrabold",letterSpacing:"0.5px"},"DEEZER"),l.createElement(p.s,{gap:"spacing.m",flexDir:"column"},l.createElement(p.s,{justifyContent:"center",alignItems:"center",paddingTop:"spacing.l"},l.createElement($.Y,{color:"icon.neutral.primary.selected",size:"small",marginStart:"-4px",marginBottom:"-4px",transform:"scale(0.8)"}),l.createElement(U,{h:"spacing.s",w:"54px",ms:"spacing.2xs",backgroundColor:"background.accent.primary.default",opacity:"40%"})),l.createElement(K,null),l.createElement(K,null))));var ee,te,ae=a("1m5e"),ne=a("AlG7");const re=e=>l.createElement(p.s,{gap:"spacing.m",alignItems:"center"},ee||(ee=l.createElement(Z,{h:"spacing.m"})),l.createElement(Z,(0,F.A)({h:"spacing.s"},e)),te||(te=l.createElement(ne.C,{marginStart:"spacing.s",color:"icon.accent.primary.default",transform:"scale(0.7)"})));var le,oe,ce,ie,se,de=a("WN1e"),me=a("dFIf"),ue=a("pj9K"),pe=a("AfR/");const ge=()=>l.createElement(p.s,{gap:"spacing.s",justifyContent:"center",marginTop:"spacing.s",transform:"scale(0.7)",alignItems:"center",style:{direction:"ltr"}},le||(le=l.createElement(de.R,{size:"small",color:"icon.neutral.tertiary.disabled"})),oe||(oe=l.createElement(me.U,{size:"small",color:"icon.neutral.tertiary.disabled"})),ce||(ce=l.createElement(P.a,{display:"flex",borderRadius:"3xl",p:"spacing.xs ",backgroundColor:"background.accent.primary.default"},l.createElement(ae.S,{color:"background.accent.onDark.default"}))),ie||(ie=l.createElement(ue.K,{size:"small",color:"icon.neutral.tertiary.disabled"})),se||(se=l.createElement(pe.H,{size:"small",color:"icon.neutral.tertiary.disabled"})));var Ee=a("siwx");const be=a.p+"src/components/Modal/components/DisplayThemeSettings/SkeletonPreview/pumpkinAssets/pumpkinOn.15d5af9ffca112dac5dc.svg",fe=a.p+"src/components/Modal/components/DisplayThemeSettings/SkeletonPreview/pumpkinAssets/pumpkinOff.1adc968ea3fae83e5b89.svg",ye=()=>{const[e,t]=(0,l.useState)(!1),a=(0,l.useRef)(null),n=[300,150,150,150,150,150,150,150,300,300,150,150,150,150,150,150,300,150,600,600,600,600];return(0,l.useEffect)(()=>{let e=0;const r=()=>{t(e=>!e);const l=n[e%n.length];e++,a.current=setTimeout(r,l)};return r(),()=>{a.current&&clearTimeout(a.current)}},[]),l.createElement(Ee._,{src:e?be:fe,alt:"pumpkin icon"})};var ke,he,xe,ve,_e;const Ce=({currentTone:e})=>l.createElement(p.s,{flexDir:"column",backgroundColor:"background.neutral.secondary.default",p:"spacing.2xl",paddingBottom:"spacing.s"},l.createElement(p.s,{alignItems:"center",flexDir:"row",w:"378px",h:"112px"},l.createElement(U,{w:"112px",h:"112px"},"auroraBlaze"===e&&(ke||(ke=l.createElement(ye,null)))),he||(he=l.createElement(p.s,{paddingLeft:"spacing.s",flexDir:"column",marginStart:"spacing.s"},l.createElement(U,{w:"175px",h:"spacing.xl",marginBottom:"spacing.m"}),l.createElement(p.s,{alignItems:"center"},l.createElement(U,{w:"spacing.l",h:"spacing.l",borderRadius:"3xl",marginEnd:"spacing.s"}),l.createElement(U,{w:"64px",h:"spacing.l"}))))),xe||(xe=l.createElement(p.s,{marginTop:"spacing.s",alignItems:"center"},l.createElement(p.s,{backgroundColor:"background.accent.primary.default",borderRadius:"md",w:"68px",h:"spacing.xl",alignItems:"center",p:"spacing.xs"},l.createElement(ae.S,{size:"small",color:"icon.accent.onDark.default"}),l.createElement(U,{backgroundColor:"background.accent.onDark.default",opacity:"30%",w:"spacing.2xl",h:"spacing.s"})),l.createElement(Q,null),l.createElement(Q,null),l.createElement(Q,null))),ve||(ve=l.createElement(p.s,{marginTop:"spacing.l",justifyContent:"flex-start",flexDir:"column"},l.createElement(re,null),l.createElement(re,null))),_e||(_e=l.createElement(ge,null)));var Ae;const Te=({previewTheme:e=!1,selectedTone:t})=>{const{palette:a}=(0,z.w)(),n=N(a,t);return l.createElement(B.A,{isDark:e,selectedTone:n,resetCSS:!1},l.createElement(p.s,{marginTop:"98px",marginBottom:"spacing.xl",borderRadius:"s",overflow:"hidden",background:"background.neutral.primary.default"},Ae||(Ae=l.createElement(Y,null)),l.createElement(Ce,{currentTone:n})))};var we,Pe=a("nHPd"),De=a("7bxg");const Se=({onClose:e})=>l.createElement(Pe.r,{justifyContent:"space-between",borderBottom:"1px solid",borderBottomColor:"border.neutral.primary.default",p:"spacing.l"},l.createElement(p.s,{justifyContent:"flex-start",alignItems:"center"},l.createElement(g.E,null,(0,s.AP)("displaysettings_title_appthemecolor_web"))),l.createElement(y.K0,{"aria-label":(0,s.AP)("Fermer"),onClick:e,variant:"ghost"},we||(we=l.createElement(De.w,null))));var Ie=a("A2sV");const ze=({onSave:e,selectedTone:t,hasUnsavedChanges:a})=>{var n;const{data:r}=(0,Ie.JAg)(),{data:o}=(0,Ie.CN7)(),[c]=(0,Ie.Dmu)({onCompleted:e=>{"PaletteUpdateMutationOutput"===e.updatePalette.__typename&&e.updatePalette.palette.id?(0,m.A)({body:(0,s.AP)("Enregistré")}):"PaletteUpdateMutationError"===e.updatePalette.__typename&&(0,m.A)({body:(0,s.AP)("errormessage_text_anerroroccurredpleasetryagain_web")})},update:(e,t)=>{var a,n,l;"PaletteUpdateMutationOutput"===(null===(a=t.data)||void 0===a?void 0:a.updatePalette.__typename)&&null!==(n=t.data)&&void 0!==n&&n.updatePalette.palette&&e.writeQuery({query:Ie.NlW,data:{theming:{id:(null==r||null===(l=r.theming)||void 0===l?void 0:l.id)||"theming-id",palette:t.data.updatePalette.palette,__typename:"Theming"}}})},optimisticResponse:e=>{var t;return{__typename:"Mutation",updatePalette:{__typename:"PaletteUpdateMutationOutput",palette:{id:(null==r||null===(t=r.theming)||void 0===t||null===(t=t.palette)||void 0===t?void 0:t.id)||"temp-id",accentIdentifier:e.accent,__typename:"Palette"}}}}});return!T.A.isAllowed("feature_2025_accent_color")||Boolean(!(null!=o&&null!==(n=o.permissions)&&void 0!==n&&n.access.hasPaletteSelector))?null:l.createElement(p.s,{borderTop:"1px solid",borderTopColor:"border.neutral.primary.default",justifyContent:"flex-end"},l.createElement(y.$n,{variant:"contain",m:"spacing.xl",onClick:()=>{t&&c({variables:{accent:t}}),e()},disabled:!a},(0,s.AP)("Enregistrer")))},Be=()=>{const e=(0,o.wA)(),{accentIdentifier:t}=(0,z.w)(),a=(0,o.d4)(e=>(0,i.HZ)(e.user)===d.h_?"dark":"light"),n=(0,J.J)(t)?"dark":a,[r,b]=(0,l.useState)(n),[f,y]=(0,l.useState)(t);l.useEffect(()=>{u.A.log({type:"cdp",eventName:"screen_view",customAttributes:{screen_view_name:"app_theme_menu",screen_view_id_type:null,screen_view_id:null}})},[]);const k=((e,t)=>e!==t)(n,r),h=((e,t)=>!!t&&e!==t)(t,f),x=k||h;return l.createElement(p.s,{backgroundColor:"background.neutral.primary.default",flexDirection:"column",borderRadius:"m"},l.createElement(Se,{onClose:()=>{e((0,c.Oo)())}}),l.createElement(E.A.Body,{title:"Display Settings",p:"0"},l.createElement(p.s,{flexDir:"row",alignItems:"stretch"},l.createElement(p.s,{flexDir:"column",alignItems:"center",w:"100%"},l.createElement(Te,{previewTheme:"dark"===r,selectedTone:f}),l.createElement(g.E,{variant:"body.2xs.default",color:"text.neutral.secondary.default",marginBottom:"spacing.3xl"},(0,s.AP)("settingshelper_text_savetoapplychanges_web"))),l.createElement(W,{onThemeChange:e=>{b(e)},currentTheme:r,onColorSelect:e=>{y(e),(0,J.J)(e)&&b("dark")},selectedTone:f}))),l.createElement(ze,{onSave:()=>{x&&("dark"===r||(0,J.J)(f)?(0,d.S8)():(0,d.qv)(),f||(0,m.A)({body:(0,s.AP)("Enregistré")}),(()=>{var e;u.A.log({type:"cdp",eventName:"app_theme_customized",customAttributes:{screen_view_name:"app_theme_menu",theme:r,color:(e=f,(e.match(/[A-Z]{2,}(?=[A-Z][a-z]+[0-9]*|\b)|[A-Z]?[a-z]+[0-9]*|[A-Z]|[0-9]+/g)||[]).map(e=>e.toLowerCase()).join("_"))}})})()),e((0,c.Oo)())},selectedTone:f,hasUnsavedChanges:x}))},Re=Be}}]);