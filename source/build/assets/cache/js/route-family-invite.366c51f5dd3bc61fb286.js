"use strict";(self.webpackJsonpDeezer=self.webpackJsonpDeezer||[]).push([[515],{"5pmF":(e,t,n)=>{n.d(t,{A:()=>A});var r=n("q1tI"),a=n("TRpf"),i=n("xobL"),l=(n("/eM8"),n("Vd8Q"));const o=l.default.get("host_website_ssl"),c=l.default.get("host_cookie"),s=`https://${l.default.get("host_common_assets_ssl")}/js/gdpr-appliance.js`,d=l.default.get("bot_crawler"),m=new RegExp(d,"i");var g=n("zKOv"),f=n("vGT4"),h=n("39Zz"),v=n("uHHB"),_=n("G04z"),y=n("ebSJ"),E=n("y7Wb");const b=({locale:e,darkMode:t,userId:n})=>{const{dispatch:i}=(0,f.b)(),l=(0,a.wA)();return(0,r.useEffect)((()=>{window.location.pathname.includes("register")&&(0,y.A)(h.J)&&((0,v.A)(h.J,"",0),(0,v.A)("euconsent-v2","",0)),window.onDzrGDPRReady=r=>{(async(e,t)=>{const{lang:n="en_US",darkMode:r=!1,onConsentUpdate:a,userID:i="0"}=t||{};window.consentScreenApi=await e({cookieDomain:c,darkMode:r,gatewayHost:o,isWebview:!1,lang:n,onConsentUpdate:a,userID:i})})(r,{lang:e,darkMode:t,userID:n,onConsentUpdate:e=>{var t;i((t=e,{type:g.X,value:t})),(0,_.u)().setConsent(e),l((0,E.j$)())}})},((e="dzr-gdpr-script")=>{if(m.test(navigator.userAgent))return;if(document.getElementById(e))return;const t=document.createElement("script");t.async=!0,t.crossOrigin="anonymous",t.defer=!0,t.id=e,t.src=s,document.head.appendChild(t)})("gdpr-web-script")}),[]),(0,r.useEffect)((()=>{var r;null===(r=window.consentScreenApi)||void 0===r||r.update({darkMode:t,userID:n,lang:e})}),[t,e,n]),null},A=()=>{const e=(0,a.d4)((e=>(0,i.JK)(e.user))),t=(0,a.d4)((e=>(0,i.NF)(e.user))),n=(0,a.d4)((e=>(0,i.F6)(e.user).toString()));return r.createElement(b,{darkMode:t,userId:n,locale:e})}},E6Gc:(e,t,n)=>{n.d(t,{Q:()=>l,l:()=>i});var r=n("q1tI"),a=n("MaGs");const i=e=>{const{setColorMode:t}=(0,a.G6)();(0,r.useEffect)((()=>{t(e)}),[t,e])},l=({children:e})=>(i("light"),r.createElement(r.Fragment,null,e))},FSqQ:(e,t,n)=>{n.d(t,{A:()=>l});var r,a=n("q1tI"),i=n("juqV");class l extends a.Component{render(){const{className:e}=this.props;let t=(0,i.A)("loader-container",e);return a.createElement("div",{className:t,"data-testid":"loader"},r||(r=a.createElement("div",{className:"loader animate-spin"})))}}},"G9z+":(e,t,n)=>{n.d(t,{B8:()=>p,ck:()=>g});var r=n("nKUr"),a=n("p1Zg"),i=n("cgBA"),l=n("BdH7"),o=n("xLSR"),c=n("xi32"),s=n("JFGw"),d=n("IRKz");const[m,u]=(0,l.q)({name:"ListStylesContext",errorMessage:"useListStyles returned is 'undefined'. Seems you forgot to wrap the components in \"<List />\" "}),p=(0,c.R)((function(e,t){const n=(0,s.o)("List",e),{children:l,styleType:o="none",stylePosition:c,spacing:u,...p}=(0,a.M)(e),g=(0,i.a)(l),h=u?{"& > *:not(style) ~ *:not(style)":{mt:u}}:{};return(0,r.jsx)(m,{value:n,children:(0,r.jsx)(d.B.ul,{ref:t,listStyleType:o,listStylePosition:c,role:"list",__css:{...n.container,...h},...p,children:g})})}));p.displayName="List",(0,c.R)(((e,t)=>{const{as:n,...a}=e;return(0,r.jsx)(p,{ref:t,as:"ol",styleType:"decimal",marginStart:"1em",...a})})).displayName="OrderedList",(0,c.R)((function(e,t){const{as:n,...a}=e;return(0,r.jsx)(p,{ref:t,as:"ul",styleType:"initial",marginStart:"1em",...a})})).displayName="UnorderedList";const g=(0,c.R)((function(e,t){const n=u();return(0,r.jsx)(d.B.li,{ref:t,...e,__css:n.item})}));g.displayName="ListItem",(0,c.R)((function(e,t){const n=u();return(0,r.jsx)(o.I,{ref:t,role:"presentation",...e,__css:n.icon})})).displayName="ListIcon"},LSdk:(e,t,n)=>{n.d(t,{T:()=>d});var r=n("nKUr"),a=(n("q1tI"),n("TDRX")),i=n("IRKz");function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){l(e,t,n[t])}))}return e}function s(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}const d=e=>{var{height:t="30px",iconOnly:n,color:a="text.neutral.primary.default"}=e,i=s(e,["height","iconOnly","color"]);return(0,r.jsx)(m,o({height:t,color:a,iconOnly:n},i))},m=e=>{var{color:t,compensate:n,iconOnly:l}=e,d=s(e,["color","compensate","iconOnly"]);return(0,r.jsxs)(a.a,function(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}(o({as:"svg",viewBox:l?"0 0 279 279":"0 0 992 279",fill:"none",xmlns:"http://www.w3.org/2000/svg",role:"img","aria-label":"Deezer logo"},d),{sx:o({width:d.width,height:d.height},d.sx),children:[!l&&(0,r.jsx)(i.B.path,{clipRule:"evenodd",d:"M353.119 68.19h54.962c34.031 0 58.095 22.64 58.095 54.82s-24.064 54.82-58.095 54.82h-54.962V68.19Zm42.717 80.023h9.967c10.679 0 16.375-7.119 16.375-25.203 0-18.083-5.696-25.203-16.375-25.203h-9.967v50.406Zm167.163 29.617h-90.275V68.19h90.275v29.617h-47.701v12.673h44.853v24.206h-44.853v13.527h47.701v29.617Zm100.526 0h-90.274V68.19h90.274v29.617h-47.7v12.673h44.853v24.206h-44.853v13.527h47.7v29.617Zm327.639 0c-6.152-16.765-14.756-34.653-26.33-54.704 13.536-3.97 21.631-12.504 21.631-25.603 0-19.935-18.368-29.333-47.416-29.333h-59.803v109.64h42.716v-45.352c9.491 15.984 16.483 31.068 21.074 45.352h48.128Zm-69.202-60.658V97.807h14.809c6.265 0 9.825 3.418 9.825 9.683s-3.56 9.682-9.825 9.682h-14.809Zm-52.968 60.658h-90.275V68.19h90.275v29.617h-47.7v12.673h44.853v24.206h-44.853v13.527h47.7v29.617ZM673.779 97.807h44.076c-18.287 14.963-33.337 31.91-44.931 50.406v29.617h96.967v-29.617h-48.466c11.106-16.158 26.625-32.248 48.466-50.406V68.19h-96.112v29.617Z",fillRule:"evenodd",fill:t}),(0,r.jsx)(i.B.path,{clipRule:"evenodd",d:"M232.97 42.874c2.569-14.89 6.339-24.254 10.515-24.271h.008c7.787.026 14.099 32.498 14.099 72.59 0 40.091-6.321 72.589-14.116 72.589-3.196 0-6.145-5.518-8.519-14.765-3.752 33.85-11.538 57.119-20.552 57.119-6.974 0-13.233-13.978-17.435-36.022-2.869 41.924-10.09 71.669-18.53 71.669-5.297 0-10.126-11.787-13.701-30.979-4.299 39.617-14.231 67.376-25.813 67.376-11.582 0-21.532-27.75-25.813-67.376-3.549 19.192-8.378 30.979-13.701 30.979-8.44 0-15.643-29.745-18.53-71.669-4.202 22.044-10.444 36.022-17.436 36.022-9.004 0-16.8-23.261-20.551-57.119-2.357 9.274-5.323 14.765-8.519 14.765-7.795 0-14.116-32.498-14.116-72.59 0-40.09 6.32-72.59 14.116-72.59 4.184 0 7.928 9.39 10.523 24.272C49.057 17.198 55.81.51 63.446.51c9.067 0 16.924 23.6 20.64 57.87 3.638-24.942 9.155-40.843 15.335-40.843 8.66 0 16.022 31.274 18.75 74.897 5.129-22.366 12.554-36.397 20.773-36.397 8.218 0 15.643 14.04 20.763 36.398 2.737-43.624 10.09-74.898 18.751-74.898 6.17 0 11.679 15.9 15.334 40.843C197.5 24.11 205.357.51 214.423.51c7.61 0 14.389 16.697 18.547 42.363ZM.09 84.053c0-17.922 3.583-32.454 8.006-32.454s8.007 14.532 8.007 32.454c0 17.921-3.584 32.454-8.007 32.454S.09 101.974.09 84.053Zm261.653 0c0-17.922 3.584-32.454 8.007-32.454 4.422 0 8.007 14.532 8.007 32.454 0 17.921-3.585 32.454-8.007 32.454-4.423 0-8.007-14.533-8.007-32.454Z",fill:"background.accent.primary.default",fillRule:"evenodd"})]}))}},SEJg:(e,t,n)=>{n.d(t,{_:()=>a});var r=n("nKUr");const a=(0,n("QSQl").w)({displayName:"CheckCircleFilledIcon",viewBox:"0 0 24 24",pathSmall:[(0,r.jsx)("path",{fillRule:"evenodd",d:"M4 12c0-5.138 2.862-8 8-8 5.137 0 8 2.862 8 8 0 5.137-2.863 8-8 8-5.138 0-8-2.863-8-8Zm7.109.996 2.905-4.303 1.104.746-3.732 5.53-3.248-2.723.856-1.023 2.115 1.773Z",clipRule:"evenodd"})],pathMedium:[(0,r.jsx)("path",{fillRule:"evenodd",d:"M1 12C1 4.936 4.936 1 12 1s11 3.936 11 11-3.936 11-11 11S1 19.064 1 12Zm10.456 1.45L15.813 7l1.658 1.12-5.599 8.288L7 12.326l1.284-1.533 3.172 2.658Z",clipRule:"evenodd"})]});a.defaultProps={fill:"currentColor",boxSize:"24px",display:"block","data-testid":"CheckCircleFilledIcon"}},hp5F:(e,t,n)=>{n.r(t),n.d(t,{FamilyInvite:()=>be,default:()=>Ae});var r=n("q1tI"),a=n("TRpf"),i=n("X6oL"),l=n("nrKQ"),o=n("xobL"),c=n("FSqQ"),s=n("5pmF"),d=n("r2ys"),m=n("Wp0Y");const u=n.p+"images/pages/familyInvite/link-broken.3666bfdfa13fc1bb74b4.svg";var p,g=n("y7xR"),f=n("siwx"),h=n("pVdW");const v=()=>r.createElement(r.Fragment,null,r.createElement(g.D,{variant:"heading.l"},(0,m.AP)("errormessage_title_oopslinknolongervalid_web")),p||(p=r.createElement(f._,{src:u})),r.createElement(h.E,{variant:"body.l.default"},(0,m.AP)("errormessage_text_neednewinvitelinkfromplanXadmin_web",{sprintf:[(0,m.AP)("deezerplans_title_deezerfamily_web")]}))),_=n.p+"images/pages/familyInvite/error.158d937a1527db94f030.svg";var y;const E=()=>r.createElement(r.Fragment,null,r.createElement(g.D,{variant:"heading.l"},(0,m.AP)("Erreur")),y||(y=r.createElement(f._,{src:_})),r.createElement(h.E,{variant:"body.l.default"},(0,m.AP)("Une erreur est survenue, merci de rÃ©essayer plus tard."))),b=n.p+"images/pages/familyInvite/localisation.ae98ca1ffa3003636be4.svg";var A;const w=()=>r.createElement(r.Fragment,null,r.createElement(g.D,{variant:"heading.l"},(0,m.AP)("deezerfamilyerrormessage_title_adminfromdifferentcountry_web")),A||(A=r.createElement(f._,{src:b})),r.createElement(h.E,{variant:"body.l.default"},(0,m.AP)("deezerfamilyerrormessage_text_needtobeinsamecountryasplanXadmin_web",{sprintf:[(0,m.AP)("deezerplans_title_deezerfamily_web")]}))),k=n.p+"images/pages/familyInvite/member-limit.108cea56d2e7abab8479.svg";var x;const S=()=>r.createElement(r.Fragment,null,r.createElement(g.D,{variant:"heading.l"},(0,m.AP)("errormessage_title_planXmaxmemberlimitreached_web",{sprintf:[(0,m.AP)("deezerplans_title_deezerfamily_web")]})),x||(x=r.createElement(f._,{src:k})),r.createElement(h.E,{variant:"body.l.default"},(0,m.AP)("errormessage_text_checkavailabilitywithplanXadmin_web",{sprintf:[(0,m.AP)("deezerplans_title_deezerfamily_web")]})));var C;const P=()=>r.createElement(r.Fragment,null,r.createElement(g.D,{variant:"heading.l"},(0,m.AP)("errormessage_text_alreadyplanXadmin_web",{sprintf:[(0,m.AP)("deezerplans_title_deezerfamily_web")]})),C||(C=r.createElement(f._,{src:_})),r.createElement(h.E,{variant:"body.l.default"},(0,m.AP)("errormessage_text_linkonlyforusersnotonplanXyet_web",{sprintf:[(0,m.AP)("deezerplans_title_deezerfamily_web")]})));var I=n("FVVF"),O=n("G9z+");const D=()=>r.createElement(r.Fragment,null,r.createElement(g.D,{variant:"heading.l"},(0,m.AP)("errormessage_title_needtobeplanXusertojoinplanY_web",{sprintf:[(0,m.AP)("deezerplans_title_deezerfree_web"),(0,m.AP)("deezerplans_title_deezerfamily_web")]})),r.createElement(h.E,{variant:"body.l.default",textAlign:"left"},(0,m.AP)("errormessage_text_followinstructtoswitchtoplanX_web",{sprintf:[(0,m.AP)("deezerplans_title_deezerfree_web")]})),r.createElement(I.T,{w:"100%",alignItems:"flex-start",textAlign:"left"},r.createElement(h.E,{variant:"body.m.default"},(0,m.AP)("generic_subtitle_fromthemobileapp_web")),r.createElement(O.B8,null,r.createElement(O.ck,null,(0,m.AP)("genericprocedure_text_gotofavoritessettings_web")),r.createElement(O.ck,null,(0,m.AP)("genericprocedure_text_tapmanagemyaccountmyaccount_web")),r.createElement(O.ck,null,(0,m.AP)("genericprocedure_text_selectmanagemysubscription_web"))),r.createElement(h.E,{variant:"body.m.default"},(0,m.AP)("generic_subtitle_ontheweb_web")),r.createElement(O.B8,null,r.createElement(O.ck,null,(0,m.AP)("genericprocedure_text_clickyouruserprofileicon_web")),r.createElement(O.ck,null,(0,m.AP)("genericprocedure_text_gotoaccountsettings_web")),r.createElement(O.ck,null,(0,m.AP)("genericprocedure_text_selectmanagemysubscription_web")))));var L=n("TDRX"),M=n("HmE0"),R=n("SEJg"),z=n("pxP/"),j=n("aHAS"),T=n("Vd8Q"),N=n("QOhT"),U=n("5G9X");const F="pay_login",Z="/account/invite";var B,$,V;let H=(0,i.Ay)({virtualpageurl:`${Z}/success`},{dispatchOnMount:!0})(B=class extends r.Component{constructor(e){super(e),this.onOpenApp=()=>{this.props.tracking&&this.props.tracking.trackEvent({event:"click",eventlabel:"start-streaming",eventaction:"receiver",eventcategory:"family-account-management"}),z.A.href=`${T.default.get("links_service")}/?dest=${encodeURIComponent("https://www.deezer.com/relog")}&owf=${encodeURIComponent(`https://${z.A.host}/`)}`},this.state={isLoading:!0}}componentDidMount(){this.props.fetchUserData((()=>this.setState({isLoading:!1})))}render(){if(this.state.isLoading)return $||($=r.createElement(c.A,null));const{name:e,parentName:t,picture:n}=this.props;return r.createElement(r.Fragment,null,r.createElement(g.D,{variant:"heading.l"},(0,m.AP)("deezerfamilyinvitation_title_welcometothefamily_web")),r.createElement(L.a,{position:"relative"},r.createElement(N.A,{data:{USER_PICTURE:n},height:100,width:100,rounded:!0,type:U.Ay.User,alt:e}),V||(V=r.createElement(R._,{color:"icon.feedback.success.default",position:"absolute",boxSize:"size.m",bottom:"0",right:"0",size:"medium"}))),r.createElement(I.T,{spacing:"spacing.m"},r.createElement(h.E,{variant:"body.m.default"},(0,m.AP)("deezerfamilyinvitation_text_yourenowpartofuserXfamily_web",{sprintf:[t]})),r.createElement(h.E,{variant:"body.m.default"},(0,m.AP)("deezerfamilyinvitation_text_makesureappisuptodate_web"))),r.createElement(M.$n,{onClick:this.onOpenApp},(0,m.AP)("generic_action_startstreamingnow_web")))}})||B;const Q=(0,a.Ng)((({user:e})=>({connected:(0,o.UJ)(e),name:(0,o.Mn)(e),picture:(0,o.jg)(e),parentName:(0,o.E1)(e)})),{fetchUserData:j.Sk})(H);n("/eM8");var X=n("2qhg"),q=n("IZLt");let G=function(e){return e.AcceptInvite="accept-invite",e.DenialCountry="error-country",e.DenialQuota="error-limit",e.DenialOffer="error-plan",e.DenialMaster="error-master",e.Error="error",e.Expired="error-link",e.Confirm="confirm",e.Welcome="welcome",e}({});var J,K;let Y=function(e){return e.FAMILY_ALREADY_FULL="FAMILY_ALREADY_FULL",e.INCOMPATIBLE_SUBSCRIPTION="INCOMPATIBLE_SUBSCRIPTION",e.INCOMPATIBLE_COUNTRY="INCOMPATIBLE_COUNTRY",e.MASTER_CANNOT_LINK_ITSELF="MASTER_CANNOT_LINK_ITSELF",e}({}),W=(0,i.Ay)({virtualpageurl:`${Z}/confirm-profile`},{dispatchOnMount:!0})(J=class extends r.Component{constructor(...e){super(...e),this.onLinkAccount=()=>{const{onChangeStep:e,token:t}=this.props;this.props.tracking&&this.props.tracking.trackEvent({event:"click",eventlabel:"confirm-account",eventaction:"receiver",eventcategory:"family-account-management"}),l.A.call({method:"family.linkUserToFamily",data:{token:t},success:t=>{e(t?G.Welcome:G.Error)},error:t=>{var n;return new q.A({error:null!==(n=null==t?void 0:t.message)&&void 0!==n?n:null==t?void 0:t.name,journey_type:"family-link-member",gateway_method:"family.linkUserToFamily",server_payload:t}).send(),t.message===Y.FAMILY_ALREADY_FULL?e(G.DenialQuota):t.message===Y.INCOMPATIBLE_SUBSCRIPTION?e(G.DenialOffer):t.message===Y.INCOMPATIBLE_COUNTRY?e(G.DenialCountry):t.message===Y.MASTER_CANNOT_LINK_ITSELF?e(G.DenialMaster):e(G.Error)}})},this.onChangeAccount=async()=>{this.props.tracking&&this.props.tracking.trackEvent({event:"click",eventlabel:"change-account",eventaction:"receiver",eventcategory:"family-account-management"}),X.default.logout(`${F}?redirect_type=refresh&redirect_link=${Z}/${this.props.token}/${G.Confirm}`)}}componentDidMount(){const{connected:e,token:t}=this.props;e||(z.A.href=`/${F}?redirect_type=refresh&redirect_link=${Z}/${t}/${G.Confirm}`)}render(){const{connected:e,name:t,picture:n}=this.props;return e?r.createElement(r.Fragment,null,r.createElement(g.D,{variant:"heading.l"},(0,m.AP)("accountconfirmation_title_isthisyouraccount_web")),r.createElement(N.A,{data:{USER_PICTURE:n},height:156,width:156,rounded:!0,type:U.Ay.User,alt:t}),r.createElement(h.E,{variant:"body.m.default"},t),r.createElement(I.T,{spacing:"spacing.m"},r.createElement(M.$n,{onClick:this.onLinkAccount,"data-testid":"link-account-btn"},(0,m.AP)("accountconfirmation_action_yesitsmyaccount_web")),r.createElement(M.$n,{onClick:this.onChangeAccount,variant:"ghost","data-testid":"change-account-btn"},(0,m.AP)("accountconfirmation_action_changeaccount_web")))):K||(K=r.createElement(c.A,null))}})||J;const ee=(0,a.Ng)((({user:e})=>({connected:(0,o.UJ)(e),name:(0,o.Mn)(e),picture:(0,o.jg)(e)})))(W),te=n.p+"images/pages/familyInvite/invitation.4cd71b0929930fd06a9b.svg";var ne;class re extends r.Component{constructor(...e){super(...e),this.checkSlotAvailable=()=>{const{connected:e,token:t,onChangeStep:n}=this.props;l.A.call({method:"family.isSlotAvailable",data:{token:t},success:r=>{r?e?n(G.Confirm):z.A.href=`/pay_register?redirect_type=refresh&redirect_link=${Z}/${t}/${G.Confirm}`:n(G.DenialQuota)},error:()=>{n(G.Error)}})}}render(){return r.createElement(r.Fragment,null,r.createElement(g.D,{variant:"heading.l"},(0,m.AP)("deezerfamilyinvitation_title_youvebeeninvitedtojoinplanX_web",{sprintf:[(0,m.AP)("deezerplans_title_deezerfamily_web")]})),ne||(ne=r.createElement(f._,{src:te})),r.createElement(h.E,{variant:"body.l.default"},(0,m.AP)("deezerfamilyinvitation_text_keepaccountifalreadyondeezer_web")),r.createElement(M.$n,{onClick:this.checkSlotAvailable},(0,m.AP)("deezerfamilyinvitation_action_acceptinvite_web")))}}const ae=(0,a.Ng)((({user:e})=>({connected:(0,o.UJ)(e)})))(re);var ie,le,oe,ce,se,de,me,ue,pe,ge,fe,he,ve,_e=n("E6Gc"),ye=n("CdHq"),Ee=n("LSdk");let be=(0,i.Ay)((({language:e,uilogged:t})=>({language:e,uilogged:t,pagecategory:"family-account"})))(ie=class extends r.Component{constructor(e){super(e),this.onChangeStep=this.onChangeStep.bind(this);const t=this.props.match.params.initialStep===G.Confirm?G.Confirm:G.AcceptInvite;this.state={isLoading:!0,step:t},e.tracking&&e.tracking.trackEvent({virtualpageurl:t===G.Confirm?`${Z}/confirm-profile`:Z})}componentDidMount(){const{token:e}=this.props.match.params,{step:t}=this.state;l.A.call({method:"family.isValidInvitation",data:{token:e},success:e=>{this.setState({step:e?t:G.Error,isLoading:!1})},error:()=>{this.setState({step:G.Expired,isLoading:!1})}})}renderStep(){const{step:e}=this.state;switch(this.props.tracking&&this.isError(e)&&this.props.tracking.trackEvent({event:"click",eventlabel:e,eventaction:"error",eventcategory:"family-account-management"}),e){case G.Expired:return le||(le=r.createElement(v,null));case G.Error:return oe||(oe=r.createElement(E,null));case G.DenialCountry:return ce||(ce=r.createElement(w,null));case G.DenialQuota:return se||(se=r.createElement(S,null));case G.DenialMaster:return de||(de=r.createElement(P,null));case G.DenialOffer:return me||(me=r.createElement(D,null));case G.Welcome:return ue||(ue=r.createElement(Q,null));case G.Confirm:return r.createElement(ee,{token:this.props.match.params.token,onChangeStep:this.onChangeStep});case G.AcceptInvite:return r.createElement(ae,{token:this.props.match.params.token,onChangeStep:this.onChangeStep});default:return null}}onChangeStep(e){this.setState({step:e})}isError(e){return e===G.DenialCountry||e===G.DenialOffer||e===G.DenialQuota||e===G.DenialMaster||e===G.Error||e===G.Expired}render(){return r.createElement(ye.s,{minH:"100vh",h:"100%",flexDirection:"column"},pe||(pe=r.createElement(_e.Q,null)),ge||(ge=r.createElement(Ee.T,{mt:"spacing.xl"})),r.createElement(ye.s,{h:"100%",mt:"spacing.xl",my:"auto",mx:"auto"},r.createElement(I.T,{maxW:"container.md",spacing:"spacing.l",textAlign:"center",px:"spacing.l"},this.state.isLoading?fe||(fe=r.createElement(c.A,null)):this.renderStep())),he||(he=r.createElement(s.A,null)),ve||(ve=r.createElement(d.A,null)))}})||ie;const Ae=(0,a.Ng)((({user:e})=>({uilogged:(0,o.UJ)(e),language:(0,o.Z0)(e)})))(be)},juqV:(e,t,n)=>{function r(e){var t,n,a="";if("string"==typeof e||"number"==typeof e)a+=e;else if("object"==typeof e)if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=r(e[t]))&&(a&&(a+=" "),a+=n)}else for(n in e)e[n]&&(a&&(a+=" "),a+=n);return a}n.d(t,{A:()=>a});const a=function(){for(var e,t,n=0,a="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=r(e))&&(a&&(a+=" "),a+=t);return a}},kqs6:(e,t,n)=>{n.d(t,{x:()=>a});var r=n("nKUr");const a=(0,n("QSQl").w)({displayName:"CameraIcon",viewBox:"0 0 24 24",pathSmall:[(0,r.jsx)("path",{fillRule:"evenodd",d:"M9 13.5c0-1.927 1.073-3 3-3s3 1.073 3 3-1.073 3-3 3-3-1.073-3-3Zm1.333 0c0 1.184.483 1.667 1.667 1.667 1.184 0 1.667-.483 1.667-1.667 0-1.184-.483-1.667-1.667-1.667-1.184 0-1.667.483-1.667 1.667Z",clipRule:"evenodd"}),(0,r.jsx)("path",{fillRule:"evenodd",d:"M9 7.5H5.503c-.47 0-.871.26-.951.62-.3 1.43-.53 3.13-.55 5.06-.02 2.11.23 4.15.57 5.7.08.36.48.62.95.62h12.993c.47 0 .87-.26.95-.62.721-2.94.711-7.87-.02-10.76-.08-.36-.48-.62-.95-.62H15v-3H9v3Zm4.67-1.67h-3.34V7.5h3.34V5.83Zm4.576 3c.272 1.266.42 2.934.424 4.654.003 1.718-.139 3.397-.407 4.686H5.783a25.346 25.346 0 0 1-.452-4.977c.017-1.639.194-3.102.435-4.363h12.48Z",clipRule:"evenodd"})],pathMedium:[(0,r.jsx)("path",{fillRule:"evenodd",d:"M8 14c0-2.569 1.431-4 4-4s4 1.431 4 4c0 2.568-1.431 4-4 4s-4-1.432-4-4Zm2 0c0 1.457.542 2 2 2s2-.543 2-2c0-1.458-.542-2-2-2s-2 .542-2 2Z",clipRule:"evenodd"}),(0,r.jsx)("path",{fillRule:"evenodd",d:"M1.002 13.573c-.028 2.814.316 5.534.784 7.6.11.48.66.827 1.308.827h17.864c.647 0 1.197-.347 1.307-.827.991-3.92.977-10.493-.027-14.346-.11-.48-.66-.827-1.308-.827H16V2H8v4H3.066c-.647 0-1.197.347-1.307.827a33.526 33.526 0 0 0-.757 6.746ZM20.459 8c.346 1.641.537 3.774.54 5.979.005 2.204-.176 4.35-.517 6.021h-16.9a32.614 32.614 0 0 1-.58-6.406c.022-2.092.247-3.967.558-5.594h16.9ZM10 4h4v2h-4V4Z",clipRule:"evenodd"})]});a.defaultProps={fill:"currentColor",boxSize:"24px",display:"block","data-testid":"CameraIcon"}},r2ys:(e,t,n)=>{n.d(t,{A:()=>l});var r=n("q1tI"),a=n("uHHB"),i=n("vGT4");const l=()=>{const{state:e}=(0,i.b)(),t=(e=>null==e?void 0:e.settings)(e);return(0,r.useEffect)((()=>{const{consentString:e,statistics:n=0,targetedAdvertising:r=0}=t||{};window.sas&&window.sas.cmd.push((()=>{window.sas.setGdprConsentData(e)})),(0,a.A)("consentStatistics",n.toString(),100),(0,a.A)("consentMarketing",r.toString(),100)}),[t]),null}}}]);