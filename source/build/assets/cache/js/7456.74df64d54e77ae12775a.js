"use strict";(self.webpackJsonpDeezer=self.webpackJsonpDeezer||[]).push([[7456],{"1j1w":(e,t,n)=>{n.d(t,{A:()=>r});const r={root:"KUMiD"}},"2EvD":(e,t,n)=>{n.d(t,{A:()=>Ce});var r,i,s,a=n("q1tI"),l=n("5G9X"),o=n("T0hu"),c=n("3il7"),d=n("tZCQ"),u=n("XOWT"),p=n("oB8A"),m=n("E4MG"),h=n("xOQS"),A=n("Jfek"),y=n("TRpf"),E=n("Wp0Y"),g=n("YG8s"),_=n("eb01"),P=n("kotc"),v=n("6vqc"),f=n("RSbz"),b=n("X5lq"),C=n("pvbU");class k extends a.Component{renderChevron(){return"ltr"===this.props.langDirection?r||(r=a.createElement(v.v,null)):i||(i=a.createElement(f.Y,null))}render(){const{handleClick:e}=this.props;return a.createElement(g.A,{handleClick:()=>{e(C.Q.DESCRIPTION)},closeOnClick:!1},s||(s=a.createElement(_.A,null,a.createElement(b.u,{size:"medium"}))),a.createElement(P.A,{isShort:!0,value:(0,E.AP)("En savoir plus")}),a.createElement(_.A,{isOnRight:!0,isSmall:!0},this.renderChevron()))}}const S=(0,y.Ng)(({user:e})=>({langDirection:e.DIRECTION}))(k);var T,I,x=n("b5Ea"),D=n("RuKb"),R=n("DNpT"),w=n("IZwO"),L=n("7bxg"),F=n("eTJY");class M extends a.Component{constructor(e){super(e),this.handleClick=this.handleClick.bind(this)}handleClick(){const{bookmark:e,id:t,dispatchMarkAsNotPlayed:n,dispatchMarkAsPlayed:r,played:i,type:s}=this.props,a=null===e?void 0:e;i?(0,R.eD)(s,t,a).then(e=>n(e)):(0,R.Nl)(s,t,a).then(e=>r(e))}render(){const{played:e}=this.props;return e?a.createElement(g.A,{handleClick:this.handleClick},T||(T=a.createElement(_.A,null,a.createElement(L.w,{size:"medium"}))),a.createElement(P.A,{value:(0,E.AP)("contextualmenu_text_markasnotplayed_web")})):a.createElement(g.A,{handleClick:this.handleClick},I||(I=a.createElement(_.A,null,a.createElement(F.S,{size:"medium"}))),a.createElement(P.A,{value:(0,E.AP)("contextualmenu_text_markasplayed_web")}))}}const O={dispatchMarkAsNotPlayed:w.eD,dispatchMarkAsPlayed:w.Nl},N=(0,y.Ng)(({bookmarks:e},t)=>({bookmark:(0,D.v6)(e,t.type,t.id),played:(0,D._l)(e,t.type,t.id)}),O)(M);var U=n("o/gK"),q=n("rXlm");class G extends a.Component{renderTitle(){const{title:e}=this.props;return e?a.createElement("div",{className:"xjm6K"},e):null}render(){const{handleBackClick:e,text:t}=this.props;return a.createElement(a.Fragment,null,a.createElement(U.A,{handleClick:e}),a.createElement(q.A,{className:"fpOsM"},a.createElement(a.Fragment,null,this.renderTitle(),a.createElement("div",{className:"yN2Tz","data-testid":"episode-context-menu-description"},t))))}}G.panelName=C.Q.DESCRIPTION;const Y=G;var V=n("uK53"),H=n("QoFi");class Q extends a.Component{constructor(e){super(e),this.state={currentPanel:this.props.forceShowDescription?Y.panelName:null},this.updateCurrentPanel=this.updateCurrentPanel.bind(this),this.resetCurrentPanel=this.resetCurrentPanel.bind(this)}hasDescription(){const{data:e,forceShowDescription:t}=this.props;return(0,u.A)(e,"EPISODE_DESCRIPTION")||!0===t}renderDescriptionPanel(){const{data:e}=this.props,{currentPanel:t}=this.state;return this.hasDescription()?a.createElement(H.A,{isVisible:t===Y.panelName},a.createElement(Y,{handleBackClick:this.resetCurrentPanel,text:e.EPISODE_DESCRIPTION||""})):null}renderMainPanel(){return a.createElement(V.A,{isVisible:null===this.state.currentPanel},a.createElement("ul",null,this.renderToggleBookmark(),this.renderShare(),this.renderOpenDescription()))}renderOpenDescription(){return this.hasDescription()?a.createElement("li",null,a.createElement(S,{handleClick:this.updateCurrentPanel})):null}renderShare(){const{context:e,data:t,id:n}=this.props;return a.createElement("li",null,a.createElement(x.A,{context:e,data:t,id:n,type:A.Gb.episode}))}renderToggleBookmark(){const{id:e}=this.props;return a.createElement("li",null,a.createElement(N,{id:e,type:p.x.EPISODE}))}updateCurrentPanel(e){e===Y.panelName?this.setState({currentPanel:e}):this.setState({currentPanel:null})}resetCurrentPanel(){this.setState({currentPanel:null})}render(){return d.A.isAllowed("talk")?a.createElement(m.A,{hasMultiPanels:!0,isExtended:null!==this.state.currentPanel,"data-testid":"episode-context-menu"},this.renderMainPanel(),this.renderDescriptionPanel()):null}}Q.defaultProps={forceShowDescription:!1};const X=(0,h.A)(Q);var K=n("SrwL"),j=n("zDvJ"),J=n("LpaV");class $ extends a.Component{constructor(e){super(e),this.contextMenuId="",this.contextMenuId=(0,K.uC)()}render(){if(!d.A.isAllowed("talk"))return null;const{anchor:e,context:t,data:n,forceShowDescription:r,id:i,placement:s}=this.props,l=r?K.Zo:"";return a.createElement(J.K.Consumer,null,o=>{const c=o||this.contextMenuId,d={data:{context:t,data:n,forceShowDescription:r,id:String(i)},hasArrow:!1,placement:s,popperId:`${c}${l}`,trigger:[j.uW,j.h4],usePortal:!0};return a.createElement(X,d,e)})}}$.defaultProps={forceShowDescription:!1,placement:"left"};const Z=$;var ee=n("4gOi"),te=n("ZhMq"),ne=n("deeu"),re=n("8I5t"),ie=n("A2sV");class se extends a.Component{renderPlay(){const{context:e,id:t}=this.props;return a.createElement("li",null,a.createElement(re.A,{action:ne.h.PLAY_RADIO,context:e,ids:[t],type:l.Ay.Radio}))}renderShare(){const{context:e,data:t,id:n}=this.props;return a.createElement("li",null,a.createElement(x.A,{context:e,data:t,id:n,type:A.Gb.radio}))}renderTogglePin(){const{id:e}=this.props;return d.A.isAllowed("feature_2025_quick_access")?a.createElement("li",null,a.createElement(te.A,{id:e,type:ie.I6U.LIVESTREAM})):null}render(){return a.createElement(m.A,null,a.createElement("ul",null,this.renderPlay(),this.renderShare(),this.renderTogglePin()))}}const ae=(0,h.A)(se);class le extends a.Component{constructor(e){super(e),this.contextMenuId="",this.contextMenuId=(0,K.uC)()}render(){const{anchor:e,context:t,data:n,id:r,placement:i}=this.props;return a.createElement(J.K.Consumer,null,s=>{const l={data:{context:t,data:n,id:String(r)},hasArrow:!1,placement:i,popperId:s||this.contextMenuId,trigger:[j.uW,j.h4],usePortal:!0};return a.createElement(ae,l,e)})}}le.defaultProps={placement:"left"};const oe=le;var ce=n("mXa6");class de extends a.Component{renderShare(){const{context:e,data:t,id:n}=this.props;return a.createElement("li",null,a.createElement(x.A,{context:e,data:t,id:n,type:A.Gb.show}))}renderToggleFavorite(){const{context:e,id:t}=this.props;return a.createElement("li",null,a.createElement(ce.A,{context:e,id:t,type:l.Ay.Show}))}renderTogglePin(){const{id:e}=this.props;return d.A.isAllowed("feature_2025_quick_access")?a.createElement("li",null,a.createElement(te.A,{id:e,type:ie.I6U.PODCAST})):null}render(){return d.A.isAllowed("talk")?a.createElement(m.A,null,a.createElement("ul",null,this.renderToggleFavorite(),this.renderShare(),this.renderTogglePin())):null}}const ue=(0,h.A)(de);class pe extends a.Component{constructor(e){super(e),this.contextMenuId="",this.contextMenuId=(0,K.uC)()}render(){if(!d.A.isAllowed("talk"))return null;const{anchor:e,context:t,data:n,id:r,placement:i}=this.props;return a.createElement(J.K.Consumer,null,s=>{const l={data:{context:t,data:n,id:String(r)},hasArrow:!1,placement:i,popperId:s||this.contextMenuId,trigger:[j.uW,j.h4],usePortal:!0};return a.createElement(ue,l,e)})}}pe.defaultProps={placement:"left"};const me=pe;var he=n("AfN5"),Ae=n("odR8"),ye=n("Mpuh"),Ee=n("Sq8Y");class ge extends a.Component{constructor(e){super(e),this.updateCurrentPanel=this.updateCurrentPanel.bind(this),this.resetCurrentPanel=this.resetCurrentPanel.bind(this),this.state={currentPanel:null}}canModifyQueuelist(){const{mediaType:e,playerIsRadio:t}=this.props;return!t&&e===he.zu.SONG}getIds(){return this.props.data.SONGS.map(e=>e.SNG_ID.toString())}renderMainPanel(){return a.createElement(V.A,{isVisible:null===this.state.currentPanel},a.createElement("ul",null,this.renderPlay(),this.renderAddToQueue(),this.renderAddToPlaylist()))}renderPlaylistsPanel(){const{context:e}=this.props,{currentPanel:t}=this.state,n=t===C.Q.PLAYLISTS;return a.createElement(H.A,{isVisible:n},a.createElement(Ee.A,{isVisible:n,context:e,handleBackClick:this.resetCurrentPanel,ids:this.getIds()}))}renderAddToPlaylist(){return a.createElement("li",null,a.createElement(Ae.A,{handleClick:this.updateCurrentPanel}))}renderAddToQueue(){const{context:e,id:t}=this.props;return this.canModifyQueuelist()?a.createElement("li",null,a.createElement(ye.A,{context:e,ids:[t],type:l.Ay.Smarttracklist})):null}renderPlay(){const{context:e,id:t}=this.props;return this.canModifyQueuelist()?a.createElement("li",null,a.createElement(re.A,{action:ne.h.PLAY_NEXT,context:e,ids:[t],type:l.Ay.Smarttracklist})):null}resetCurrentPanel(){this.setState({currentPanel:null})}updateCurrentPanel(e){e===C.Q.PLAYLISTS?this.setState({currentPanel:e}):this.setState({currentPanel:null})}render(){return a.createElement(m.A,{hasMultiPanels:!0,isExtended:null!==this.state.currentPanel},this.renderMainPanel(),this.renderPlaylistsPanel())}}const _e=(0,h.A)((0,y.Ng)(({player:e})=>({mediaType:e.music.mediaType,playerIsRadio:e.config.isRadio}))(ge));class Pe extends a.Component{constructor(e){super(e),this.contextMenuId="",this.contextMenuId=(0,K.uC)()}render(){const{anchor:e,context:t,data:n,id:r,placement:i}=this.props;return a.createElement(J.K.Consumer,null,s=>{const l={data:{context:t,data:n,id:String(r)},hasArrow:!1,placement:i,popperId:s||this.contextMenuId,trigger:[j.uW,j.h4],usePortal:!0};return a.createElement(_e,l,e)})}}Pe.defaultProps={placement:"left"};const ve=Pe;var fe=n("iuq8");class be extends a.Component{render(){const{type:e}=this.props;switch(e){case l.Ay.Album:return a.createElement(o.A,this.props);case l.Ay.Artist:return a.createElement(c.A,this.props);case l.Ay.Episode:return a.createElement(Z,this.props);case l.Ay.Playlist:return a.createElement(ee.A,this.props);case l.Ay.Radio:return a.createElement(oe,this.props);case l.Ay.Show:return a.createElement(me,this.props);case l.Ay.Track:case l.Ay.Song:return a.createElement(fe.A,this.props);case l.Ay.Smarttracklist:return a.createElement(ve,this.props);default:return null}}}const Ce=be},"3gOz":(e,t,n)=>{n.d(t,{A:()=>c});var r=n("q1tI"),i=n("TRpf"),s=n("juqV"),a=n("kSUS");const l=23.26;class o extends r.Component{constructor(e){super(e),this._containerRef=null,this._containerWidth=0,this._wrapperRef=null,this._childrenRef=null,this._scrollOffset=0,this._scrollWidth=0,this._frameId=null,this._isLastLoop=!1,this._hasScrollingMarquee=!1,this._onResize=(0,a.A)(this._measureText.bind(this),100),this._onMouseEnter=(0,a.A)(this._start.bind(this),1e3),this.state={isTruncated:!1}}componentDidMount(){this._measureText(),window.addEventListener("resize",this._onResize,!1)}UNSAFE_componentWillReceiveProps(){this._measureText()}componentWillUnmount(){this._clear(),window.removeEventListener("resize",this._onResize)}render(){const{langDirection:e,isCentered:t,"data-testid":n}=this.props,{isTruncated:i}=this.state;let a={className:(0,s.A)("marquee-wrapper",{"is-centered":t&&!i}),ref:e=>this._wrapperRef=e};return i&&(a.onMouseEnter=()=>this._onMouseEnter(),a.onMouseLeave=()=>this._stop(),a.style=this._getWrapperStyle(0)),r.createElement("div",{className:"marquee",dir:e,ref:e=>this._containerRef=e,"data-testId":n},r.createElement("div",a,this._renderContent(),this._renderContent(!1)))}_renderContent(e=!0){const{children:t,langDirection:n}=this.props,{isTruncated:i}=this.state;if(!e&&!i)return null;if(e)return r.createElement("div",{className:"marquee-content",ref:e=>this._childrenRef=e},t);const s={paddingLeft:"ltr"===n?"24px":null,paddingRight:"rtl"===n?"24px":null};return r.createElement("div",{className:"marquee-content",style:s},t)}_measureText(){if(!this._childrenRef||!this._containerRef)return;const e=this._childrenRef.offsetWidth>this._containerRef.offsetWidth;this.state.isTruncated!==e&&this.setState({isTruncated:e},()=>{this._clear()})}_start(){const{onScrollStart:e}=this.props;this._isLastLoop&&(this._isLastLoop=!1),this._isScrolling()||(this._scrollWidth=this._childrenRef.offsetWidth,this._containerWidth=this._containerRef.offsetWidth,"function"==typeof e&&e(),this._frameId=window.requestAnimationFrame(this._move.bind(this)))}_stop(){this._onMouseEnter.cancel(),this._isScrolling()&&(this._isLastLoop=!0)}_move(){if(this._frameId=window.requestAnimationFrame(this._move.bind(this)),this._scrollOffset=Math.ceil(this._scrollOffset+.8),this._scrollOffset>this._scrollWidth+24&&(this._scrollOffset=0),this._moveTo(this._scrollOffset),0===this._scrollOffset&&this._isLastLoop){const{onScrollEnd:e}=this.props;"function"==typeof e&&e(),this._clear()}}_moveTo(e){if(!this._wrapperRef)return;if(!1===this.state.isTruncated)return void this._setStyle(this._containerRef,this._getGradientStyle());this._setStyle(this._wrapperRef,this._getWrapperStyle(this._getTranslateOffset(e)));const t=.23260000000000003*this._containerWidth;if(this._isScrolling()||0!==e){if(e<t&&!this._hasScrollingMarquee){const n=e*l/t;this._setStyle(this._containerRef,this._getGradientStyle(n))}else if(!this._isLastLoop&&e>t)this._hasScrollingMarquee=!0;else if(this._isLastLoop){const n=this._scrollWidth+24-e;if(this._isLastLoop&&n<t){const e=t?n*l/t:0;this._setStyle(this._containerRef,this._getGradientStyle(e))}}}else this._setStyle(this._containerRef,this._getGradientStyle(0))}_clear(){this._isScrolling()&&window.cancelAnimationFrame(this._frameId),this._moveTo(0),this._frameId=null,this._isLastLoop=!1,this._hasScrollingMarquee=!1,this._scrollOffset=0}_setStyle(e,t){e.style&&Object.assign(e.style,t)}_getWrapperStyle(e){return{transform:`translate3d(${e}px, 0px, 0px)`,willChange:"transform"}}_getGradientStyle(e){const{langDirection:t}=this.props;return void 0===e?{"-webkit-mask-image":"","mask-image":""}:0===e?{"-webkit-mask-image":`linear-gradient(\n\t\t\t\t\t${"ltr"===t?270:90}deg,\n\t\t\t\t\trgba(0 0 0 / 0%) 0%,\n\t\t\t\t\trgba(0 0 0 / 0%) 2.42%,\n\t\t\t\t\trgba(0 0 0 / 100%) 23.26%\n\t\t\t\t)`,"mask-image":`linear-gradient(\n\t\t\t\t\t${"ltr"===t?270:90}deg,\n\t\t\t\t\trgba(0 0 0 / 0%) 0%,\n\t\t\t\t\trgba(0 0 0 / 0%) 2.42%,\n\t\t\t\t\trgba(0 0 0 / 100%) 23.26%\n\t\t\t\t)`}:{"-webkit-mask-image":`linear-gradient(\n\t\t\t\t270deg,\n\t\t\t\ttransparent 2.42%,\n\t\t\t\trgba(0 0 0 / 100%) ${"rtl"===t?e:l}%,\n\t\t\t\trgba(0 0 0 / 100%) ${"ltr"===t?100-e:76.74}%,\n\t\t\t\ttransparent 97.58%\n\t\t\t)`,"mask-image":`linear-gradient(\n\t\t\t\t270deg,\n\t\t\t\ttransparent 2.42%,\n\t\t\t\trgba(0 0 0 / 100%) ${"rtl"===t?e:l}%,\n\t\t\t\trgba(0 0 0 / 100%) ${"ltr"===t?100-e:76.74}%,\n\t\t\t\ttransparent 97.58%\n\t\t\t)`}}_getTranslateOffset(e){const{langDirection:t}=this.props;return 0!==e&&"ltr"===t?e-2*e:e}_isScrolling(){return null!==this._frameId}}o.defaultProps={isCentered:!1,onScrollStart:()=>{},onScrollEnd:()=>{}};const c=(0,i.Ng)(({user:e})=>({langDirection:e.DIRECTION}))(o)},"3il7":(e,t,n)=>{n.d(t,{A:()=>O});var r,i,s=n("q1tI"),a=n("tZCQ"),l=n("5G9X"),o=n("0JBE"),c=n("E4MG"),d=n("Jfek"),u=n("xOQS"),p=n("deeu"),m=n("CC4d"),h=n("7Rm4"),A=n("8I5t"),y=n("b5Ea"),E=n("Wp0Y"),g=n("LAh4"),_=n("YG8s"),P=n("eb01"),v=n("kotc"),f=n("03m0"),b=n("lb8X"),C=n("BCMr");const k=()=>{const{isBannedFromRecommendation:e,toggleDislike:t}=(0,C.A)(),n=e?r||(r=s.createElement(f.x,null)):i||(i=s.createElement(b.G,null)),a=e?(0,E.AP)("banartist_action_allowinmyrecommendations_web"):(0,E.AP)("banartist_action_dontrecommendthisartist_web"),l=(0,g.A)();return s.createElement(_.A,{handleClick:function(){t(),l({ban:!e,source_trigger:"contextual_menu"})}},s.createElement(P.A,null,n),s.createElement(v.A,{value:a}))};var S,T=n("mXa6"),I=n("ZhMq"),x=n("A2sV");class D extends s.Component{renderEditTags(){const{id:e}=this.props;return a.A.isAllowed("employee_feature")?s.createElement("li",null,s.createElement(m.A,{id:e,type:l.Ay.Artist})):null}renderGiveFeedback(){const{id:e}=this.props;return s.createElement("li",null,s.createElement(h.A,{id:Number(e),type:l.Ay.Artist}))}renderPlay(){const{context:e,data:t,id:n}=this.props;return t.SMARTRADIO?s.createElement("li",null,s.createElement(A.A,{action:p.h.PLAY_RADIO,context:e,ids:[n],type:l.Ay.Artist})):null}renderShare(){const{context:e,data:t,id:n}=this.props;return s.createElement("li",null,s.createElement(y.A,{context:e,data:t,id:n,type:d.Gb.artist}))}renderToggleDislike(){return S||(S=s.createElement("li",null,s.createElement(k,null)))}renderToggleFavorite(){const{context:e,id:t}=this.props;return s.createElement("li",null,s.createElement(T.A,{context:e,id:t,type:l.Ay.Artist}))}renderTogglePin(){const{id:e}=this.props;return a.A.isAllowed("feature_2025_quick_access")?s.createElement("li",null,s.createElement(I.A,{id:e,type:x.I6U.ARTIST})):null}render(){const{id:e,context:t}=this.props;return s.createElement(c.A,null,s.createElement(o.OJ,{key:e,value:{item:l.Ay.Artist,itemId:e,legacyContext:t}},s.createElement("ul",null,this.renderPlay(),this.renderToggleFavorite(),this.renderToggleDislike(),this.renderShare(),this.renderTogglePin(),this.renderGiveFeedback(),this.renderEditTags())))}}const R=(0,u.A)(D);var w=n("SrwL"),L=n("zDvJ"),F=n("LpaV");class M extends s.Component{constructor(e){super(e),this.contextMenuId="",this.contextMenuId=(0,w.uC)()}render(){const{anchor:e,context:t,data:n,id:r,placement:i}=this.props;return s.createElement(F.K.Consumer,null,a=>{const l={data:{context:t,data:n,id:String(r)},hasArrow:!1,placement:i,popperId:a||this.contextMenuId,trigger:[L.uW,L.h4],usePortal:!0};return s.createElement(R,l,e)})}}M.defaultProps={placement:"left"};const O=M},"4gOi":(e,t,n)=>{n.d(t,{A:()=>c});var r=n("q1tI"),i=n("SrwL"),s=n("wuUY"),a=n("zDvJ"),l=n("LpaV");class o extends r.Component{constructor(e){super(e),this.contextMenuId="",this.contextMenuId=(0,i.uC)()}render(){const{anchor:e,context:t,data:n,id:i,placement:o}=this.props;return r.createElement(l.K.Consumer,null,l=>{const c={data:{context:t,data:n,id:String(i)},hasArrow:!1,placement:o,popperId:l||this.contextMenuId,trigger:[a.uW,a.h4],usePortal:!0};return r.createElement(s.Ay,c,e)})}}o.defaultProps={placement:"left"};const c=o},"5LFp":(e,t,n)=>{n.d(t,{Dp:()=>i,HO:()=>s,J:()=>a,Kf:()=>l,MC:()=>r});const r="components/Player/config/SET_BLIND_TEST_MODE",i="components/Player/config/UPDATED_PLAYER_TYPE",s="components/Player/config/SET_PLAYER_FULL",a="components/Player/config/SET_PLAYER_QUEUELIST",l="components/Player/config/SET_PLAYER_LYRICS"},"5MdW":(e,t,n)=>{n.d(t,{Q:()=>i});var r=n("LOQS");function i(e){e.screen_view_name&&r.A.log({type:"cdp",eventName:"playlist_creation_initialized",customAttributes:{...e}})}},"6EMc":(e,t,n)=>{n.d(t,{A:()=>s});var r=n("WKgy");const i={},s=(e,t)=>{if(!window||!window.Intl||!window.Intl.Collator)return e<t?-1:1;const n=r.A.getState().user.SETTING_LOCALE;return{}.hasOwnProperty.call(i,n)||(i[n]=new Intl.Collator([n,"en-US"])),i[n].compare(e,t)}},"70bL":(e,t,n)=>{n.d(t,{d0:()=>i,sc:()=>r});const r=({app:e})=>e.online,i=({app:e})=>e.previousPath},"7Rm4":(e,t,n)=>{n.d(t,{A:()=>p});var r=n("q1tI"),i=n("Wp0Y"),s=n("le3u"),a=n("AXVl"),l=n("N2fm"),o=n("0JBE"),c=n("LOQS");var u;const p=({id:e,type:t})=>{const n=(()=>{const{page:e,section:t,entityId:n,entity:r,item:i,itemId:s}=(0,o.iQ)();return e&&i&&s?()=>c.A.log({type:"cdp",eventName:"problem_reported",customAttributes:{screen_view_name:e,item_id:s,item_type:i,contextual_menu_option:"report_a_problem",screen_view_id_type:r||null,screen_view_id:n||null,...t&&{section_name:t}}}):()=>{}})();return r.createElement(s.A,{data:{type:t,id:e},label:(0,i.AP)("Signaler un problème"),name:"CATALOG_FEEDBACK",size:l.S.SMALL,onClick:n},u||(u=r.createElement(a.x,{size:"medium"})))}},"8I5t":(e,t,n)=>{n.d(t,{A:()=>E});var r,i,s=n("q1tI"),a=n("Ty5D"),l=n("Wp0Y"),o=n("u7vQ"),c=n("5G9X"),d=n("YG8s"),u=n("eb01"),p=n("kotc"),m=n("VHPq"),h=n("1m5e"),A=n("deeu"),y=n("aWMX");const E=({action:e,context:t,ids:n,trackIndex:E,type:g})=>{const _=(0,a.W6)(),P=(0,y.A)(),v=()=>{"queuelist"===t.TYPE&&e===A.h.PLAY&&E?o.Ay.playTrackAtIndex(E):("artist"===t.TYPE&&e===A.h.PLAY_RADIO&&(_.push(`/artist/${n[0]}`),t.TYPE="artist_smartradio"),o.Ay.play({addNext:e===A.h.PLAY_NEXT,context:t,id:g===c.Ay.Song||g===c.Ay.Track?n:n[0],radio:e===A.h.PLAY_RADIO,type:g}))};return e===A.h.PLAY_NEXT?s.createElement(d.A,{handleClick:()=>{n.forEach(e=>P("listen_just_after",{id:e,type:g})),v()}},r||(r=s.createElement(u.A,null,s.createElement(m.R,{size:"medium"}))),s.createElement(p.A,{value:(0,l.AP)("Écouter juste après")})):s.createElement(d.A,{handleClick:v},i||(i=s.createElement(u.A,null,s.createElement(h.S,{size:"medium"}))),s.createElement(p.A,{value:(0,l.AP)("Lancer le mix")}))}},"8iEq":(e,t,n)=>{n.d(t,{D7:()=>d,L$:()=>l,Lh:()=>u,Lq:()=>o,QS:()=>p,WU:()=>a,Y:()=>h,_y:()=>s,cT:()=>r,lG:()=>i,m0:()=>m,pZ:()=>c});const r="",i="ART_NAME",s="ALB_TITLE",a="DATE_UPDATE",l="DATE_CREATE",o="PLAYLIST_TITLE",c="APP_NAME",d="SHOW_NAME",u="DATE_FAVORITE",p="RELEASE_DATE",m="ALB_RANK",h="LATEST_EPISODE"},Aphq:(e,t,n)=>{n.d(t,{A:()=>o});var r=n("+9dH"),i=n("q1tI"),s=n("Weh+"),a=n("GkjM");const l=({children:e,isCollapsed:t,to:n,...l})=>i.createElement(s.Q,(0,r.A)({as:n?a.A:"button",type:n?void 0:"button",justifyContent:t?"center":void 0,width:"100%",p:"spacing.s",borderRadius:"s",userSelect:"none",_hover:{bgColor:"background.neutral.tertiary.default"},_active:{backgroundColor:"background.neutral.tertiary.pressed",outline:"none"},to:n},l),e);l.displayName="SideBarSectionItem";const o=l},BCMr:(e,t,n)=>{n.d(t,{A:()=>A});var r=n("5G9X"),i=n("FdMc"),s=n("vXsw"),a=n("TRpf"),l=n("Fzox"),o=n("xobL"),c=n("OPhi"),d=n("34sk"),u=n("Au7y"),p=n("A2sV"),m=n("0JBE");const h=u.J1`
	fragment isArtistDisliked on Artist {
		id
		name
		isBannedFromRecommendation
	}
`,A=()=>{const{itemId:e,legacyContext:t}=(0,m.iQ)(),n={artistId:e},A=(0,a.wA)(),y=(0,l.G)(({user:e})=>(0,o.UJ)(e)),{data:E}=(0,u.I3)({fragment:h,from:{__typename:"Artist",id:e},optimistic:!0}),[g]=(0,l.G)(t=>[(0,c.i8)(t.feedbacks,e,r.Ay.Artist)]),_=g||E.isBannedFromRecommendation,[P]=(0,p.we3)({variables:n,optimisticResponse:{__typename:"Mutation",banArtistFromRecommendation:{__typename:"ArtistMutationBanOut",artist:{__typename:"Artist",id:e,isBannedFromRecommendation:!0}}},onCompleted:()=>{g||A((0,d.zZ)(e,r.Ay.Artist,(0,i.A)(),t))}}),[v]=(0,p.FJX)({variables:n,optimisticResponse:{__typename:"Mutation",unbanArtistFromRecommendation:{__typename:"ArtistMutationUnbanOut",artist:{__typename:"Artist",id:e,isBannedFromRecommendation:!1}}},onCompleted:()=>{A((0,d.u5)(e,r.Ay.Artist,t))}});return{isBannedFromRecommendation:_,toggleDislike:()=>{y?_?v():P():s.g.goToConnection()}}}},CC4d:(e,t,n)=>{n.d(t,{A:()=>d});var r,i,s=n("q1tI"),a=n("eb01"),l=n("kotc"),o=n("MUSe"),c=n("rOm2");const d=({id:e,type:t})=>s.createElement(o.A,{href:`https://tag-editor.deez.re/?q=${e}&type[0]=${t}s`,isExternal:!0},r||(r=s.createElement(a.A,null,s.createElement(c.o,null))),i||(i=s.createElement(l.A,{value:"Edit Tags"})))},DNpT:(e,t,n)=>{n.d(t,{Ht:()=>o,Ki:()=>c,Nl:()=>d,eD:()=>u}),n("/eM8");var r=n("nrKQ"),i=n("UyDI"),s=n("oB8A");const a=(e,t)=>e.type===s.x.EPISODE?((e,t)=>new Promise((n,i)=>{r.A.call({method:"episode.bookmarkSet",data:{EPISODE_ID:e.id,OFFSET:e.offset,DURATION:t,ISHEARD:e.played?1:0},success:()=>{n(e)},error:e=>{i(e)}})}))(e,t):Promise.reject(new Error(`Cannot persist bookmark of type ${e.type}`)),l=(e,t)=>e.type===s.x.EPISODE?((e,t)=>new Promise((n,i)=>{r.A.call({method:t?"episode.markAsPlayed":"episode.markAsNotPlayed",data:{EPISODE_ID:e.id},success:()=>{n(e)},error:e=>{i(e)}})}))(e,t):Promise.reject(new Error(`Cannot persist bookmark of type ${e.type}`)),o=(e,t,n,r)=>{const s=i.A.createNotPlayedBookmark(t,e);return s.updateProgress(n,r),a(s,r)},c=(e,t,n)=>(e.updateProgress(t,n),a(e,n)),d=(e,t,n)=>(n?n.markAsPlayed():n=i.A.createPlayedBookmark(t,e),l(n,!0)),u=(e,t,n)=>(n?n.markAsNotPlayed():n=i.A.createNotPlayedBookmark(t,e),l(n,!1))},E4MG:(e,t,n)=>{n.d(t,{A:()=>c});var r=n("+9dH"),i=n("q1tI"),s=n("juqV");const l="gU4lg",o="ltxSj",c=({hasMultiPanels:e=!1,isExtended:t=!1,...n})=>{const c=(0,s.A)("j_Ltn",{[l]:e,[o]:t});return i.createElement("div",(0,r.A)({className:c},n))}},GQRc:(e,t,n)=>{n.d(t,{Au:()=>i,RQ:()=>s});var r=n("zuZo");function i(e){const t={[r.u.Default]:"135deg, #8625D4 30%, #8625D4 10%, #D82C6A 70%",[r.u.YouAndMe]:"to right, #F673FF 0%, #F673FF 100%",[r.u.Motivation]:"to right, #FF673D, #FF673D 100%",[r.u.Chill]:"to right, #C01FC3, #C01FC3 100%",[r.u.Melancholy]:"to right, #2DD7B9, #2DD7B9 100%",[r.u.Focus]:"to right, #5465FF, #5465FF 100%",[r.u.Party]:"to right, #DF5114, #DF5114 100%",[r.u.Empowerment]:"to right, #9136A9, #D84EB6 100%",[r.u.Pride]:"to right, #C01FC3, #C01FC3 100%",[r.u.Halloween]:"to right, #FF673D, #FF673D 100%",[r.u.Christmas]:"to right, #D71F14, #D71F14 100%",[r.u.Carnival]:"to right, #52ED9E, #52ED9E 100%",[r.u.Afrobeats]:"45deg, #7241FF 0%, #7241FF 100%",[r.u.Alternative]:"45deg, #5465FF 0%, #5465FF 100%",[r.u.Ambient]:"53.13deg, #2DD7B9 10.71%, #2DD7B9 100%",[r.u.BrazilianFunk]:"45deg, #D71F14 0%, #D71F14 100%",[r.u.ChansonFrancaise]:"180deg, #2DD7B9 0%, #2DD7B9 100%",[r.u.Classical]:"45deg, #5465FF 0.01%, #5465FF 100%",[r.u.DanceEdm]:"45deg, #2DD7B9 0%, #2DD7B9 100%",[r.u.Electronic]:"45deg, #52ED9E 0%, #52ED9E 100%",[r.u.Folk]:"45deg, #DF5114 0%, #DF5114 0.01%, #DF5114 100%",[r.u.Forro]:"44.73deg, #FF673D 0%, #FF673D 100%",[r.u.Gospel]:"45deg, #D71F14 0%, #D71F14 100%",[r.u.House]:"45deg, #2DD7B9 0%, #2DD7B9 100%",[r.u.Jazz]:"45deg, #7241FF 0%, #7241FF 100%",[r.u.Kpop]:"45deg, #F673FF 0%, #F673FF 100%",[r.u.Latin]:"44.73deg, #DF5114 0%, #DF5114 100%",[r.u.Lofi]:"45deg, #5465FF 0%, #5465FF 100%",[r.u.Metal]:"45deg, #A238FF 0.01%, #A238FF 100%",[r.u.Mpb]:"45deg, #52ED9E 0%, #52ED9E 100%",[r.u.NewReleases]:"45deg, #74E788 0%, #74E788 100%",[r.u.OldSchool]:"45deg, #7241FF 0%, #7241FF 100%",[r.u.Pop]:"45deg, #F673FF 0%, #F673FF 100%",[r.u.Rap]:"45deg, #7241FF 0%, #7241FF 100%",[r.u.Reggae]:"45deg, #52ED9E 0%, #52ED9E 100%",[r.u.Reggaeton]:"44.73deg, #FF673D 0%, #FF673D 100%",[r.u.RnB]:"225deg, #C01FC3 0%, #C01FC3 100%",[r.u.Rock]:"44.73deg, #D71F14 0%, #D71F14 100%",[r.u.SambaPagode]:"45deg, #52ED9E 0%, #52ED9E 100%",[r.u.Schlager]:"45deg, #D71F14 0%, #D71F14 100%",[r.u.Sertanejo]:"44.73deg, #FF673D 0%, #FF673D 100%",[r.u.Soul]:"45deg, #5465FF 0%, #5465FF 100%",[r.u.Techno]:"45deg, #2DD7B9 0%, #2DD7B9 100%",[r.u.Variete]:"180deg, #D71F14 0%, #D71F14 100%",[r.u.Zouk]:"226.58deg, #FF673D 0%, #FF673D 100%"};return e in t?t[e]:null}function s(e){switch(e){case r.u.Default:return{backgroundColor:"linear-gradient(150deg, rgba(134,37,212,1) 35%, rgba(216,44,106,1) 72%, rgba(255,80,61,1) 100%)",textColor:"text.accent.onDark.default"};case r.u.YouAndMe:case r.u.Kpop:case r.u.Pop:return{backgroundColor:"background.brand.pink.default",textColor:"text.accent.onDark.default"};case r.u.Motivation:case r.u.Halloween:case r.u.Forro:case r.u.Reggaeton:case r.u.Sertanejo:case r.u.Zouk:return{backgroundColor:"background.brand.orange.default",textColor:"text.accent.onDark.default"};case r.u.Chill:case r.u.Pride:case r.u.RnB:return{backgroundColor:"background.brand.magenta.default",textColor:"text.accent.onDark.default"};case r.u.Melancholy:case r.u.Ambient:case r.u.ChansonFrancaise:case r.u.DanceEdm:case r.u.House:case r.u.Techno:return{backgroundColor:"background.brand.jellyfish.default",textColor:"text.accent.onLight.default"};case r.u.Focus:case r.u.Alternative:case r.u.Classical:case r.u.Lofi:case r.u.Soul:return{backgroundColor:"background.brand.blue.default",textColor:"text.accent.onDark.default"};case r.u.Party:case r.u.Folk:case r.u.Latin:return{backgroundColor:"background.brand.flame.default",textColor:"text.accent.onLight.default"};case r.u.Christmas:case r.u.BrazilianFunk:case r.u.Gospel:case r.u.Rock:case r.u.Schlager:case r.u.Variete:return{backgroundColor:"background.brand.lava.default",textColor:"text.accent.onDark.default"};case r.u.Carnival:case r.u.Electronic:case r.u.Mpb:case r.u.NewReleases:case r.u.Reggae:case r.u.SambaPagode:return{backgroundColor:"background.brand.algae.default",textColor:"text.accent.onLight.default"};case r.u.Empowerment:case r.u.Metal:return{backgroundColor:"background.brand.purple.default",textColor:"text.accent.onDark.default"};case r.u.Afrobeats:case r.u.Jazz:case r.u.OldSchool:case r.u.Rap:return{backgroundColor:"background.brand.indigo.default",textColor:"text.accent.onDark.default"};default:return{backgroundColor:"background.neutral.secondary.default",textColor:"text.neutral.primary.default"}}}},Jfek:(e,t,n)=>{n.d(t,{BF:()=>h,DN:()=>u,ER:()=>c,En:()=>d,Gb:()=>i,N8:()=>A,Rf:()=>p,Wg:()=>o,ZE:()=>a,zJ:()=>m,zT:()=>l});var r=n("Wp0Y");let i=function(e){return e[e.song=0]="song",e[e.album=1]="album",e[e.artist=2]="artist",e[e.playlist=3]="playlist",e[e.radio=4]="radio",e[e.smart_radio=6]="smart_radio",e[e.smartradio=6]="smartradio",e[e.sradio=6]="sradio",e[e.show=7]="show",e[e.episode=8]="episode",e[e.blindtest_playlist=100]="blindtest_playlist",e[e.my_deezer_story_content=101]="my_deezer_story_content",e[e.ai_playlist=102]="ai_playlist",e}({}),s=function(e){return e.track="track",e.album="album",e.playlist="playlist",e.artist="artist",e.talkShow="talk_show",e.talkEpisode="talk_episode",e.mix="mix",e.trackLyrics="track_lyrics",e.blindtestPlaylist="blindtest_playlist",e.myDeezerStoryContent="my_deezer_story_content",e}({}),a=function(e){return e.instagram="instagram",e.snapchat="snapchat",e.whatsapp="whatsapp",e.messenger="messenger",e.sms="sms",e.twitter="twitter",e.facebook="facebook",e.clipboard="clipboard",e.system="system",e}({}),l=function(e){return e.message="message",e.newsfeed="newsfeed",e.generic="generic",e}({}),o=function(e){return e.directShareMasthead="direct_share_masthead",e.directShareBridgedWebview="direct_share_bridged_webview",e.contextualMenu="contextual_menu",e}({}),c=function(e){return e.deezerFollowers="deezer_followers",e.clipboard="clipboard",e}({}),d=function(e){return e.SHARE_TO_ALL="all",e.SHARE_TO_FRIENDS="friends",e}({});const u="SHARING",p=()=>({track:{title:(0,r.AP)("Partager ce titre"),confirmation:(0,r.AP)("Titre partagé !"),type:0},album:{title:(0,r.AP)("Partager cet album"),confirmation:(0,r.AP)("Album partagé !"),type:1},artist:{title:(0,r.AP)("Partager cette page artiste"),confirmation:(0,r.AP)("Page artiste partagée !"),type:2},playlist:{title:(0,r.AP)("Partager cette playlist"),confirmation:(0,r.AP)("Playlist partagée !"),type:3},radio:{title:(0,r.AP)("Partager ce mix"),confirmation:(0,r.AP)("Mix partagé !"),type:4},sradio:{title:(0,r.AP)("Partager ce mix"),confirmation:(0,r.AP)("Mix partagé !"),type:6},show:{title:(0,r.AP)("Partager ce podcast"),confirmation:(0,r.AP)("Podcast partagé !"),type:7},episode:{title:(0,r.AP)("Partager ce podcast"),confirmation:(0,r.AP)("Épisode partagé !"),type:8},blindtest_playlist:{title:(0,r.AP)("generic_action_challengeafriend_web"),confirmation:(0,r.AP)("Playlist partagée !"),type:100},my_deezer_story_content:{title:(0,r.AP)("Partager ce titre"),confirmation:(0,r.AP)("Titre partagé !"),type:101}}),m=(e,t)=>{let n="";for(const r in e)({}).hasOwnProperty.call(e,r)&&e[r].type===t&&(n=r);return n},h=()=>[{type:d.SHARE_TO_ALL,text:(0,r.AP)("Tous mes followers")},{type:d.SHARE_TO_FRIENDS,text:(0,r.AP)("Choisir des followers")}],A=e=>{switch(e){case i.song:return s.track;case i.album:return s.album;case i.artist:return s.artist;case i.playlist:return s.playlist;case i.radio:case i.smart_radio:case i.smartradio:case i.sradio:return s.mix;case i.show:return s.talkShow;case i.episode:return s.talkEpisode;case i.blindtest_playlist:return s.blindtestPlaylist;case i.my_deezer_story_content:return s.myDeezerStoryContent;default:return s.track}}},LAh4:(e,t,n)=>{n.d(t,{A:()=>a});var r=n("LOQS"),i=n("0JBE"),s=n("q1tI");function a(){const{page:e,entity:t,entityId:n,itemId:a,item:l}=(0,i.iQ)();return(0,s.useCallback)(({...i})=>function({ban:e=!0,...t}){t.screen_view_id&&t.item_id&&t.item_type&&r.A.log({type:"cdp",eventName:"ban_clicked",customAttributes:{action:e?"dislike":"undislike",...t}})}({screen_view_id_type:t,screen_view_id:n,screen_view_name:e,item_id:a,item_type:l,...i}),[e,t,n,a,l])}},LpaV:(e,t,n)=>{n.d(t,{K:()=>r});const r=(0,n("q1tI").createContext)("")},M31W:(e,t,n)=>{n.d(t,{$:()=>c}),n("/eM8");var r=n("TRpf"),i=n("Au7y"),s=n("fJgm"),a=n("klvT"),l=n("5G9X"),o=n("A2sV");const c=()=>{const e=(0,i.oc)(),t=(0,r.wA)(),n=(0,r.d4)(e=>e.cache.album),c=n?Object.keys(n):[],d=t=>Boolean(e&&e.offline.enabled&&[l.Ay.Album].includes(t));return{addToCache:async({entity:n,quality:r})=>{if(e&&d(n.type)){var i,l;const t=(await e.offline.query({query:o.mAL,variables:{albumId:n.id}})).data,r=null===(i=t.album)||void 0===i?void 0:i.cover,s=null===(l=t.album)||void 0===l||null===(l=l.contributors)||void 0===l||null===(l=l.edges)||void 0===l||null===(l=l.find(({roles:e})=>e.includes(o.by3.MAIN)))||void 0===l||null===(l=l.node)||void 0===l||null===(l=l.picture)||void 0===l?void 0:l.large;n.covers=[...(null==r?void 0:r.large)||[],...s||[]]}return await(navigator.storage&&navigator.storage.persist?navigator.storage.persist():Promise.resolve()),await t((0,a.ls)({entity:n,quality:r})),s.A.add(n)},removeFromCache:({entity:n})=>{if(t((0,a.D$)({entity:n})),e&&d(n.type)){const t=c.filter(e=>e!==n.id).map(e=>({query:o.mAL,variables:{albumId:e}}));e.offline.gc(t)}return Promise.resolve()}}}},M5EV:(e,t,n)=>{n.d(t,{A:()=>a});var r=n("q1tI"),i=n("Tyyv"),s=n("1m5e");const a=({isHover:e=!1,isActive:t=!1,size:n="medium",color:a="icon.accent.onAccent.default"})=>t?r.createElement(i.r,{size:n,color:a,isPaused:e}):r.createElement(s.S,{size:n})},MUSe:(e,t,n)=>{n.d(t,{A:()=>d});var r=n("q1tI"),i=n("TRpf"),s=n("WfRu"),a=n("GkjM"),l=n("1j1w");class o extends r.Component{constructor(e){super(e),this.handleClick=this.handleClick.bind(this)}handleClick(){this.props.dispatchHidePopper()}render(){const{children:e,href:t,isExternal:n}=this.props;return r.createElement(a.A,{className:l.A.root,to:t,onClick:this.handleClick,onKeyDown:this.handleClick,target:n?"_blank":void 0},e)}}o.defaultProps={isExternal:!1};const c={dispatchHidePopper:s.Lm},d=(0,i.Ng)(null,c)(o)},Mpuh:(e,t,n)=>{n.d(t,{A:()=>m});var r,i=n("q1tI"),s=n("u7vQ"),a=n("Wp0Y"),l=n("5G9X"),o=n("YG8s"),c=n("eb01"),d=n("kotc"),u=n("ooTv"),p=n("aWMX");const m=({context:e,ids:t,type:n})=>{const m=(0,p.A)();return i.createElement(o.A,{handleClick:()=>{t.forEach(e=>m("add_to_queue",{id:e,type:n})),s.Ay.play({addQueue:!0,context:e,id:n===l.Ay.Song||n===l.Ay.Track?t:t[0],type:n})}},r||(r=i.createElement(c.A,null,i.createElement(u.t,{size:"medium"}))),i.createElement(d.A,{value:(0,a.AP)("Ajouter à la file d'attente")}))}},N2fm:(e,t,n)=>{n.d(t,{S:()=>r});let r=function(e){return e.SMALL="small",e.LARGE="large",e.XL="xl",e}({})},"Nz/Y":(e,t,n)=>{n.d(t,{A:()=>l});var r=n("Fzox"),i=n("0JBE"),s=n("LOQS"),a=n("hMU6");const l=()=>{const{page:e,section:t,entityId:n,entity:l,item:o,itemId:c}=(0,i.iQ)(),d=(0,r.G)(({user:e})=>e.USER.USER_ID.toString());return e&&void 0!==n&&void 0!==l?(r=null,i)=>{(c||null!=i&&i.id)&&(o||null!=i&&i.type)&&s.A.log({type:"cdp",eventName:"item_collected",customAttributes:{screen_view_name:e,item_id:(null==i?void 0:i.id)||c,item_type:(null==i?void 0:i.type)||o,...l&&{screen_view_id_type:l},...n&&{screen_view_id:n},...t&&{section_name:t},...(0,a.W)(d,r,"favorite")}})}:()=>{}}},QoFi:(e,t,n)=>{n.d(t,{A:()=>l});var r=n("q1tI"),i=n("juqV");const a="SYVt4",l=({children:e,isVisible:t=!1})=>{const n=(0,i.A)("aC0hD",{[a]:t});return r.createElement("div",{onDoubleClick:e=>e.stopPropagation(),className:n},e)}},Sq8Y:(e,t,n)=>{n.d(t,{A:()=>q}),n("/eM8");var r=n("q1tI"),i=n("TRpf"),s=n("lXQd"),a=n("Wp0Y"),l=n("+dDc"),o=n("eq2Y"),c=n("TqF5"),d=n("hTBE"),u=n("5G9X"),p=n("z+LD"),m=n("34sk"),h=n("xobL"),A=n("fkXJ"),y=n("o/gK"),E=n("eb01"),g=n("YG8s"),_=n("kotc"),P=n("fSLK");const v=r.createContext({addToPlaylist:()=>{},isVisible:!1}),f=({index:e,style:t,data:n})=>{const i=n[e],{addToPlaylist:s}=r.useContext(v),a=r.useCallback(()=>{s(i.PLAYLIST_ID,e)},[s,i,e]);return r.createElement("li",{style:t},r.createElement(g.A,{handleClick:a},r.createElement(_.A,{value:i.TITLE})))},k=({playlistList:e})=>{const[t,n]=r.useState(0),i=r.useRef(null),{isVisible:s}=r.useContext(v);return r.useEffect(()=>{i.current&&s&&n(i.current.clientHeight)},[s]),r.createElement("div",{ref:i,className:"eoHHD",onScroll:e=>e.stopPropagation()},r.createElement("ul",null,r.createElement(P.Y1,{height:t,itemCount:e.length,itemSize:48,width:330,itemData:e},f)))};var S=n("Z9kq"),T=n("7Gye"),I=n("aoCz"),x=n("8iEq"),D=n("Nz/Y"),R=n("0JBE"),w=n("LOQS"),L=n("hMU6");const F=()=>{const{page:e,section:t,entityId:n,entity:r,item:i,itemId:s}=(0,R.iQ)();return e&&void 0!==n&&void 0!==r?(a,l=null,o)=>{(s||null!=o&&o.id)&&(i||null!=o&&o.type)&&w.A.log({type:"cdp",eventName:"item_collected",customAttributes:{screen_view_name:e,item_id:(null==o?void 0:o.id)||s,item_type:(null==o?void 0:o.type)||i,...r&&{screen_view_id_type:r},...n&&{screen_view_id:n},...t&&{section_name:t},...(0,L.W)(a,l,"playlist")}})}:()=>{}};var M,O=n("Fzox"),N=n("WrS5"),U=n("5MdW");const q=({isVisible:e,context:t,handleBackClick:n,ids:P})=>{const[f,b]=r.useState(""),[w,L]=r.useState(null),q=(0,i.wA)(),z=(0,D.A)(),B=F(),{page:W}=(0,R.iQ)(),[G,Y,V,H]=(0,O.G)(e=>[(0,h.G8)(e.user),(0,d.A)(Object.values((0,l.Eo)(e.entities,e.feedbacks,(0,h.F6)(e.user),!0)),x.WU,u.Ay.Playlist),(0,h.mI)({SERVER_TIMESTAMP:(0,h.mS)(e.user),clientTimestampDelta:(0,h.gE)(e.user)}),(0,h.UJ)(e.user)]),Q=r.useCallback(()=>{let e=null;return""!==f&&(e=Y.filter(e=>e.TITLE.toLowerCase().indexOf(f)>-1)),e},[f,Y]);r.useEffect(()=>{L(Q())},[f,Q]);const K=()=>{P.length>0&&P.forEach(e=>B("0","add_to_new_playlist",{id:e,type:u.Ay.Track}))},J=w||Y;return r.createElement(r.Fragment,null,r.createElement(y.A,{handleClick:n}),r.createElement("div",{className:"cBbGP"},r.createElement(S.D,{onChange:e=>{const t=(0,s.A)(e,"target.value","").toLowerCase();t!==f&&b(t)},size:"small",placeholder:(0,a.AP)("Rechercher"),value:f})),r.createElement(g.A,{handleClick:()=>{if(H)return(0,U.Q)({screen_view_name:W,initialization_type:"contextual_menu"}),void q((0,c.qf)({name:"PLAYLIST_ASSISTANT",props:{type:I.F.CREATION,sngId:P,onPlaylistCreation:K,background:"background.neutral.primary.default"}}));q((0,c.qf)({name:N.b.AUTH_MODAL,props:{context:"create-playlist"}}))}},M||(M=r.createElement(E.A,{isActive:!0},r.createElement(T.c,null))),r.createElement(_.A,{isActive:!0,value:(0,a.AP)("Nouvelle playlist")})),r.createElement(v.Provider,{value:{addToPlaylist:async(e,n)=>{if(e===G)try{await q((0,m.jo)(P,u.Ay.Song,V,{id:t.ID,t:t.TYPE})),P.forEach(e=>z("add_to_favorite",{id:e,type:u.Ay.Track}))}catch(e){const t=e;if("ERROR_DATA_EXISTS"===t.name)return void(0,A.A)({body:(0,a.AP)("playlist_action_tracksalreadyaddedtotheplaylist_web"),status:"error"});if("QUOTA_ERROR"===t.name)return void(0,A.A)({body:(0,a.AP)("notification_text_maxnumberoftracksreached_web"),status:"error"});p.A.error(e)}else try{await q((0,o.ym)({playlist_id:e,song_id_list:P,data:{context:t,position:n}})),P.forEach(t=>B(e,"add_to_playlist",{id:t,type:u.Ay.Track}))}catch(e){(0,A.A)({body:e.message,status:"error"})}},isVisible:e}},r.createElement(k,{playlistList:J})))}},SrwL:(e,t,n)=>{n.d(t,{Zo:()=>s,pz:()=>a,tB:()=>i,uC:()=>l});var r=n("iUT/");const i="-showPlaylists",s="-showDescription",a=(e,t)=>e===t||e===`${t}${i}`||e===`${t}${s}`,l=()=>(0,r.A)("context-menu-")},"T+Up":(e,t,n)=>{n.d(t,{A:()=>o});var r=n("gVf4"),i=n("u7vQ"),s=n("AfN5"),a=n("GjdC"),l=n("5G9X");const o=({id:e,context:t})=>{const{isPlaying:n,isPaused:o}=(0,r.A)(l.Ay.Livestream,e),c=(0,a.A)();return{isPlaying:n,play:()=>{n||c("direct_play"),n||o?i.Ay.control.togglePause():i.Ay.play({type:s.Kk.LIVESTREAM,id:e,context:t,radio:!0})}}}},T0hu:(e,t,n)=>{n.d(t,{A:()=>U});var r=n("q1tI"),i=n("TRpf"),s=n("tZCQ"),a=n("Wp0Y"),l=n("xobL"),o=n("CyAC"),c=n("5G9X"),d=n("AfN5"),u=n("E4MG"),p=n("Jfek"),m=n("xOQS"),h=n("xSkb"),A=n("rOm2"),y=n("deeu"),E=n("Mpuh"),g=n("XFWV"),_=n("CC4d"),P=n("7Rm4"),v=n("VkUI"),f=n("YG8s"),b=n("eb01"),C=n("kotc");const k=({children:e,force:t=!1,href:n,label:i})=>r.createElement(f.A,{handleClick:()=>{v.default.open(n,t)}},r.createElement(b.A,null,e),r.createElement(C.A,{value:i}));var S,T,I=n("8I5t"),x=n("b5Ea"),D=n("mXa6"),R=n("ZhMq"),w=n("A2sV");const L=(0,m.A)((0,i.Ng)(({player:e,user:t},n)=>({mediaType:e.music.mediaType,playerIsRadio:e.config.isRadio,shouldHideCover:n.disableZoomCover||(0,o.vp)(t,n.data),userHasDownload:(0,l.Jt)(t)}))(({mediaType:e,playerIsRadio:t,id:n,userHasDownload:i,context:l,data:o,shouldHideCover:m})=>{const v=!t&&e===d.zu.SONG;return r.createElement(u.A,null,r.createElement("ul",{onClick:e=>e.stopPropagation()},v&&r.createElement(r.Fragment,null,r.createElement("li",null,r.createElement(I.A,{action:y.h.PLAY_NEXT,context:l,ids:[n],type:c.Ay.Album})),r.createElement("li",null,r.createElement(E.A,{context:l,ids:[n],type:c.Ay.Album}))),r.createElement("li",null,r.createElement(D.A,{context:l,id:n,type:c.Ay.Album})),i&&r.createElement("li",null,r.createElement(g.A,{context:l,id:n,type:c.Ay.Album})),r.createElement("li",null,r.createElement(x.A,{context:l,data:o,id:n,type:p.Gb.album})),s.A.isAllowed("feature_2025_quick_access")&&r.createElement("li",null,r.createElement(R.A,{id:n,type:w.I6U.ALBUM})),!m&&r.createElement("li",null,r.createElement(k,{href:`/lightbox/picture_zoom?context=ticker&type=cover&md5=${o.ALB_PICTURE}`,label:(0,a.AP)("Zoomer sur la pochette")},S||(S=r.createElement(h.X,{size:"medium"})))),r.createElement("li",null,r.createElement(P.A,{id:Number(n),type:c.Ay.Album})),s.A.isAllowed("employee_feature")&&r.createElement(r.Fragment,null,r.createElement("li",null,r.createElement(k,{href:`/lightbox/curators/update_genre/${n}`,label:(0,a.AP)("Changer les genres")},T||(T=r.createElement(A.o,null)))),r.createElement("li",null,r.createElement(_.A,{id:n,type:c.Ay.Album})))))}));var F=n("SrwL"),M=n("zDvJ"),O=n("LpaV");class N extends r.Component{constructor(e){super(e),this.contextMenuId="",this.contextMenuId=(0,F.uC)()}render(){const{anchor:e,context:t,data:n,id:i,placement:s,disableZoomCover:a}=this.props;return r.createElement(O.K.Consumer,null,l=>{const o={data:{context:t,data:n,id:String(i),disableZoomCover:a},hasArrow:!1,placement:s,popperId:l||this.contextMenuId,trigger:[M.uW,M.h4],usePortal:!0};return r.createElement(L,o,e)})}}N.defaultProps={placement:"left",disableZoomCover:!1};const U=N},UAd1:(e,t,n)=>{n.d(t,{IG:()=>c,PV:()=>o,no:()=>l,pE:()=>a});var r=n("3mue"),i=n("VwKc"),s=n("5LFp");function a(){return e=>{e({type:s.Dp}),e((0,i.KF)()),e((0,r.WI)()),e((0,r.eK)())}}const l=e=>({type:s.HO,active:e}),o=e=>({type:s.J,active:e}),c=e=>({type:s.Kf,active:e})},VwKc:(e,t,n)=>{n.d(t,{Ay:()=>f,SD:()=>L,Cv:()=>z,Dx:()=>F,Tr:()=>w,VX:()=>$,b3:()=>j,hN:()=>J,$7:()=>K,iQ:()=>B,UE:()=>O,tc:()=>W,KX:()=>G,ZQ:()=>Y,uY:()=>X,jk:()=>Q,kI:()=>S,KF:()=>C,Up:()=>b,WN:()=>R,O:()=>D,NL:()=>x,FZ:()=>T,Fh:()=>I});var r=n("G4qV"),i=n("ucSm"),s=n("nLzw"),a=n("u7vQ"),l=n("AfN5"),o=n("Vd8Q"),c=n("3mue"),d=n("o+h5"),u=n("CyAC"),p=n("Vzbh");const m=n.p+"images/common/ads/player.887183beab8f8916c354.jpg";var h=n("JPje"),A=n("fJgm"),y=n("5G9X"),E=n("DFyM");const g={track:{},trackPrev:{},trackNext:{},id:"-1",list:[],index:0,maxPlayedIndex:0,trackDuration:0,tracklistDuration:0,albumTitle:"",trackTitle:"",trackArtists:[],isFavorite:!1,isExplicit:!1,isLastSong:!0,isFingerprinted:!1,mediaType:"",context:{},cover:`https://${o.default.get("host_img_url_ssl")}/cover/${E.e0}x${E.e0}.jpg`,unshuffledList:[],liveStreamData:{},quality:p.en.STANDARD},_=e=>{if(!(0,i.A)(e))return[];if(e.LIVE_ID)return[];const t=e.ARTISTS||[{ART_NAME:e.ART_NAME||e.SHOW_NAME,ART_ID:e.ART_ID||e.SHOW_ID}],n=[];return t.filter(e=>-1===n.indexOf(e.ART_ID)&&(n.push(e.ART_ID),!0))};function P(){const e=a.Ay.getCurrentSong()||{},t=Object.assign({},a.Ay.getPrevSong())||{},n=Object.assign({},a.Ay.getNextSong())||{},r=a.Ay.getMediaId(e),i=a.Ay.getMediaType()||"",s=e[r]?String(e[r]):"-1";let o=a.Ay.getTrackList()||[];o=o.map(e=>Object.assign({},e));let c=a.Ay.getTrackList(!1,!0)||[];return c=c.map(e=>Object.assign({},e)),{track:e,trackPrev:t,trackNext:n,id:s,list:o,unshuffledList:c,index:a.Ay.getTrackListIndex(),tracklistDuration:Number(a.Ay.getTrackListDuration()),trackDuration:Number(a.Ay.getDuration())||0,albumTitle:(p=e,d.Ay.parser.name(p)||""),trackArtists:_(e),isFavorite:A.A.isFavorite(y.Ay.Song,s),isExplicit:Boolean((0,u.AP)(e)||(0,u.Wh)(e)),isLastSong:a.Ay.isLastSong(),liveStreamData:i===l.zu.LIVE_STREAM?o[0]:{},isFingerprinted:!1,mediaType:a.Ay.getMediaType()||"",context:a.Ay.getContext()||{}};var p}const v=e=>{const t={...e,...P()};return t.maxPlayedIndex=(0,s.A)(e.context,t.context)?Math.max(a.Ay.getTrackListIndex(),e.maxPlayedIndex):a.Ay.getTrackListIndex(),t};function f(e=g,t={}){let n,r,i,o,c,d;switch(t.type){case E.xo:case E.Qx:return v(e);case E.gz:return n=a.Ay.getCurrentSong()||{},o=a.Ay.getMediaId(n),e.id!==String(n[o])||!(0,s.A)(e.context,a.Ay.getContext())||e.track&&e.track.UID&&e.track.UID!==n.UID||e.track&&e.track.TS&&e.track.TS!==n.TS?v(e):e;case E.p8:return n=t.track,o=a.Ay.getMediaId(n),d=String(n[o]),e.id===d&&e.isFingerprinted?e:{...e,track:n,id:d,trackArtists:_(n),isFingerprinted:!0,isFavorite:A.A.isFavorite(y.Ay.Song,d)};case E.hC:return c=A.A.isFavorite(y.Ay.Song,e.id),c!==e.isFavorite?{...e,isFavorite:c}:e;case E.q6:return t.trackDuration!==e.trackDuration?{...e,trackDuration:a.Ay.isLimited()?30:Number(t.trackDuration)}:e;case h.f6:return a.Ay.getRepeat()===l.EV.SINGLE?e:(r=Object.assign({},a.Ay.getPrevSong())||{},i=Object.assign({},a.Ay.getNextSong())||{},o=a.Ay.getMediaId(n),e.trackPrev[o]!==r[o]||e.trackNext[o]!==i[o]?{...e,trackPrev:r,trackNext:i,isLastSong:a.Ay.isLastSong()}:e);case E.GD:return{...e,trackTitle:t.trackTitle};case E.LK:return{...e,cover:t.cover};case E.Xv:return{...e,quality:t.quality};default:return e}}const b=e=>({type:E.Xv,quality:e});function C(){return(e,t)=>{const n=H(t());n!==t().player.music.cover&&e({type:E.LK,cover:n})}}function k(){return(e,t)=>{const n=X(t());n!==t().player.music.trackTitle&&e({type:E.GD,trackTitle:n})}}function S(){return e=>{e({type:E.xo}),e(C()),e(k()),e((0,c.WI)()),e((0,c.eK)())}}function T(e={}){return t=>{t({...e,type:E.gz}),t(C()),t(k()),t((0,c.WI)()),t((0,c.eK)())}}function I(e={}){return t=>{t({...e,type:E.Qx}),t(C()),t(k()),t((0,c.WI)()),t((0,c.eK)())}}function x(e){return t=>{t({type:E.p8,track:e.track}),t(C()),t(k())}}const D=()=>({type:E.hC}),R=e=>({type:E.q6,trackDuration:Number(e.trackDuration)}),w=({player:e})=>e.music.mediaType||null,L=({player:e})=>e.music.context||null,F=({player:e})=>e.music.index,M=({player:e})=>e.music.isFingerprinted,O=({player:e})=>e.music.track||{},N=({player:e})=>e.music.trackPrev||{},U=({player:e})=>e.music.trackNext||{},q=({player:e})=>e.config.playerType,z=({player:e})=>e.music.cover,B=({player:e})=>e.music.quality,W=({player:e})=>e.music.albumTitle,G=({player:e})=>e.music.trackArtists,Y=({player:e})=>e.music.cover,V=(e,t,n,r)=>{if((0,a._k)(t)||!(0,i.A)(n))return"";let s=n[{[l.zu.EPISODE]:"EPISODE_TITLE",[l.zu.LIVE_STREAM]:r?"SNG_TITLE":"LIVESTREAM_TITLE"}[e]]||n.SNG_TITLE;return"string"==typeof n.VERSION&&n.VERSION.length>0&&(s+=" "+n.VERSION),s},H=(0,r.Mz)([O,q,w,M,({player:e})=>e.config.isBlindTestMode,({player:e})=>e.music.track?e.music.track.ALB_PICTURE:"",({player:e})=>e.music.track?e.music.track.PICTURE_URL:"",({player:e})=>e.music.track?e.music.track.EPISODE_IMAGE_MD5:"",({player:e})=>e.music.liveStreamData],(e,t,n,r,i,s,a,c,d)=>{let u=((p=`https://${o.default.get("host_img_url_ssl")}`)&&(p=p.lastIndexOf("/")===p.length-1?p.substr(0,p.length-1):p),p);var p;let h=m;if(t!==l.Cc.ADS&&(h=`${u}/cover`,n===l.zu.EPISODE?h=`${u}/talk/${c}`:i||"string"!=typeof s||(h+="/"+s),h+=`/${E.e0}x${E.e0}.jpg`),n===l.zu.EXTERNAL||n===l.zu.LIVE_STREAM){let e="";e=n===l.zu.LIVE_STREAM?r?s:d.LIVESTREAM_IMAGE_MD5:a,h="http"===e.substring(0,4)?e:`${u}/${r?"cover":"misc"}/${e}/${E.e0}x${E.e0}.jpg`}return h}),Q=(0,r.Mz)([w,O],(e,t)=>e===l.zu.SONG&&void 0!==t.LYRICS_ID&&0!==Number(t.LYRICS_ID)),X=(0,r.Mz)([w,q,O,M],V),K=(0,r.Mz)([w,q,N],V),j=(0,r.Mz)([w,q,U],V),J=(0,r.Mz)([N],_),$=(0,r.Mz)([U],_)},WfRu:(e,t,n)=>{n.d(t,{Ay:()=>s,Lm:()=>l,On:()=>a,Pu:()=>o});const r="components/Popper/SHOW_POPPER",i="components/Popper/HIDE_POPPER",s=(e={popperId:""},t={})=>{switch(t.type){case r:return{popperId:t.popperId};case i:return{popperId:""};default:return e}},a=e=>({type:r,popperId:e}),l=()=>({type:i}),o=(e,t)=>e.popperId===t},XFWV:(e,t,n)=>{n.d(t,{A:()=>A});var r,i,s=n("q1tI"),a=n("TRpf"),l=n("Wp0Y"),o=n("shsj"),c=n("YG8s"),d=n("eb01"),u=n("kotc"),p=n("7bxg"),m=n("Xf48"),h=n("M31W");const A=(0,a.Ng)(({cache:e,user:t},n)=>({currentAudioQuality:t.currentAudioQuality,isPersisted:(0,o._B)(e,{id:n.id,type:n.type})}))(({context:e,currentAudioQuality:t,id:n,isPersisted:a,type:o})=>{const{addToCache:A,removeFromCache:y}=(0,h.$)(),E=a?r||(r=s.createElement(p.w,{size:"medium"})):i||(i=s.createElement(m.m,{size:"medium"})),g=a?s.createElement(u.A,{value:(0,l.AP)("desktopapp_action_removefromdownloads_web")}):s.createElement(u.A,{value:(0,l.AP)("Télécharger")});return s.createElement(c.A,{handleClick:()=>{const r={id:n.toString(),type:o,context:e};return a?y({entity:r}):A({entity:r,quality:t})}},s.createElement(d.A,null,E),g)})},YG8s:(e,t,n)=>{n.d(t,{A:()=>c});var r=n("q1tI"),i=n("TRpf"),s=n("WfRu"),a=n("1j1w");class l extends r.Component{constructor(e){super(e),this.handleClick=this.handleClick.bind(this)}handleClick(){const{closeOnClick:e,dispatchHidePopper:t,handleClick:n}=this.props;n(),e&&t()}render(){const{children:e}=this.props;return r.createElement("button",{className:a.A.root,type:"button",onClick:this.handleClick},e)}}l.defaultProps={closeOnClick:!0};const o={dispatchHidePopper:s.Lm},c=(0,i.Ng)(null,o)(l)},ZhMq:(e,t,n)=>{n.d(t,{A:()=>f});var r=n("q1tI"),i=n("Wp0Y"),s=n("YG8s"),a=n("eb01"),l=n("kotc"),o=n("wZBD"),c=n("tWUd"),d=n("xwKl"),u=n("A2sV"),p=n("pSJK"),m=n("yeE0");const h=({id:e,context:t=u.fW1.HOMEPAGE})=>{var n,r;const i=(0,p.A)(),s=(0,m.A)(),{loading:a,data:l}=(0,u.ICy)({variables:{context:u.fW1.HOMEPAGE}});if(a)return{isAlbumPinned:!1,togglePin:()=>{}};const o=(null!==(n=null==l||null===(r=l.me)||void 0===r?void 0:r.quickAccess.pinnedItems)&&void 0!==n?n:[]).some(({item:t})=>"Album"===t.__typename&&t.id===e);return{isAlbumPinned:o,togglePin:o?()=>i(e,u.I6U.ALBUM,t):()=>s(e,u.I6U.ALBUM,t)}},A=({id:e,context:t=u.fW1.HOMEPAGE})=>{var n,r;const i=(0,p.A)(),s=(0,m.A)(),{loading:a,data:l}=(0,u.ICy)({variables:{context:u.fW1.HOMEPAGE}});if(a)return{isPlaylistPinned:!1,togglePin:()=>{}};const o=(null!==(n=null==l||null===(r=l.me)||void 0===r?void 0:r.quickAccess.pinnedItems)&&void 0!==n?n:[]).some(({item:t})=>"Playlist"===t.__typename&&t.id===e);return{isPlaylistPinned:o,togglePin:o?()=>i(e,u.I6U.PLAYLIST,t):()=>s(e,u.I6U.PLAYLIST,t)}},y=({id:e,context:t=u.fW1.HOMEPAGE})=>{var n,r;const i=(0,p.A)(),s=(0,m.A)(),{loading:a,data:l}=(0,u.ICy)({variables:{context:u.fW1.HOMEPAGE}});if(a)return{isPodcastPinned:!1,togglePin:()=>{}};const o=(null!==(n=null==l||null===(r=l.me)||void 0===r?void 0:r.quickAccess.pinnedItems)&&void 0!==n?n:[]).some(({item:t})=>"Podcast"===t.__typename&&t.id===e);return{isPodcastPinned:o,togglePin:o?()=>i(e,u.I6U.PODCAST,t):()=>s(e,u.I6U.PODCAST,t)}},E=({id:e,context:t=u.fW1.HOMEPAGE})=>{var n,r;const i=(0,p.A)(),s=(0,m.A)(),{loading:a,data:l}=(0,u.ICy)({variables:{context:u.fW1.HOMEPAGE}});if(a)return{isArtistPinned:!1,togglePin:()=>{}};const o=(null!==(n=null==l||null===(r=l.me)||void 0===r?void 0:r.quickAccess.pinnedItems)&&void 0!==n?n:[]).some(({item:t})=>"Artist"===t.__typename&&t.id===e);return{isArtistPinned:o,togglePin:o?()=>i(e,u.I6U.ARTIST,t):()=>s(e,u.I6U.ARTIST,t)}},g=({id:e,context:t=u.fW1.HOMEPAGE})=>{var n,r;const i=(0,p.A)(),s=(0,m.A)(),{loading:a,data:l}=(0,u.ICy)({variables:{context:u.fW1.HOMEPAGE}});if(a)return{isTrackPinned:!1,togglePin:()=>{}};const o=(null!==(n=null==l||null===(r=l.me)||void 0===r?void 0:r.quickAccess.pinnedItems)&&void 0!==n?n:[]).some(({item:t})=>"Track"===t.__typename&&t.id===e);return{isTrackPinned:o,togglePin:o?()=>i(e,u.I6U.TRACK,t):()=>s(e,u.I6U.TRACK,t)}},_=({id:e,context:t=u.fW1.HOMEPAGE})=>{var n,r;const i=(0,p.A)(),s=(0,m.A)(),{loading:a,data:l}=(0,u.ICy)({variables:{context:u.fW1.HOMEPAGE}});if(a)return{isLivestreamPinned:!1,togglePin:()=>{}};const o=(null!==(n=null==l||null===(r=l.me)||void 0===r?void 0:r.quickAccess.pinnedItems)&&void 0!==n?n:[]).some(({item:t})=>"Livestream"===t.__typename&&t.id===e);return{isLivestreamPinned:o,togglePin:o?()=>i(e,u.I6U.LIVESTREAM,t):()=>s(e,u.I6U.LIVESTREAM,t)}};var P,v;const f=({id:e,type:t,context:n=u.fW1.HOMEPAGE})=>{const{isArtistPinned:p,togglePin:m}=E({id:e,context:n}),{isAlbumPinned:f,togglePin:b}=h({id:e,context:n}),{isPlaylistPinned:C,togglePin:k}=A({id:e,context:n}),{isPodcastPinned:S,togglePin:T}=y({id:e,context:n}),{isTrackPinned:I,togglePin:x}=g({id:e,context:n}),{isLivestreamPinned:D,togglePin:R}=_({id:e,context:n});let w,L;switch(t){case u.I6U.ARTIST:w=p,L=m;break;case u.I6U.ALBUM:w=f,L=b;break;case u.I6U.PLAYLIST:w=C,L=k;break;case u.I6U.PODCAST:w=S,L=T;break;case u.I6U.TRACK:w=I,L=x;break;case u.I6U.LIVESTREAM:w=D,L=R;break;default:w=!1,L=()=>{}}const F=w?P||(P=r.createElement(c.Z,{size:"medium"})):v||(v=r.createElement(d.d,{size:"medium"})),M=w?(0,i.AP)("contextualmenu_action_removepin_web"):(0,i.AP)("contextualmenu_title_pintosidebar_web");return r.createElement(s.A,{handleClick:L,"aria-label":M},r.createElement(a.A,null,F),r.createElement(l.A,{hasEllipsis:!1},M," ",!w&&r.createElement(o.J,{variant:"accent",size:"small"},(0,i.AP)("generic_title_new_web"))))}},aWMX:(e,t,n)=>{n.d(t,{A:()=>s});var r=n("0JBE"),i=n("LOQS");const s=()=>{const{page:e,entityId:t,entity:n}=(0,r.iQ)();return e&&t&&n?(r,{id:s,type:a})=>i.A.log({type:"cdp",eventName:"item_queued",customAttributes:{screen_view_name:e,screen_view_id:t,screen_view_id_type:n,item_id:s,item_type:a,contextual_menu_option:r}}):()=>{}}},b5Ea:(e,t,n)=>{n.d(t,{A:()=>d});var r,i=n("q1tI"),s=n("Wp0Y"),a=n("le3u"),l=n("EPmj"),o=n("Jfek"),c=n("0JBE");const d=({context:e,data:t,id:n,type:d})=>{const u=(0,c.iQ)();return i.createElement(a.A,{data:{componentType:o.Wg.contextualMenu,context:e,data:t,id:n,type:d,breadcrumb:u},label:(0,s.AP)("Partager"),name:o.DN},r||(r=i.createElement(l.l,{size:"medium"})))}},deeu:(e,t,n)=>{n.d(t,{h:()=>r});let r=function(e){return e.PLAY="play",e.PLAY_NEXT="play_next",e.PLAY_RADIO="play_radio",e}({})},eb01:(e,t,n)=>{n.d(t,{A:()=>c});var r=n("q1tI"),i=n("juqV");const a="lXZbh",l="i0PtA",o="a6xE1",c=({children:e,isActive:t=!1,isOnRight:n=!1,isSmall:c=!1})=>{const d=(0,r.cloneElement)(e,{boxSize:c?"16px":"24px"}),u=(0,i.A)("APyTE",{[a]:t,[l]:n,[o]:c});return r.createElement("span",{className:u},d)}},g1Fm:(e,t,n)=>{function r(e,t=!1){return e?t?e.charAt(0).toUpperCase()+e.substr(1).toLocaleLowerCase():e.charAt(0).toUpperCase()+e.substr(1):e}n.d(t,{A:()=>r})},h8EF:(e,t,n)=>{n.d(t,{bv:()=>k,dJ:()=>o,h4:()=>T});var r=n("LOQS"),i=n("xobL"),s=n("WKgy"),a=n("rA75"),l=n("8iEq");let o=function(e){return e.PLAY_CLICKED="play_clicked",e.FILTER_CLICKED="filter_clicked",e}({});const u="A_Z_artist",p="A_Z_album",h="added",g="default",k={home:"favorite_tab",loved:"favorite_tracks",playlists:"favorite_playlists",albums:"favorite_albums",artists:"favorite_artists",history:"favorite_playlists_listening_history",podcasts:"favorite_podcasts",shows:"favorite_podcasts",latest:"favorite_podcasts_latest_episodes",resume:"favorite_podcasts_ongoing",downloads:"favorite_downloaded_music"},S=e=>{switch(e){case l.Lq:return"A_Z";case l.lG:return u;case l._y:return p;case l.D7:return"A_Z_podcast";case l.WU:return"recently_updated";case l.L$:return"recently_added";case"item.title":return"A_Z_track";case"item.artist.name":return u;case"item.parent.name":return p;case"item.date":return h;case"item.duration":return"duration";case"item.popularity":return"popularity";case a.R.PlaylistPersonal:return"personal";case a.R.PlaylistFavorite:return h;case a.R.PlaylistCollaborative:return"collaborative";case g:return g;case l.Lh:return"recently_added";case l.Y:return"recently_updated";default:return"all"}},T=({action:e,payload:t})=>{const{item_id:n,item_position:a,path:l,contextType:c,play_type:d,filter_name:u,filter_type:p}=t,m=k[l];if(!m)return;const h={screen_view_name:m,item_position:a,item_id:n};switch("home"===l&&c&&(h.section_name=(e=>e.includes("recently_played")?"recently_played":e.includes("profile_shows")?k.podcasts:e.includes("profile_")?e.replace("profile","favorite"):e.includes("playlist_page")?"playlist_page":e)(c)),"shuffle"===t.play_type||"loved"!==l&&"history"!==l||(h.item_type="track"),e){case o.PLAY_CLICKED:if(!(()=>{const{user:e}=s.A.getState(),t=(0,i.F6)(e);return window.location.href.includes(`/profile/${t}`)})())return;r.A.log({type:"cdp",eventName:"play_clicked",eventVersion:2,customAttributes:{play_type:d||"direct_play",...h}});break;case o.FILTER_CLICKED:u&&p&&r.A.log({type:"cdp",eventName:"filter_clicked",eventVersion:2,customAttributes:{filter_name:S(u),filter_type:p,screen_view_name:m}})}}},hMU6:(e,t,n)=>{n.d(t,{W:()=>r});const r=(e,t,n)=>({collection_id:e,collection_type:n,contextual_menu_option:t})},hTBE:(e,t,n)=>{n.d(t,{A:()=>A,v:()=>h}),n("W8Tb");var r=n("5G9X"),i=n("WKgy"),s=n("OPhi"),a=n("6EMc"),l=n("/sVC"),o=n("8iEq");const c=e=>(t,n)=>{let a=null,l=null;const o=e?r.vn[e]:null;o&&(a=t[o]?(0,s.vN)(i.A.getState().feedbacks,e,t[o]):null,l=n[o]?(0,s.vN)(i.A.getState().feedbacks,e,n[o]):null);const c=t.DATE_CREATE?Date.parse(t.DATE_CREATE.replace(" ","T")+".000Z")/1e3:null,d=n.DATE_CREATE?Date.parse(n.DATE_CREATE.replace(" ","T")+".000Z")/1e3:null,u=a||c||0,p=l||d||0;return u===p?0:u<p?1:-1},d=e=>(t,n,r)=>{r="boolean"==typeof r&&r;const i=(t.ALB_TITLE||"").toLowerCase().trim(),s=(n.ALB_TITLE||"").toLowerCase().trim();return i===s?r?0:u(e)(t,n,!0):(0,a.A)(i,s)},u=e=>(t,n,r)=>{r="boolean"==typeof r&&r;const i=(t.ART_NAME||"").toLowerCase().trim(),s=(n.ART_NAME||"").toLowerCase().trim();return i===s?r?0:d(e)(t,n,!0):(0,a.A)(i,s)},p=()=>(e,t)=>{const n=(e.SHOW_NAME||"").toLowerCase().trim(),r=(t.SHOW_NAME||"").toLowerCase().trim();return n===r?0:(0,a.A)(n,r)},m={[o.lG]:u,[o._y]:d,[o.WU]:()=>(e,t)=>{const n=e.DATE_MOD||"0000-00-00 00:00:00",r=t.DATE_MOD||"0000-00-00 00:00:00";return n===r?0:n<r?1:-1},[o.L$]:c,[o.Lq]:()=>(e,t)=>{const n=(e.TITLE||"").toLowerCase().trim(),r=(t.TITLE||"").toLowerCase().trim();return n===r?0:(0,a.A)(n,r)},[o.pZ]:()=>(e,t)=>{const n=(e.NAME||"").toLowerCase().trim(),r=(t.NAME||"").toLowerCase().trim();return n===r?0:(0,a.A)(n,r)},[o.D7]:p,[o.Lh]:c,[o.QS]:()=>(e,t,n)=>{const r=(0,l.A)(e)||"0000-00-00 00:00:00",i=(0,l.A)(t)||"0000-00-00 00:00:00";return r===i?n?0:((e,t)=>Number(e.ALB_ID)<Number(t.ALB_ID)?1:-1)(e,t):r<i?1:-1},[o.m0]:e=>(t,n)=>{const r=Number(t.RANK),i=Number(n.RANK);return r===i?d(e)(t,n):i>r?1:-1},[o.Y]:()=>(e,t)=>{if(!e.LATEST_EPISODE||!t.LATEST_EPISODE)return 0;if(e.LATEST_EPISODE.data.length>0&&t.LATEST_EPISODE.data.length>0){const n=e.LATEST_EPISODE.data[0],r=t.LATEST_EPISODE.data[0],i=n.EPISODE_PUBLISHED_TIMESTAMP||"0000-00-00 00:00:00",s=r.EPISODE_PUBLISHED_TIMESTAMP||"0000-00-00 00:00:00";return i===s?p()(e,t):i<s?1:-1}return 0}},h=e=>"function"==typeof m[e],A=(e,t,n)=>(e=e.slice(0),t!==o.cT&&h(t)?e.sort(m[t](n)):e)},iuq8:(e,t,n)=>{n.d(t,{A:()=>ot});var r,i=n("q1tI"),s=n("TRpf"),a=n("SrwL"),l=n("u7vQ"),o=n("tZCQ"),c=n("xobL"),d=n("CyAC"),u=n("AfN5"),p=n("0bYo"),m=n("CxZw"),h=n("5G9X"),A=n("E4MG"),y=n("xOQS"),E=n("Jfek"),g=n("deeu"),_=n("odR8"),P=n("Mpuh"),v=n("Wp0Y"),f=n("Kgcv"),b=n("YG8s"),C=n("eb01"),k=n("kotc"),S=n("Qx5r");class T extends i.Component{constructor(e){super(e),this.handleClick=this.handleClick.bind(this)}handleClick(){const{dispatchRemoveSong:e,dispatchRemoveSongs:t,ids:n}=this.props;n.length>1?t({ids:n.map(e=>Number(e))}):e({id:Number(n[0])})}render(){return i.createElement(b.A,{handleClick:this.handleClick},r||(r=i.createElement(C.A,null,i.createElement(S.u,{size:"medium"}))),i.createElement(k.A,{value:(0,v.AP)("Retirer de mes MP3")}))}}const I={dispatchRemoveSong:f.c7,dispatchRemoveSongs:f.LZ},x=(0,s.Ng)(null,I)(T);var D,R=n("eq2Y");class w extends i.Component{constructor(e){super(e),this.handleClick=this.handleClick.bind(this)}handleClick(){const{context:e,dispatchDeleteSongFromPlaylist:t,ids:n,playlistId:r}=this.props;confirm((0,v.WI)("Êtes-vous sûr de vouloir supprimer le titre sélectionné ?","Êtes-vous sûr de vouloir supprimer les titres sélectionnés ?",{count:n.length}))&&t({playlist_id:r,songs:this.getSongIdList(),context:e})}getSongIdList(){const{ids:e}=this.props;return e.map(e=>[Number(e),Number(e)>0?0:1])}render(){return i.createElement(b.A,{handleClick:this.handleClick},D||(D=i.createElement(C.A,null,i.createElement(S.u,{size:"medium"}))),i.createElement(k.A,{value:(0,v.AP)("Retirer de la playlist")}))}}const L={dispatchDeleteSongFromPlaylist:R.Vc},F=(0,s.Ng)(null,L)(w);var M=n("1j1w");class O extends i.Component{render(){return i.createElement("div",{className:M.A.root},this.props.children)}}const N=O;var U,q=n("rOm2");const z=({id:e})=>i.createElement(N,null,U||(U=i.createElement(C.A,null,i.createElement(q.o,null))),i.createElement(k.A,{value:`Track id : ${e}`}));var B,W=n("70bL"),G=n("TqF5"),Y=n("ZUSG"),V=n("WrS5");const H=({item:e})=>{const t=(0,s.d4)(W.sc),n=(0,s.wA)();return t?i.createElement(b.A,{handleClick:()=>{n((0,G.qf)({name:V.b.EDIT_MP3,props:{song:e},size:"small"}))}},B||(B=i.createElement(C.A,null,i.createElement(Y.r,{size:"medium"}))),i.createElement(k.A,{value:(0,v.AP)("Modifier")})):null};var Q,X=n("CC4d"),K=n("7Rm4"),j=n("8I5t"),J=n("m02Z"),$=n("GjdC");const Z=({context:e,id:t})=>{const n=(0,$.A)();return i.createElement(b.A,{handleClick:()=>{n("contextual_menu_mix"),l.Ay.play({context:e,id:t,forceAsFirstTrack:!0,type:u.Kk.TRACK_MIX})}},Q||(Q=i.createElement(C.A,null,i.createElement(J.l,{size:"medium"}))),i.createElement(k.A,{value:(0,v.AP)("contextualmenu_text_launchtrackmix_web")}))};var ee,te,ne,re=n("pvbU"),ie=n("6vqc"),se=n("RSbz"),ae=n("vZvY");class le extends i.Component{renderChevron(){return"ltr"===this.props.langDirection?ee||(ee=i.createElement(ie.v,null)):te||(te=i.createElement(se.Y,null))}render(){const{handleClick:e}=this.props;return i.createElement(b.A,{handleClick:()=>{e(re.Q.CONTRIBUTORS)},closeOnClick:!1},ne||(ne=i.createElement(C.A,null,i.createElement(ae.O,{size:"medium"}))),i.createElement(k.A,{isShort:!0,value:(0,v.AP)("contextualmenu_text_seesongcredits_web")}),i.createElement(C.A,{isOnRight:!0,isSmall:!0},this.renderChevron()))}}const oe=(0,s.Ng)(({user:e})=>({langDirection:e.DIRECTION}))(le);var ce,de=n("b5Ea"),ue=n("UAd1"),pe=n("H/eQ"),me=n("WmA5"),he=n("iooo"),Ae=n("hsEi");class ye extends i.Component{constructor(e){super(e),this.handleClick=this.handleClick.bind(this)}handleClick(){const{id:e,context:t,isPremiumUser:n,trackIndex:r,playerType:i,playerTrackId:s,playerIsRadio:a}=this.props;if(i!==u.Cc.ADS){if(s!==e)return a&&!n?void me.A.push((0,he.jd)(`/track/${e}`)):"queuelist"!==t.TYPE&&"queuelistPodcast"!==t.TYPE||!r?(pe.A.subscribeOnce(pe.A.player.tracklist_changed,()=>{pe.A.subscribeOnce(pe.A.player.displayCurrentSong,()=>{this.openLyrics()}),l.Ay.control.nextSong()}),void l.Ay.play({addNext:!0,context:t,id:e,type:h.Ay.Track,notify:!1})):(pe.A.subscribeOnce(pe.A.player.displayCurrentSong,()=>{this.openLyrics()}),void l.Ay.playTrackAtIndex(r));l.Ay.isPaused()||l.Ay.isPlaying()||l.Ay.control.play(),this.openLyrics()}}openLyrics(){this.props.dispatchSetPlayerLyrics(!0)}render(){return i.createElement(b.A,{handleClick:this.handleClick},ce||(ce=i.createElement(C.A,null,i.createElement(Ae.c,{size:"medium"}))),i.createElement(k.A,{value:(0,v.AP)("Écouter avec les paroles")}))}}const Ee={dispatchSetPlayerLyrics:ue.IG},ge=(0,s.Ng)(({user:e,player:t})=>({isPremiumUser:(0,c.ki)(e),playerIsRadio:t.config.isRadio,playerTrackId:t.music.id,playerType:t.config.playerType}),Ee)(ye);var _e,Pe,ve=n("olBe"),fe=n("LAh4"),be=n("SF1U"),Ce=n("elFM");const ke=({id:e,context:t})=>{const{isBannedFromRecommendation:n,toggleDislike:r}=(0,ve.A)(e,t),s=(0,fe.A)(),a=n?_e||(_e=i.createElement(be.e,{size:"medium"})):Pe||(Pe=i.createElement(Ce.z,{size:"medium"})),l=n?(0,v.AP)("banartist_action_allowinmyrecommendations_web"):(0,v.AP)("bantrack_action_dontrecommendthistrack_web");return i.createElement(b.A,{handleClick:function(){r(),s({ban:!n,source_trigger:"contextual_menu"})}},i.createElement(C.A,null,a),i.createElement(k.A,{value:l}))};var Se=n("mXa6"),Te=n("ZhMq"),Ie=n("lXQd"),xe=n("o/gK"),De=n("rXlm");const Me={AUTHOR:"author",COMPOSER:"composer",MISC:"misc"},Oe={author:(0,v.AP)("Auteur :"),composer:(0,v.AP)("Compositeur :"),misc:(0,v.AP)("Autres contributeurs :")};class Ne extends i.Component{renderContributors(e){const{contributors:t}=this.props,n=(0,Ie.A)(t,e);if(!n||0===n.length)return null;const r=(0,Ie.A)(Oe,e);return i.createElement("li",{key:e},i.createElement("div",{className:"Ko223"},r),i.createElement("div",{className:"Kv_Yf"},n.join(" - ")))}render(){return i.createElement(i.Fragment,null,i.createElement(xe.A,{handleClick:this.props.handleBackClick}),i.createElement(De.A,{className:"ATlPc"},i.createElement("ul",{className:"cp8f_"},Object.values(Me).map(e=>this.renderContributors(e)))))}}Ne.panelName=re.Q.CONTRIBUTORS;const Ue=Ne;var qe=n("QoFi"),ze=n("uK53"),Be=n("Sq8Y"),We=n("AY3M"),Ge=n("sAMA"),Ye=n("A2sV");class Ve extends i.Component{constructor(e){super(e),this.state={currentPanel:this.props.forceShowPlaylists?re.Q.PLAYLISTS:null},this.updateCurrentPanel=this.updateCurrentPanel.bind(this),this.resetCurrentPanel=this.resetCurrentPanel.bind(this)}hasContributors(){const{data:e}=this.props;return void 0!==e.SNG_CONTRIBUTORS&&"object"==typeof e.SNG_CONTRIBUTORS&&(e.SNG_CONTRIBUTORS.author instanceof Array||e.SNG_CONTRIBUTORS.composer instanceof Array||e.SNG_CONTRIBUTORS.misc instanceof Array)}hasLyrics(){const{isOnline:e,data:t,mediaType:n}=this.props;return e&&n===u.zu.SONG&&void 0!==t.LYRICS_ID&&t.LYRICS_ID>0}isPlayable(){const{isDisabled:e,isRestrictedByExplicit:t,mediaType:n,playerIsRadio:r}=this.props;return!(e||t||r||l.Ay.chromecast.isCasting()||n!==u.zu.SONG)}isPersonalTrack(){return Number(this.props.id)<0}renderActionsPersonalTrack(){const{context:e,data:t,id:n}=this.props;return e&&e.TYPE===We.EB&&this.isPersonalTrack()?i.createElement(i.Fragment,null,i.createElement("li",null,i.createElement(H,{item:t})),i.createElement("li",null,i.createElement(x,{ids:[n]}))):null}renderAddToPlaylist(){return this.props.isDisabled?null:i.createElement("li",null,i.createElement(_.A,{handleClick:this.updateCurrentPanel}))}renderAddToQueue(){const{context:e,id:t}=this.props;return this.isPlayable()?i.createElement("li",null,i.createElement(P.A,{context:e,ids:[t],type:h.Ay.Track})):null}renderContributorsPanel(){const{data:e}=this.props,{currentPanel:t}=this.state;return this.hasContributors()?i.createElement(qe.A,{isVisible:t===Ue.panelName},i.createElement(Ue,{contributors:e.SNG_CONTRIBUTORS||{},handleBackClick:this.resetCurrentPanel})):null}renderDeleteFromPlaylist(){const{context:e,data:t,id:n}=this.props;return e&&"playlist_page"===e.TYPE&&t.PLAYLIST_ID&&t.IS_DELETABLE?i.createElement("li",null,i.createElement(F,{context:e,ids:[n],playlistId:t.PLAYLIST_ID})):null}renderDisplayTrackId(){const{id:e}=this.props;return o.A.isAllowed("employee_feature")?i.createElement("li",null,i.createElement(z,{id:e})):null}renderEditTags(){const{id:e}=this.props;return o.A.isAllowed("employee_feature")?i.createElement("li",null,i.createElement(X.A,{id:e,type:h.Ay.Song})):null}renderGiveFeedback(){const{id:e}=this.props;return i.createElement("li",null,i.createElement(K.A,{id:Number(e),type:h.Ay.Track}))}renderLyrics(){const{context:e,data:t,id:n}=this.props;return this.hasLyrics()&&this.isPlayable()?i.createElement("li",null,i.createElement(ge,{context:e,id:n,trackIndex:t.INDEX||void 0})):null}renderPlay(){const{context:e,data:t,id:n}=this.props;return this.isPlayable()?i.createElement("li",null,i.createElement(j.A,{action:g.h.PLAY_NEXT,context:e,ids:[n],trackIndex:t.INDEX||void 0,type:h.Ay.Track})):null}renderTogglePin(){const{id:e}=this.props;return o.A.isAllowed("feature_2025_quick_access")?i.createElement("li",null,i.createElement(Te.A,{id:e,type:Ye.I6U.TRACK})):null}renderPlaylistsPanel(){const{context:e,id:t}=this.props,{currentPanel:n}=this.state,r=n===re.Q.PLAYLISTS;return i.createElement(qe.A,{isVisible:r},i.createElement(Be.A,{isVisible:r,context:e,handleBackClick:this.resetCurrentPanel,ids:[t]}))}renderPlayTrackMix(){const{id:e}=this.props;return this.isPersonalTrack()?null:i.createElement("li",null,i.createElement(Z,{id:e,context:{ID:e,TYPE:p.A[We.jF]}}))}renderMainPanel(){return i.createElement(ze.A,{isVisible:null===this.state.currentPanel},i.createElement("ul",null,this.renderPlay(),this.renderAddToQueue(),this.renderPlayTrackMix(),this.renderToggleFavorite(),this.renderToggleDislike(),this.renderAddToPlaylist(),this.renderDeleteFromPlaylist(),this.renderActionsPersonalTrack(),this.renderLyrics(),this.renderShare(),this.renderTogglePin(),this.renderOpenContributors(),this.renderGiveFeedback(),this.renderEditTags(),this.renderDisplayTrackId()))}renderOpenContributors(){return this.hasContributors()?i.createElement("li",null,i.createElement(oe,{handleClick:this.updateCurrentPanel})):null}renderShare(){const{context:e,data:t,id:n}=this.props;return this.isPersonalTrack()?null:i.createElement("li",null,i.createElement(de.A,{context:e,data:(null==t?void 0:t.SONG)||t,id:n,type:E.Gb.song}))}renderToggleDislike(){const{context:e,id:t}=this.props;return this.isPersonalTrack()?null:i.createElement("li",null,i.createElement(ke,{context:e,id:t}))}renderToggleFavorite(){const{context:e,id:t,isDisabled:n}=this.props;return i.createElement("li",null,i.createElement(Se.A,{context:e,id:t,isDisabled:n,type:h.Ay.Song}))}resetCurrentPanel(){this.setState({currentPanel:null})}updateCurrentPanel(e){e===Ue.panelName||e===re.Q.PLAYLISTS?this.setState({currentPanel:e}):this.setState({currentPanel:null})}render(){return i.createElement(A.A,{hasMultiPanels:!0,isExtended:null!==this.state.currentPanel},this.renderMainPanel(),this.renderPlaylistsPanel(),this.renderContributorsPanel())}}Ve.defaultProps={forceShowPlaylists:!1};const He=(0,y.A)((0,s.Ng)(({app:e,player:t,user:n},{data:r})=>{const i=(0,c.Uw)(n)===Ge.g&&(0,d.AP)(r);return{isOnline:e.online,mediaType:t.music.mediaType,playerIsRadio:t.config.isRadio,isDisabled:!i&&m.A.checkSongAvailable(r.FALLBACK||r)!==m.A.READABLE,isRestrictedByExplicit:i}})(Ve));var Qe,Xe=n("+dDc"),Ke=n("34sk");const je=({ids:e,isDisabled:t=!1})=>{const n=(0,s.d4)(W.sc),r=(0,s.wA)();return t||!n?null:i.createElement(b.A,{handleClick:()=>{confirm((0,v.WI)("Êtes-vous sûr de vouloir supprimer le titre sélectionné ?","Êtes-vous sûr de vouloir supprimer les titres sélectionnés ?",{count:e.length}))&&r((0,Ke.HS)(e,h.Ay.Song))}},Qe||(Qe=i.createElement(C.A,null,i.createElement(S.u,{size:"medium"}))),i.createElement(k.A,{value:(0,v.AP)("banfeatures_action_removetracksfromlist_web")}))};var Je,$e=n("fJgm");class Ze extends i.Component{constructor(e){super(e),this.handleClick=this.handleClick.bind(this)}handleClick(){const{context:e,ids:t}=this.props;confirm((0,v.WI)("Êtes-vous sûr de vouloir supprimer le titre sélectionné ?","Êtes-vous sûr de vouloir supprimer les titres sélectionnés ?",{count:t.length}))&&$e.A.remove({type:h.Ay.Song,id:t,context:e})}render(){const{isDisabled:e}=this.props;return e?null:i.createElement(b.A,{handleClick:this.handleClick},Je||(Je=i.createElement(C.A,null,i.createElement(S.u,{size:"medium"}))),i.createElement(k.A,{value:(0,v.AP)("Retirer des Coups de cœur")}))}}Ze.defaultProps={isDisabled:!1};const et=Ze;class nt extends i.Component{constructor(e){super(e),this.state={currentPanel:this.props.forceShowPlaylists?re.Q.PLAYLISTS:null},this.updateCurrentPanel=this.updateCurrentPanel.bind(this),this.resetCurrentPanel=this.resetCurrentPanel.bind(this)}isPlayable(){const{playerIsRadio:e,mediaType:t}=this.props;return!e&&!l.Ay.chromecast.isCasting()&&t===u.zu.SONG}renderAddToPlaylist(){return i.createElement("li",null,i.createElement(_.A,{handleClick:this.updateCurrentPanel}))}renderAddToQueue(){const{context:e,ids:t}=this.props;return this.isPlayable()?i.createElement("li",null,i.createElement(P.A,{context:e,ids:t,type:h.Ay.Track})):null}renderDeleteFromDislike(){const{context:e,ids:t}=this.props;return e.TYPE!==We.vj?null:i.createElement("li",null,i.createElement(je,{context:e,ids:t}))}renderDeleteFromFavorite(){const{context:e,ids:t,isUsersLovedTrackPlaylist:n}=this.props;return n?i.createElement("li",null,i.createElement(et,{context:e,ids:t})):null}renderDeleteFromPersonalTrack(){const{context:e,ids:t}=this.props;return e&&e.TYPE===We.EB?i.createElement("li",null,i.createElement(x,{ids:t})):null}renderDeleteFromPlaylist(){const{context:e,data:t,ids:n,isUsersLovedTrackPlaylist:r}=this.props;return e&&"playlist_page"===e.TYPE?!t.IS_DELETABLE||r?null:i.createElement("li",null,i.createElement(F,{context:e,ids:n,playlistId:t.PLAYLIST_ID})):null}renderHeader(){const{hasHeader:e,ids:t}=this.props;if(!e)return null;const n=t.length,r=(0,v.WI)("%s titre","%s titres",{sprintf:[n],count:n});return i.createElement("li",{className:"jE33l"},i.createElement("h3",null,r))}renderPlay(){const{context:e,ids:t}=this.props;return this.isPlayable()?i.createElement("li",null,i.createElement(j.A,{action:g.h.PLAY_NEXT,context:e,ids:t,type:h.Ay.Track})):null}renderPlaylistsPanel(){const{context:e,ids:t}=this.props,{currentPanel:n}=this.state,r=n===re.Q.PLAYLISTS;return i.createElement(qe.A,{isVisible:r},i.createElement(Be.A,{isVisible:r,context:e,handleBackClick:this.resetCurrentPanel,ids:t}))}renderMainPanel(){return i.createElement(ze.A,{isVisible:null===this.state.currentPanel},i.createElement("ul",null,this.renderHeader(),this.renderPlay(),this.renderAddToQueue(),this.renderAddToPlaylist(),this.renderDeleteFromFavorite(),this.renderDeleteFromPlaylist(),this.renderDeleteFromDislike(),this.renderDeleteFromPersonalTrack()))}resetCurrentPanel(){this.setState({currentPanel:null})}updateCurrentPanel(e){e===re.Q.PLAYLISTS?this.setState({currentPanel:e}):this.setState({currentPanel:null})}render(){return i.createElement(A.A,{hasMultiPanels:!0,isExtended:null!==this.state.currentPanel},this.renderMainPanel(),this.renderPlaylistsPanel())}}nt.defaultProps={forceShowPlaylists:!1,hasHeader:!1};const rt=(0,y.A)((0,s.Ng)(({entities:e,player:t,user:n},{context:r})=>({isUsersLovedTrackPlaylist:"playlist_page"===r.TYPE&&(0,Xe.dR)(e,{id:String(r.ID),currentUserId:(0,c.F6)(n)}),mediaType:t.music.mediaType,playerIsRadio:t.config.isRadio}))(nt));var it=n("zDvJ"),st=n("LpaV"),at=n("WfRu");class lt extends i.Component{constructor(e){super(e),this.contextMenuId="",this.contextMenuId=(0,a.uC)()}render(){const{anchor:e,context:t,data:n,forceShowPlaylists:r,hasHeader:s,id:l,placement:o,storePopperId:c}=this.props,d=Array.isArray(l)?l.map(String):[String(l)],u=r?a.tB:"";return i.createElement(st.K.Consumer,null,a=>{const l={data:{context:t,data:n,forceShowPlaylists:r,hasHeader:s,id:d[0],ids:d},hasArrow:!1,placement:o,popperId:`${a||this.contextMenuId}${u}`,trigger:[it.uW,it.h4],usePortal:!0},p=(0,at.Pu)(l,c),m="function"==typeof e?e(p):e;return d.length<=1?i.createElement(He,l,m):i.createElement(rt,l,m)})}}lt.defaultProps={forceShowPlaylists:!1,hasHeader:!1,placement:"left"};const ot=(0,s.Ng)(e=>({storePopperId:e.popper.popperId}))(lt)},kb9X:(e,t,n)=>{n.d(t,{A:()=>s});var r=n("0JBE"),i=n("LOQS");const s=()=>{const{page:e,section:t,entityId:n,entity:s,item:a,itemId:l,itemIndex:o}=(0,r.iQ)();if(!e||!a||!l)return()=>{};const c=o||0===o?o+1:null;return()=>i.A.log({type:"cdp",eventName:"item_clicked",customAttributes:{screen_view_name:e,item_id:l,item_type:a,...s&&{screen_view_id_type:s},...n&&{screen_view_id:n},...t&&{section_name:t},...c&&{item_position:c}}})}},kotc:(e,t,n)=>{n.d(t,{A:()=>c});var r=n("q1tI"),i=n("juqV");const a="NExuV",l="FoAMI",o="spclt",c=({isActive:e=!1,isShort:t=!1,hasEllipsis:n=!0,value:c,children:d})=>{const u=(0,i.A)("_G9BW",{[a]:e,[l]:t,[o]:n});return r.createElement("span",{className:u},d||c)}},lF32:(e,t,n)=>{n.d(t,{f:()=>he,A:()=>Ae});var r,i=n("q1tI"),s=n("CdHq"),a=n("y7xR"),l=n("wZBD"),o=n("HmE0"),c=n("gXj/"),d=n("pVdW"),u=n("yCtO"),p=n("GPus"),m=n("xwKl"),h=n("7Gye"),A=n("+9dH"),y=n("TDRX"),E=n("lhvF"),g=n("CrR0"),_=n("FFW9"),P=n("A0BP"),v=n("RQNg"),f=n("Ti9p"),b=n("9OcB"),C=n("Aphq"),k=n("9vg6"),S=n("yJYf"),T=n("IRKz"),I=n("tWUd"),x=n("pSJK"),D=n("Wp0Y");const R=({id:e,type:t})=>{const n=(0,x.A)();return i.createElement(k.h,{overflow:"hidden",ml:"spacing.xl",bgColor:"background.neutral.secondary.default"},i.createElement(S.e,{p:0},i.createElement(T.B.button,{type:"button",display:"flex",alignItems:"center",gap:"spacing.s",textAlign:"left",px:"spacing.m",py:"spacing.l",width:"100%",height:"100%",_hover:{bgColor:"background.neutral.secondary.hovered"},onClick:r=>{r.preventDefault(),r.stopPropagation(),n(e,t)}},r||(r=i.createElement(I.Z,{size:"medium",color:"icon.neutral.secondary.default"})),(0,D.AP)("contextualmenu_action_removepin_web"))))};var w,L,F=n("3gOz"),M=n("GQRc"),O=n("M5EV"),N=n("A2sV"),U=n("UYjI"),q=n("5Loq"),z=n("kb9X"),B=n("GjdC");const W=({id:e,title:t,type:n,imageUrl:r,isCollapsed:s=!1,onPlay:a,isPlaying:l})=>{const[d,u]=i.useState(!1),[p,m]=i.useState(!1),h=n===N.I6U.ARTIST||n===N.I6U.FLOW_CONFIG,k=!!a,S=n===N.I6U.PODCAST?`/show/${e}`:`/${n.toLowerCase()}/${e}`,T=(0,z.A)(),I=(0,B.A)();return i.createElement(C.A,{to:k?void 0:S,onMouseEnter:()=>u(!0),onMouseLeave:()=>u(!1),isCollapsed:s,onClick:()=>{if(a)return a(),void(l||I("direct_play"));T()}},i.createElement(c.h,{position:"relative"},i.createElement(U.t,{size:"small",position:"absolute",top:0,right:0,zIndex:1,boxSize:"12px",color:h?"icon.neutral.primary.default":"icon.accent.onDark.default"}),i.createElement(y.a,(0,A.A)({},h&&{borderRadius:"rounded"},{minWidth:"size.xl",boxSize:"size.xl",overflow:"hidden",position:"relative",_groupHover:{backgroundColor:n===N.I6U.FLOW_CONFIG?(0,M.RQ)(e).backgroundColor:void 0},transition:"background-color 200ms ease-in-out"}),i.createElement(b.A,(0,A.A)({src:r,alt:t},h&&{borderRadius:"rounded"}),k&&i.createElement(E.Q,null,i.createElement(g.U,{displayForce:l,"aria-label":l?(0,D.AP)("Pause"):(0,D.AP)("Play"),as:"div",onClick:a,icon:i.createElement(O.A,{isActive:l,isHover:d,size:"small",color:"text.accent.onLight.default"})}))),n!==N.I6U.FLOW_CONFIG&&(w||(w=i.createElement(y.a,{position:"absolute",left:0,top:0,width:"100%",height:"100%",bgGradient:"linear(to-b, rgba(0,0,0,0.32) 0%, rgba(0, 0, 0, 0.16) 32%,  rgba(0, 0, 0, 0.00) 100%)"}))))),!s&&i.createElement(_.f,null,i.createElement(F.A,null,i.createElement(P.n,null,t))),!s&&i.createElement(v.A,{placement:"right",isOpen:p,onClose:()=>m(!1)},d&&!s&&i.createElement(f.W,null,i.createElement(o.K0,{"aria-label":(0,D.AP)("generic_action_viewmenu_web"),"aria-haspopup":!0,size:"sm",variant:"ghost",icon:L||(L=i.createElement(q.j,null)),flexShrink:0,ms:"auto",onClick:e=>{e.preventDefault(),e.stopPropagation(),m(!0)}})),i.createElement(R,{id:e,type:n})))};var G=n("vuQ9"),Y=n("wbbk"),V=n("0JBE"),H=n("GWHm");const Q=({id:e,title:t,imageUrl:n,isCollapsed:r=!1})=>{const{legacyContext:s}=(0,V.iQ)(),{play:a,isPlaying:l}=(0,H.A)({id:e,context:s});return i.createElement(W,{id:e,type:N.I6U.FLOW_CONFIG,title:t,imageUrl:n,isCollapsed:r,isPlaying:l,onPlay:a})};var X=n("mCg/");const K=({id:e,title:t,imageUrl:n,isCollapsed:r=!1})=>{const{legacyContext:s}=(0,V.iQ)(),{play:a,isPlaying:l}=(0,X.A)({id:e,context:s});return i.createElement(W,{id:e,type:N.I6U.TRACK,title:t,imageUrl:n,isCollapsed:r,isPlaying:l,onPlay:a})};var j=n("T+Up");const J=({id:e,title:t,imageUrl:n,isCollapsed:r=!1})=>{const{legacyContext:s}=(0,V.iQ)(),{play:a,isPlaying:l}=(0,j.A)({id:e,context:s});return i.createElement(W,{id:e,type:N.I6U.LIVESTREAM,title:t,imageUrl:n,isCollapsed:r,isPlaying:l,onPlay:a})};var $,Z=n("7bxg");const ee="shouldHidePinTooltip",te=()=>{const[e,t]=i.useState("true"===localStorage.getItem(ee));return e?null:i.createElement(s.s,{direction:"row",p:"spacing.l",pr:"spacing.s",my:"spacing.s",borderRadius:"xs",bgColor:"background.neutral.tertiary.default",align:"flex-start",justify:"space-between",gap:"spacing.l"},i.createElement(d.E,{variant:"body.s.default",color:"text.neutral.primary.default"},(0,D.AP)("sidebartooltip_text_pins_web")),i.createElement(o.K0,{variant:"ghost","aria-label":(0,D.AP)("Fermer"),size:"small",icon:$||($=i.createElement(Z.w,null)),onClick:()=>{localStorage.setItem(ee,"true"),t(!0)},mt:"-8px"}))};var ne,re,ie,se,ae,le,oe,ce=n("zuZo"),de=n("p/gB"),ue=n("5G9X"),pe=n("Fzox"),me=n("xobL");const he=8,Ae=({isCollapsed:e=!1,loading:t,pinnedItems:n,onOpen:r})=>{const[A,y]=i.useState(!1),E=(0,pe.G)(e=>String((0,me.F6)(e.user)));return i.createElement(Y.A,{isCollapsed:e,borderBottom:"1px solid",borderBottomColor:"divider.neutral.primary.default",minWidth:e?"var(--layout-sidebar-width)":void 0,paddingBottom:e?"spacing.l":void 0},!e&&i.createElement(Y.A.Header,{isCollapsed:e,justifyContent:"space-between"},i.createElement(s.s,{justify:"flex-start",gap:"spacing.s",align:"center"},i.createElement(a.D,{variant:"heading.s"},(0,D.AP)("sidebar_title_pins_web")),i.createElement(l.J,{variant:"accent",size:"small"},(0,D.AP)("generic_title_new_web"))),i.createElement(o.K0,{"aria-label":A?"Unfold":"Fold",icon:A?ne||(ne=i.createElement(u.e,null)):re||(re=i.createElement(p.o,null)),variant:"ghost",size:"small",onClick:()=>y(!A)})),e&&A&&(ie||(ie=i.createElement(m.d,{size:"medium",my:"spacing.l"}))),e&&i.createElement(o.K0,{"aria-label":A?"Unfold":"Fold",icon:A?se||(se=i.createElement(u.e,null)):ae||(ae=i.createElement(p.o,null)),variant:"outline",size:"small",onClick:()=>y(!A),mt:A?void 0:"spacing.l",mb:A?void 0:"spacing.s"}),!A&&i.createElement(Y.A.List,null,!e&&(le||(le=i.createElement(te,null))),t&&Array.from(Array(he)).map((t,n)=>i.createElement(G.A,{iconOnly:e,key:n})),n&&i.createElement(i.Fragment,null,n.map(({item:t})=>{var n,r,s,a,l,o,c;if(!t)return null;switch(t.__typename){case"Album":return i.createElement(V.OJ,{key:t.id,value:{item:ue.Ay.Album,itemId:t.id}},i.createElement(W,{id:t.id,type:N.I6U.ALBUM,title:t.displayTitle,imageUrl:null===(n=t.cover)||void 0===n?void 0:n.small[0],isCollapsed:e}));case"Artist":return i.createElement(V.OJ,{key:t.id,value:{item:ue.Ay.Artist,itemId:t.id}},i.createElement(W,{id:t.id,type:N.I6U.ARTIST,title:t.name,imageUrl:null===(r=t.picture)||void 0===r?void 0:r.small[0],isCollapsed:e}));case"Playlist":return i.createElement(V.OJ,{key:t.id,value:{item:ue.Ay.Playlist,itemId:t.id}},i.createElement(W,{id:t.id,type:N.I6U.PLAYLIST,title:t.title,imageUrl:null===(s=t.picture)||void 0===s?void 0:s.small[0],isCollapsed:e}));case"Podcast":return i.createElement(V.OJ,{key:t.id,value:{item:ue.Ay.Podcast,itemId:t.id}},i.createElement(W,{id:t.id,type:N.I6U.PODCAST,title:t.displayTitle,imageUrl:null===(a=t.cover)||void 0===a?void 0:a.small[0],isCollapsed:e}));case"FlowConfig":return i.createElement(V.OJ,{key:t.id,value:{legacyContext:{ID:t.id===ce.u.Default?E:t.id,TYPE:t.id===ce.u.Default?(0,de.VC)(ue.Ay.Flow):(0,de.VC)(ue.Ay.MultiFlow)},item:ue.Ay.Flow,itemId:t.id}},i.createElement(Q,{id:t.id,title:t.title,imageUrl:null===(l=t.visuals.dynamicPageIcon)||void 0===l?void 0:l.small[0],isCollapsed:e}));case"Track":return i.createElement(V.OJ,{key:t.id,value:{legacyContext:{ID:t.id,TYPE:(0,de.VC)(ue.Ay.Track)},item:ue.Ay.Track,itemId:t.id}},i.createElement(K,{id:t.id,title:t.title,imageUrl:null===(o=t.album)||void 0===o||null===(o=o.cover)||void 0===o?void 0:o.small[0],isCollapsed:e}));case"Livestream":return i.createElement(V.OJ,{key:t.id,value:{legacyContext:{ID:t.id,TYPE:(0,de.VC)(ue.Ay.Livestream)},item:ue.Ay.Livestream,itemId:t.id}},i.createElement(J,{id:t.id,title:t.name,imageUrl:null===(c=t.cover)||void 0===c?void 0:c.small[0],isCollapsed:e}));default:return null}}),n.length<he&&i.createElement(C.A,{_hover:{bgColor:"background.neutral.tertiary.hovered"},onClick:r},oe||(oe=i.createElement(c.h,{display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"background.neutral.tertiary.default"},i.createElement(h.c,null))),!e&&i.createElement(d.E,null,(0,D.AP)("generic_action_pincontent_web"))))))}},le3u:(e,t,n)=>{n.d(t,{A:()=>m});var r=n("q1tI"),i=n("TRpf"),s=n("TqF5"),a=n("nxAS"),l=n("YG8s"),o=n("eb01"),c=n("kotc"),d=n("N2fm");class u extends r.Component{constructor(e){super(e),this.handleClick=this.handleClick.bind(this)}handleClick(){const{name:e,data:t,dispatchOpenModal:n,dispatchOpenScreen:r,isScreen:i,size:s,onClick:a}=this.props;null==a||a(),i?r({name:e,data:t}):n({name:e,props:t,size:s})}render(){const{children:e,label:t}=this.props;return r.createElement(l.A,{handleClick:this.handleClick},r.createElement(o.A,null,e),r.createElement(c.A,{value:t}))}}u.defaultProps={data:{},isScreen:!1,size:d.S.LARGE};const p={dispatchOpenModal:s.qf,dispatchOpenScreen:a.J2},m=(0,i.Ng)(null,p)(u)},"mCg/":(e,t,n)=>{n.d(t,{A:()=>o});var r=n("gVf4"),i=n("u7vQ"),s=n("AfN5"),a=n("GjdC"),l=n("5G9X");const o=({id:e,context:t})=>{const{isPlaying:n,isPaused:o}=(0,r.A)(l.Ay.Track,e),c=(0,a.A)();return{isPlaying:n,play:()=>{n||c("direct_play"),n||o?i.Ay.control.togglePause():i.Ay.play({id:e,type:s.Kk.TRACK_MIX,context:t,forceAsFirstTrack:!0})}}}},mXa6:(e,t,n)=>{n.d(t,{A:()=>g});var r,i,s=n("q1tI"),a=n("fJgm"),l=n("Wp0Y"),o=n("OPhi"),c=n("5G9X"),d=n("e2eG"),u=n("YG8s"),p=n("eb01"),m=n("kotc"),h=n("7bxg"),A=n("DcKU"),y=n("Nz/Y"),E=n("Fzox");const g=({context:e,id:t,type:n,isDisabled:g=!1})=>{const[_]=(0,E.G)(e=>[(0,o.BA)(e.feedbacks,t,n)]),P=(0,y.A)(),v=()=>{const r=d.A.getUserDataType(n)||n,i={id:t,context:e,type:r};_?a.A.remove(i):(a.A.add(i),P("add_to_favorite"))};if(!_&&g)return null;if(_){const e=n===c.Ay.Track?(0,l.AP)("Retirer des Coups de cœur"):(0,l.AP)("contextualmenu_text_deletefrommyfavorites_web");return s.createElement(u.A,{handleClick:v},r||(r=s.createElement(p.A,null,s.createElement(h.w,{size:"medium"}))),s.createElement(m.A,{value:e}))}const f=n===c.Ay.Track?(0,l.AP)("Ajouter aux Coups de cœur"):(0,l.AP)("contextualmenu_text_addtomyfavorites_web");return s.createElement(u.A,{handleClick:v},i||(i=s.createElement(p.A,null,s.createElement(A.M,{size:"medium"}))),s.createElement(m.A,{value:f}))}},nxAS:(e,t,n)=>{n.d(t,{Ay:()=>a,Fn:()=>o,J2:()=>l});const r="fullscreen/SHOW_FULLSCREEN",i="fullscreen/HIDE_FULLSCREEN",s={name:"",data:{}};function a(e=s,t={type:null}){switch(t.type){case r:return t.name?{name:t.name,data:t.data}:e;case i:return s;default:return e}}const l=({name:e,data:t})=>({type:r,name:e,data:t}),o=()=>({type:i})},"o/gK":(e,t,n)=>{n.d(t,{A:()=>h});var r=n("q1tI"),i=n("TRpf"),s=n("Wp0Y"),a=n("eb01"),l=n("kotc"),o=n("RSbz"),c=n("6vqc");var u,p;class m extends r.Component{constructor(e){super(e),this.state={isHover:!1},this.handleMouseEnter=this.handleMouseEnter.bind(this),this.handleMouseLeave=this.handleMouseLeave.bind(this)}handleMouseEnter(){this.setState({isHover:!0})}handleMouseLeave(){this.setState({isHover:!1})}renderChevron(){return"ltr"===this.props.langDirection?u||(u=r.createElement(o.Y,null)):p||(p=r.createElement(c.v,null))}render(){const{handleClick:e}=this.props,{isHover:t}=this.state;return r.createElement("button",{className:"wSvrT",type:"button",onClick:e,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},r.createElement(a.A,{isActive:t,isSmall:!0},this.renderChevron()),r.createElement(l.A,{isActive:t,value:(0,s.AP)("Retour")}))}}const h=(0,i.Ng)(({user:e})=>({langDirection:e.DIRECTION}))(m)},odR8:(e,t,n)=>{n.d(t,{A:()=>E});var r,i,s,a=n("q1tI"),l=n("TRpf"),o=n("Wp0Y"),c=n("YG8s"),d=n("eb01"),u=n("kotc"),p=n("RSbz"),m=n("6vqc"),h=n("W1Rt"),A=n("pvbU");class y extends a.Component{renderChevron(){return"ltr"===this.props.langDirection?r||(r=a.createElement(m.v,null)):i||(i=a.createElement(p.Y,null))}render(){const{handleClick:e}=this.props;return a.createElement(c.A,{handleClick:()=>{e(A.Q.PLAYLISTS)},closeOnClick:!1},s||(s=a.createElement(d.A,null,a.createElement(h.G,{size:"medium"}))),a.createElement(u.A,{isShort:!0,value:(0,o.AP)("Ajouter à une playlist")+"..."}),a.createElement(d.A,{isOnRight:!0,isSmall:!0},this.renderChevron()))}}const E=(0,l.Ng)(({user:e})=>({langDirection:e.DIRECTION}))(y)},olBe:(e,t,n)=>{n.d(t,{A:()=>h});var r=n("5G9X"),i=n("FdMc"),s=n("vXsw"),a=n("TRpf"),l=n("Fzox"),o=n("xobL"),c=n("OPhi"),d=n("34sk"),u=n("Au7y"),p=n("A2sV");const m=u.J1`
	fragment isTrackDisliked on Track {
		id
		isBannedFromRecommendation
	}
`,h=(e,t)=>{const n={trackId:e},h=(0,a.wA)(),A=(0,l.G)(({user:e})=>(0,o.UJ)(e)),{data:y}=(0,u.I3)({fragment:m,from:{__typename:"Track",id:e},optimistic:!0}),[E]=(0,l.G)(t=>[(0,c.i8)(t.feedbacks,e,r.Ay.Song)]),g=E||y.isBannedFromRecommendation,[_]=(0,p.sJs)({variables:n,optimisticResponse:{__typename:"Mutation",banTrackFromRecommendation:{__typename:"TrackMutationBanOut",track:{__typename:"Track",id:e,isBannedFromRecommendation:!0}}},onCompleted:()=>{E||h((0,d.zZ)(e,r.Ay.Song,(0,i.A)(),t))}}),[P]=(0,p.v4u)({variables:n,optimisticResponse:{__typename:"Mutation",unbanTrackFromRecommendation:{__typename:"TrackMutationUnbanOut",track:{__typename:"Track",id:e,isBannedFromRecommendation:!1}}},update:e=>{e.updateQuery({query:p.Vc2},e=>{var t,n;if(void 0!==(null==e||null===(t=e.me)||void 0===t||null===(t=t.bannedFromRecommendation)||void 0===t?void 0:t.estimatedTracksCount))return{me:{...e.me,bannedFromRecommendation:{...e.me.bannedFromRecommendation,estimatedTracksCount:(null!==(n=e.me.bannedFromRecommendation.estimatedTracksCount)&&void 0!==n?n:1)-1}}}})},onCompleted:()=>{h((0,d.u5)(e,r.Ay.Song,t))}});return{isBannedFromRecommendation:g,toggleDislike:()=>{A?g?P():_():s.g.goToConnection()}}}},pSJK:(e,t,n)=>{n.d(t,{A:()=>a});var r=n("A2sV"),i=n("Wp0Y"),s=n("fkXJ");const a=()=>{const[e]=(0,r.oGM)({onCompleted:e=>{"QuickAccessUnpinItemMutationOutput"==e.quickAccessUnpinItem.__typename&&(0,s.A)({body:(0,i.AP)("toastmessage_text_pinremoved_web"),status:"success"})},update:(e,t)=>{var n,i;"QuickAccessUnpinItemMutationOutput"===(null===(n=t.data)||void 0===n?void 0:n.quickAccessUnpinItem.__typename)&&null!==(i=t.data)&&void 0!==i&&i.quickAccessUnpinItem.quickAccess&&e.updateQuery({query:r.Q13,variables:{context:r.fW1.HOMEPAGE}},e=>{var n,r;return null!=e&&e.me&&"QuickAccessUnpinItemMutationOutput"===(null===(n=t.data)||void 0===n?void 0:n.quickAccessUnpinItem.__typename)&&null!==(r=t.data)&&void 0!==r&&r.quickAccessUnpinItem.quickAccess?{me:{...e.me,quickAccess:{...e.me.quickAccess,pinnedItems:t.data.quickAccessUnpinItem.quickAccess.pinnedItems}}}:e})}});return(t,n,i=r.fW1.HOMEPAGE)=>{e({variables:{id:t,type:n,context:i}})}}},pvbU:(e,t,n)=>{n.d(t,{Q:()=>r});let r=function(e){return e.CONTRIBUTORS="constributors",e.DESCRIPTION="description",e.PLAYLISTS="playlists",e}({})},rA75:(e,t,n)=>{n.d(t,{R:()=>r});let r=function(e){return e.None="",e.PlaylistPersonal="playlist",e.PlaylistFavorite="playlist-favorite",e.PlaylistCollaborative="playlist-collaborative",e}({})},rXlm:(e,t,n)=>{n.d(t,{A:()=>c}),n("noe2");var r=n("q1tI"),i=n("juqV"),s=n("VQs7"),a=n("EVdn"),l=n.n(a);class o extends r.PureComponent{constructor(e){super(e),this.getScrollTop=this.getScrollTop.bind(this),this.getScrollHeight=this.getScrollHeight.bind(this),this.getClientHeight=this.getClientHeight.bind(this),this.scrollTop=this.scrollTop.bind(this),this.scrollBottom=this.scrollBottom.bind(this),this.scrollTo=this.scrollTo.bind(this),this.scrollToTop=this.scrollToTop.bind(this),this.scrollToBottom=this.scrollToBottom.bind(this),this.update=this.update.bind(this),this._scrollerRef=null,this._nanoRef=null,this._contentRef=null,this._onScrollTop=this._onScrollTop.bind(this),this._onScrollEnd=this._onScrollEnd.bind(this),this.state={hasShadowTop:!1,hasShadowBottom:!1}}componentDidMount(){const{preventPageScrolling:e,disableResize:t,alwaysVisible:n,shadow:r,onScroll:i,onScrollTop:s,onScrollEnd:a}=this.props;("function"==typeof s||this._hasShadowTop())&&this._scrollerRef.on("scrolltop",this._onScrollTop),("function"==typeof a||this._hasShadowBottom())&&this._scrollerRef.on("scrollend",this._onScrollEnd),!1!==r&&this._scrollerRef.on("update",this.update),"function"==typeof i&&this._scrollerRef.on("update",e=>i(e)),setImmediate(()=>{this._scrollerRef.nanoScroller({preventPageScrolling:e,disableResize:t,alwaysVisible:n}),this.update()})}getSnapshotBeforeUpdate(){return{contentHeight:this.getContentHeight()}}componentDidUpdate(e,t,n){const{preventPageScrolling:r,disableResize:i,alwaysVisible:s}=this.props;n.contentHeight!==this.getContentHeight()&&(this._scrollerRef.nanoScroller({preventPageScrolling:r,disableResize:i,alwaysVisible:s}),this.update())}componentWillUnmount(){this._scrollerRef.off("scrolltop scrollend update"),this._scrollerRef.nanoScroller({destroy:!0})}getScrollTop(){return this._nanoRef?this._nanoRef.scrollTop:0}getScrollHeight(){return this._nanoRef?this._nanoRef.scrollHeight:0}getClientHeight(){return this._nanoRef?this._nanoRef.clientHeight:0}getContentHeight(){return this._contentRef?this._contentRef.clientHeight:0}scrollTop(e){this._scrollerRef.nanoScroller({scrollTop:e})}scrollBottom(e){this._scrollerRef.nanoScroller({scrollBottom:e})}scrollTo(e){this._scrollerRef.nanoScroller({scrollTo:e})}scrollToTop(){this._scrollerRef.nanoScroller({scroll:"top"})}scrollToBottom(){this._scrollerRef.nanoScroller({scroll:"bottom"})}update(e,t){t||(t={position:this.getScrollTop(),maximum:this.getScrollHeight()-this.getClientHeight()}),t.maximum<0||this.setState({hasShadowBottom:this._hasShadowBottom()&&t.position<t.maximum,hasShadowTop:this._hasShadowTop()&&t.position>0})}render(){const{children:e,className:t,preventPageScrolling:n,disableResize:s,alwaysVisible:a,shadow:o,onScroll:c,onScrollTop:d,onScrollEnd:u,...p}=this.props,m={className:(0,i.A)(t,"nano"),ref:e=>this._scrollerRef=l()(e),...p};return r.createElement("div",m,this._renderShadowTop(),this._renderShadowBottom(),this._renderContent())}_renderShadowTop(){const{hasShadowTop:e}=this.state,t=(0,i.A)("scroller-shadow-top",{"is-active":e});return r.createElement("div",{className:t})}_renderContent(){const{children:e}=this.props;return r.createElement(s.P.div,{layoutScroll:!0,className:"nano-content",ref:e=>this._nanoRef=e},r.createElement("div",{className:"nano-content-ref",ref:e=>this._contentRef=e},e))}_renderShadowBottom(){const{hasShadowBottom:e}=this.state,t=(0,i.A)("scroller-shadow-bottom",{"is-active":e});return r.createElement("div",{className:t})}_onScrollTop(){const{onScrollTop:e}=this.props;"function"==typeof e&&e(),this._hasShadowTop()&&this.setState({hasShadowTop:!1})}_onScrollEnd(){const{onScrollEnd:e}=this.props;"function"==typeof e&&e(),this._hasShadowBottom()&&this.setState({hasShadowBottom:!1})}_hasShadowTop(){const{shadow:e}=this.props;return!0===e||"top"===e}_hasShadowBottom(){const{shadow:e}=this.props;return!0===e||"bottom"===e}}o.defaultProps={preventPageScrolling:!0,disableResize:!1,alwaysVisible:!1,shadow:!0,onScroll:void 0,onScrollTop:void 0,onScrollEnd:void 0};const c=o},uK53:(e,t,n)=>{n.d(t,{A:()=>l});var r=n("q1tI"),i=n("juqV");const a="CbIyw",l=({children:e,isVisible:t=!0})=>{const n=(0,i.A)("IBRGd",{[a]:!t});return r.createElement("div",{className:n},e)}},vuQ9:(e,t,n)=>{n.d(t,{A:()=>d});var r,i,s=n("+9dH"),a=n("q1tI"),l=n("OxTW"),o=n("CdHq"),c=n("arV3");const d=({iconOnly:e,...t})=>a.createElement(o.s,(0,s.A)({padding:"spacing.s",gap:"spacing.s",width:"100%"},t),r||(r=a.createElement(o.s,{borderRadius:"2xs",overflow:"hidden",minWidth:"size.xl",height:"size.xl",alignItems:"center",justifyContent:"center"},a.createElement(c.E,{w:"100%",h:"100%"}))),!e&&(i||(i=a.createElement(o.s,{flex:"1",flexDirection:"column",alignSelf:"center"},a.createElement(l.r,{noOfLines:1,spacing:"spacing.m"})))))},wbbk:(e,t,n)=>{n.d(t,{A:()=>d});var r=n("+9dH"),i=n("q1tI"),s=n("CdHq"),a=n("FVVF");const l=({children:e,isCollapsed:t,...n})=>i.createElement(s.s,(0,r.A)({align:"center",minHeight:"size.l",bg:"background.neutral.secondary.default"},!t&&{position:"sticky",top:0,left:0,zIndex:2},{width:"100%",px:t?void 0:"spacing.l",mt:t?"spacing.l":void 0,mb:t?"spacing.xs":void 0,justify:t?"center":"space-between"},n),e);l.displayName="SideBarSectionHeader";const o=({children:e,isCollapsed:t,...n})=>i.createElement(a.T,(0,r.A)({alignItems:t?"center":"flex-start",paddingX:t?void 0:"spacing.s",mt:t?"spacing.s":void 0,width:"100%",gap:0},n),e);o.displayName="SideBarSectionList";const c=({children:e,isCollapsed:t,...n})=>i.createElement(s.s,(0,r.A)({alignItems:t?"center":void 0,flexDirection:"column"},n),e);c.Header=l,c.List=o,c.displayName="SideBarSection";const d=c},wuUY:(e,t,n)=>{n.d(t,{Gd:()=>Y,Ay:()=>H});var r,i=n("q1tI"),s=n("TRpf"),a=n("tZCQ"),l=n("Wp0Y"),o=n("xobL"),c=n("5G9X"),d=n("AfN5"),u=n("E4MG"),p=n("Jfek"),m=n("xOQS"),h=n("vZvY"),A=n("deeu"),y=n("Mpuh"),E=n("eq2Y"),g=n("WmA5"),_=n("+dDc"),P=n("iooo"),v=n("fkXJ"),f=n("TqF5"),b=n("YG8s"),C=n("eb01"),k=n("kotc"),S=n("WrS5"),T=n("Qx5r");class I extends i.Component{constructor(e){super(e),this.handleClick=this.handleClick.bind(this),this.handleConfirm=this.handleConfirm.bind(this)}handleConfirm(e){if(e){const{dispatchRemovePlaylist:e,id:t}=this.props;e({data:{id:t}}).then(()=>{(0,v.A)({body:(0,l.AP)("toastmessage_text_playlistXhasbeendeleted_web",{sprintf:[this.props.playlistName]}),status:"success"}),g.A.push((0,P.jd)("/profile/me/playlists"))})}this.props.dispatchCloseModal()}handleClick(){this.props.dispatchOpenModal({name:S.b.GENERIC_CONFIRM,props:{title:(0,l.AP)("confirmationmessage_title_deleteXplaylist_web",{sprintf:[this.props.playlistName]}),body:(0,l.AP)("confirmationmessage_text_actioncannotbeundone_web"),ctaConfirm:(0,l.AP)("Supprimer"),callback:this.handleConfirm},size:"small"})}render(){return i.createElement(b.A,{handleClick:this.handleClick},r||(r=i.createElement(C.A,null,i.createElement(T.u,{size:"medium"}))),i.createElement(k.A,{value:(0,l.AP)("Supprimer cette playlist")}))}}const x={dispatchRemovePlaylist:E.tH,dispatchOpenModal:f.qf,dispatchCloseModal:f.Oo},D=(0,s.Ng)(({entities:e},{id:t})=>({playlistName:(0,_.bt)(e,{id:t}).TITLE}),x)(I);var R,w=n("XFWV"),L=n("CC4d"),F=n("MUSe"),M=n("8I5t"),O=n("b5Ea"),N=n("mXa6"),U=n("A2sV"),q=n("BVS8");const z=({playlistId:e,context:t})=>{var n;const{data:r}=(0,U.xxF)({variables:{playlistId:e}});return null!=r&&null!==(n=r.playlist)&&void 0!==n&&n.isBlindTestable?i.createElement("li",null,i.createElement(F.A,{href:`/game/blindtest/playlist/${e}?context=${t.TYPE}`,isExternal:!1,"data-testid":"link-blindtest"},R||(R=i.createElement(C.A,null,i.createElement(q.Q,{size:"medium"}))),i.createElement(k.A,{value:(0,l.AP)("contextualmenu_title_playXfeaturename_web")}))):null};var B,W=n("ZhMq"),G=n("7E8A");const Y={COLLABORATIVE:2,PRIVATE:1,PUBLIC:0};class V extends i.Component{getPlaylistStatus(){const{data:e}=this.props;return Number(e.STATUS)||Y.PUBLIC}isMyPlaylist(){const{data:e,userID:t}=this.props;return Number(e.PARENT_USER_ID)===t}isPlayable(){const{data:e,playerIsRadio:t,mediaType:n}=this.props;return 0!==e.NB_SONG&&!t&&n===d.zu.SONG&&(this.getPlaylistStatus()!==Y.PRIVATE||this.isMyPlaylist())}renderAddToQueue(){const{context:e,id:t}=this.props;return this.isPlayable()?i.createElement("li",null,i.createElement(y.A,{context:e,ids:[t],type:c.Ay.Playlist})):null}renderDownload(){const{context:e,id:t,userHasDownload:n}=this.props;return n?i.createElement("li",null,i.createElement(w.A,{context:e,id:t,type:c.Ay.Playlist})):null}renderEditTags(){const{id:e}=this.props;return a.A.isAllowed("employee_feature")?i.createElement("li",null,i.createElement(L.A,{id:e,type:c.Ay.Playlist})):null}renderOwner(){const{data:e}=this.props;return this.isMyPlaylist()?null:i.createElement("li",null,i.createElement(F.A,{href:`/profile/${e.PARENT_USER_ID||e.USER_ID}`,isExternal:!1,"data-testid":"link-profile"},B||(B=i.createElement(C.A,null,i.createElement(h.O,{size:"medium"}))),i.createElement(k.A,{value:(0,l.AP)("Profil utilisateur")})))}renderDelete(){const{context:e,id:t}=this.props;return this.isMyPlaylist()&&e&&e.TYPE===G.CONTEXT_PAGE_PLAYLIST?i.createElement("li",null,i.createElement(D,{id:t})):null}renderPlay(){const{context:e,id:t}=this.props;return this.isPlayable()?i.createElement("li",null,i.createElement(M.A,{action:A.h.PLAY_NEXT,context:e,ids:[t],type:c.Ay.Playlist})):null}renderShare(){const{context:e,data:t,id:n}=this.props;return this.getPlaylistStatus()===Y.PRIVATE?null:i.createElement("li",null,i.createElement(O.A,{context:e,data:t,id:n,type:p.Gb.playlist}))}renderToggleFavorite(){const{context:e,id:t}=this.props;return this.isMyPlaylist()||this.getPlaylistStatus()===Y.PRIVATE?null:i.createElement("li",null,i.createElement(N.A,{context:e,id:t,type:c.Ay.Playlist}))}renderPlayBlindtest(){const{id:e,context:t}=this.props;return!1===a.A.isAllowed("contextual_menu_blindtest")?null:i.createElement(z,{context:t,playlistId:e.toString()})}renderTogglePin(){const{id:e}=this.props;return a.A.isAllowed("feature_2025_quick_access")?i.createElement("li",null,i.createElement(W.A,{id:e,type:U.I6U.PLAYLIST})):null}render(){return i.createElement(u.A,null,i.createElement("ul",null,this.renderPlay(),this.renderAddToQueue(),this.renderToggleFavorite(),this.renderPlayBlindtest(),this.renderDownload(),this.renderShare(),this.renderOwner(),this.renderTogglePin(),this.renderDelete(),this.renderEditTags()))}}const H=(0,m.A)((0,s.Ng)(({player:e,user:t})=>({mediaType:e.music.mediaType,playerIsRadio:e.config.isRadio,userHasDownload:(0,o.Jt)(t),userID:t.id}))(V))},xOQS:(e,t,n)=>{n.d(t,{A:()=>A});var r=n("+9dH"),i=n("q1tI"),s=n("i8i4"),a=n("TRpf"),l=n("juqV"),o=n("8L3F"),c=n("lXQd"),d=n("WKgy"),u=n("WmA5"),p=n("WfRu"),m=n("NgX8"),h=n("zDvJ");const A=e=>{class t extends i.Component{constructor(e){super(e),this._popper=null,this._popperRef=null,this._targetRef=null,this._contentRef=null,this._arrowRef=null,this._showTimeout=null,this._unlisten=null,this._listenerClickActive=!1,this._listenerHistory=u.A.listen(()=>{this._hide()}),this._onTargetClick=this._onTargetClick.bind(this),this._onDocumentClick=this._onDocumentClick.bind(this),this._onScroll=this._onScroll.bind(this),this._onMouseEnter=this._onMouseEnter.bind(this),this._onMouseLeave=this._onMouseLeave.bind(this)}componentDidMount(){this.props.isVisible&&this._initPopper()}UNSAFE_componentWillReceiveProps(e){e.isDisabled&&(this._hide(),this._destroy(),this._listenerHistory(),this._listenerHistory=()=>{})}componentDidUpdate(){this.props.isVisible&&this._initPopper()}componentWillUnmount(){this._listenerHistory(),this._removeListener(),this._destroy()}render(){const{trigger:e,isDisabled:t,tag:n,className:r,isVisible:s}=this.props;e.includes(h.uW)&&s&&!this._listenerClickActive&&(this._listenerClickActive=!0,document.addEventListener("click",this._onDocumentClick)),e.includes(h.h4)&&s&&!this._listenerScrollActive&&(this._listenerScrollActive=!0,window.addEventListener("scroll",this._onScroll,{passive:!0}),window.addEventListener("resize",this._onScroll,{passive:!0}));const a={className:(0,l.A)("popper-wrapper",r),onMouseEnter:e.includes(h.mH)&&!t?this._onMouseEnter:null,onMouseLeave:e.includes(h.mH)&&!t?this._onMouseLeave:null,ref:e=>this._popperRef=e};return i.createElement(n,a,this._renderTarget(),this._renderWrapper())}_renderWrapper(){const{isVisible:e,usePortal:t}=this.props;if(!e)return null;const n=i.createElement("div",{className:"popper",ref:e=>this._contentRef=e,style:this._getPopperStyle()},this._renderPopper(),this._renderArrow());return t?(0,s.createPortal)(n,document.body):n}_renderTarget(){const{children:e,tooltip:t,isVisible:n}=this.props,a=i.cloneElement(e,{className:(0,l.A)(e.props.className,{"is-active":n}),onClick:this._onTargetClick,ref:e=>this._targetRef=(0,s.findDOMNode)(e)});return t?i.createElement(m.m,(0,r.A)({hasArrow:!0},t,{label:t.text,placement:t.position}),a):a}_renderPopper(){const{data:t,isFullWidth:n,isVisible:s,params:a}=this.props;return s?(n&&(t.size=h.YT),i.createElement(e,(0,r.A)({},t,a,{onClose:()=>this._hide()}))):null}_renderArrow(){const{hasArrow:e}=this.props;if(!e)return null;const t={className:"popper-arrow",ref:e=>this._arrowRef=e};return i.createElement("div",t)}_onTargetClick(e){const{children:t,trigger:n,isDisabled:r,closeOnClick:i,isVisible:s}=this.props;n.includes(h.uW)&&!r&&(s&&i?this._hide():this._show()),"function"==typeof t.props.onClick&&t.props.onClick(e)}_onDocumentClick(e){this._popperRef&&this._popperRef.contains(e.target)||(0,c.A)(this,"_popper.popper")&&this._popper.popper.contains(e.target)||this._hide()}_onScroll(){this._hide()}_onMouseEnter(){const{delay:e}=this.props;e>0?this._showTimeout=window.setTimeout(()=>{this._show()},e):this._show()}_onMouseLeave(e){e.relatedTarget!==window?this._hide():e.stopPropagation()}_initPopper(){if(!this._targetRef||!this._contentRef)return;let e={placement:this.props.placement,modifiers:{arrow:{enabled:this.props.hasArrow,element:this._arrowRef}}};this.props.usePortal&&(e.modifiers={...e.modifiers,preventOverflow:{boundariesElement:"viewport"}}),this._popper=new o.A(this._targetRef,this._contentRef,e)}_getPopperStyle(){const{isVisible:e,isFullWidth:t,usePortal:n}=this.props;return{display:e?null:"none",width:t?"100%":void 0,zIndex:n?300:null}}_show(){const{popperId:e,isVisible:t}=this.props;t||this.props.showPopper(e)}_hide(){const{isVisible:e,usePortal:t}=this.props;this._clear(),e&&(this.props.hidePopper(),t&&this._destroy()),this._removeListener()}_destroy(){this._unlisten&&this._unlisten(),this._popper&&(this._popper.destroy(),this._popper=null)}_clear(){this._showTimeout&&window.clearTimeout(this._showTimeout)}_removeListener(){this.props.trigger.includes(h.uW)&&(this._listenerClickActive=!1,document.removeEventListener("click",this._onDocumentClick)),this.props.trigger.includes(h.h4)&&(this._listenerScrollActive=!1,window.removeEventListener("scroll",this._onScroll,{passive:!0}),window.removeEventListener("resize",this._onScroll,{passive:!0}))}}return t.defaultProps={placement:"top",hasArrow:!0,trigger:[h.uW],delay:0,closeOnClick:!0,isDisabled:!1,isFullWidth:!1,tag:"div",data:{},tooltip:null,usePortal:!1},d.A.addReducers({popper:p.Ay}),(0,a.Ng)(({popper:e},{popperId:t})=>({isVisible:(0,p.Pu)(e,t)}),{showPopper:p.On,hidePopper:p.Lm})(t)}},yeE0:(e,t,n)=>{n.d(t,{A:()=>l});var r=n("A2sV"),i=n("lF32"),s=n("Wp0Y"),a=n("fkXJ");const l=()=>{const[e]=(0,r.VZ1)({onCompleted:e=>{"QuickAccessAppendItemMutationError"===e.quickAccessAppendItem.__typename&&e.quickAccessAppendItem.isLimitExceed?(0,a.A)({body:(0,s.AP)("errormessage_title_maxXpins_web",{sprintf:[i.f],count:i.f}),status:"error"}):"QuickAccessAppendItemMutationOutput"==e.quickAccessAppendItem.__typename&&(0,a.A)({body:(0,s.AP)("toastmessage_text_pinssaved_web"),status:"success"})},update:(e,t)=>{var n,i;"QuickAccessAppendItemMutationOutput"===(null===(n=t.data)||void 0===n?void 0:n.quickAccessAppendItem.__typename)&&null!==(i=t.data)&&void 0!==i&&i.quickAccessAppendItem.quickAccess&&e.updateQuery({query:r.Q13,variables:{context:r.fW1.HOMEPAGE}},e=>{var n,r;return null!=e&&e.me&&"QuickAccessAppendItemMutationOutput"===(null===(n=t.data)||void 0===n?void 0:n.quickAccessAppendItem.__typename)&&null!==(r=t.data)&&void 0!==r&&r.quickAccessAppendItem.quickAccess?{me:{...e.me,quickAccess:{...e.me.quickAccess,pinnedItems:t.data.quickAccessAppendItem.quickAccess.pinnedItems}}}:e})}});return(t,n,i=r.fW1.HOMEPAGE)=>{e({variables:{id:t,type:n,context:i}})}}},zDvJ:(e,t,n)=>{n.d(t,{Dn:()=>r,W8:()=>i,YT:()=>s,h4:()=>o,mH:()=>l,uW:()=>a});const r="sm",i="lg",s="full",a="click",l="hover",o="scroll"}}]);