"use strict";(self.webpackJsonpDeezer=self.webpackJsonpDeezer||[]).push([[8680],{Iph3:(e,t,r)=>{r.r(t),r.d(t,{default:()=>A});var n=r("q1tI"),a=r("Zlrv"),s=r("nHPd"),o=r("CV49"),l=r("eOc8"),i=r("pVdW"),c=r("FVVF"),d=r("80JK"),u=r("8WIx"),m=r("XkdG"),p=r("jysG"),f=r("3BUG"),b=r("YIja"),y=r("HmE0"),_=r("Wp0Y"),g=(r("/eM8"),r("nrKQ")),w=r("TqF5"),h=r("TRpf");const O={"Email already exists":(0,_.AP)("errormessage_title_accountalrdyassociatedwithemail_web"),"Incorrect mail format":(0,_.AP)("formerrormessage_text_emailaddressformatnotvalid_web"),email_empty:(0,_.AP)("formerrormessage_text_fieldmustnotbeempty_web"),email_not_valid:(0,_.AP)("formerrormessage_text_emailaddressformatnotvalid_web"),password_empty:(0,_.AP)("formerrormessage_text_fieldmustnotbeempty_web"),password_with_spaces:(0,_.AP)("errormessage_text_passwordnbeginendwithspace_web"),password_too_long:(0,_.AP)("formerrormessage_text_passwordtoomanychars_web",{sprintf:[50],count:50}),password_too_short:(0,_.AP)("formerrormessage_text_passwordnotenoughchars_web",{sprintf:[8],count:8}),password_too_weak:(0,_.AP)("securitylevel_title_tooweak_web")};var j=r("JPzp"),v=r("IZLt");const E={email:"",password:"",apiError:"",emailErrorMessage:"",passwordErrorMessage:"",isSubmitting:!1},x=e=>{const t=(0,h.wA)(),[r,a]=(0,n.useState)(E),s=(e,t)=>{a(r=>({...r,[e]:t}))},o=e=>t=>{s(e,t.target.value)};return{formValues:r,handleEmail:o("email"),handlePassword:o("password"),submitForm:async()=>{s("isSubmitting",!0),s("apiError","");const{email:n,password:a}=r;g.A.call({method:"user.addCredentials",data:{EMAIL:n.trim(),PASSWORD:a},success:async r=>{r&&(await(0,j.d)(r),g.A.call({method:"user.requestDataExport",success:()=>{t((0,w.qf)({name:"REQUEST_MY_DATA_CONFIRMATION",size:"small"}))},error:()=>{t((0,w.qf)({name:"CODE_REQUEST",props:{email:n,requestType:"request_my_data",cb:e},size:"small"}))}}))},error:e=>{var t;new v.A({error:null!==(t=e.message)&&void 0!==t?t:e.name,journey_type:"update-user-infos",gateway_method:"user.addCredentials",server_payload:e}).send(),s("apiError",(e=>{var t;let r=(0,_.AP)("errormessage_text_anerroroccurredpleasetryagain_web");switch(e.name){case"DATA_ERROR":case"REQUEST_ERROR":{const n=O[e.message];if(n){r=n;break}"email_domain_not_valid"===e.message&&(r=(0,_.AP)("errormessage_text_domainnnamenotallowed_web",{sprintf:[null===(t=e.payload)||void 0===t?void 0:t.domain]}));break}}return r})(e))},finally:()=>{s("isSubmitting",!1)}})}}};var P;const A=({cb:e})=>{const{handleEmail:t,formValues:r,handlePassword:g,submitForm:w}=x(e);return n.createElement(n.Fragment,null,P||(P=n.createElement(a.s_,null)),n.createElement(s.r,null,(0,_.AP)("requestmydatapopin_title_downloadyourdzrdata_web")),n.createElement(o.c,null,n.createElement(l.B,{spacing:"spacing.m"},n.createElement(i.E,null,(0,_.AP)("requestmydatamessage_text_secureaccountwithcredentials_web")),n.createElement(i.E,null,(0,_.AP)("requestmydatamessage_text_usethisemailnowloggedoutfromalldevices_web")),n.createElement(c.T,{spacing:"spacing.s"},n.createElement(d.MJ,null,n.createElement(u.l,null,(0,_.AP)("generic_title_email_web")),n.createElement(m.p,{"data-testid":"request_data_add_email_field",type:"email",onChange:t}),n.createElement(p.Wt,null,r.emailErrorMessage)),n.createElement(d.MJ,null,n.createElement(u.l,null,(0,_.AP)("generic_title_password_web")),n.createElement(f.y,{"data-testid":"request_data_add_password_field",onChange:g}),n.createElement(p.Wt,null,r.passwordErrorMessage)),r.apiError&&n.createElement(b.N,{status:"error"},r.apiError)))),n.createElement(a.jl,null,n.createElement(y.$n,{onClick:w},(0,_.AP)("generic_action_confirm_web"))))}},JPzp:(e,t,r)=>{r.d(t,{d:()=>a}),r("/eM8");var n=r("nrKQ");const a=e=>new Promise((t,r)=>{n.A.call({method:"userAuth.loginByArl",data:{ARL:e},success:t,error:r})})},U7Z4:(e,t,r)=>{r.d(t,{Fc:()=>O,TN:()=>v,XL:()=>j,_0:()=>P,sj:()=>x});var n=r("nKUr"),a=r("q1tI"),s=r("CdHq"),o=r("Votb"),l=r("xi32"),i=r("IRKz"),c=r("y7xR"),d=r("pVdW"),u=r("3bOE"),m=r("0mGY"),p=r("X5lq"),f=r("w/ZN"),b=r("kD7r");function y(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){y(e,t,r[t])})}return e}function g(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r}(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}),e}function w(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},s=Object.keys(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}const h=(0,i.B)(s.s,{baseStyle:{alignItems:"center",borderRadius:"s",overflow:"hidden",position:"relative",p:"spacing.m",gap:"spacing.s"}}),O=(0,l.R)(function(e,t){var{status:r="info",children:s,addRole:o=!0}=e,l=w(e,["status","children","addRole"]);return(0,n.jsx)(b._G,{children:(0,n.jsx)(h,g(_({bg:"background.neutral.primary.default",color:"text.neutral.primary.default","data-status":r,ref:t,role:o?"alert":void 0},l),{children:a.Children.map(s,e=>a.isValidElement(e)?a.cloneElement(e,{status:r}):"string"==typeof e?(0,n.jsx)(j,{children:e}):e)}))})});O.displayName="Alert";const j=(0,l.R)(function(e,t){return(0,n.jsx)(c.D,_({as:"div",ref:t,variant:"heading.xs","data-status":e.status},e))});j.displayName="AlertTitle";const v=(0,l.R)(function(e,t){return(0,n.jsx)(d.E,_({as:"div",ref:t,variant:"body.s.default",color:"text.neutral.secondary.default","data-status":e.status},e))});v.displayName="AlertDescription";const E={error:{icon:m.o,color:"icon.feedback.error.default"},info:{icon:p.u,color:"icon.feedback.info.default"},success:{icon:u.k,color:"icon.feedback.success.default"},warning:{icon:f.i,color:"icon.feedback.warning.default"}},x=(0,l.R)(function(e,t){return(0,n.jsx)(o.z,g(_({alignItems:"center",flexGrow:"1",justifyContent:"flex-end",spacing:"spacing.s"},e),{ref:t}))});function P(e){var{status:t="info"}=e,r=w(e,["status"]);const{icon:a,color:s}=E[t];return(0,n.jsx)(i.B.span,g(_({display:"inherit","data-status":t},r),{children:r.children||(0,n.jsx)(a,{color:s,size:"medium"})}))}P.displayName="AlertIcon"},X5lq:(e,t,r)=>{r.d(t,{u:()=>a});var n=r("nKUr");const a=(0,r("QSQl").w)({displayName:"InformationIcon",viewBox:"0 0 24 24",pathSmall:[(0,n.jsx)("path",{d:"M13 9c0-.335-.073-.575-.218-.735C12.616 8.08 12.354 8 12 8c-.357 0-.617.084-.782.268-.146.163-.218.403-.218.732 0 .36.082.61.248.77.166.16.416.23.752.23.368 0 .634-.106.799-.31.134-.166.201-.397.201-.69Zm-1.66 7h1.33v-4.67h-1.33V16Z"}),(0,n.jsx)("path",{fillRule:"evenodd",d:"M12 20c5.137 0 8-2.863 8-8 0-5.137-2.863-8-8-8-5.137 0-8 2.863-8 8 0 5.137 2.863 8 8 8Zm0-14.667c4.424 0 6.667 2.243 6.667 6.667 0 4.424-2.243 6.667-6.667 6.667-4.424 0-6.667-2.243-6.667-6.667 0-4.424 2.243-6.667 6.667-6.667Z",clipRule:"evenodd"})],pathMedium:[(0,n.jsx)("path",{d:"M13.5 7.5c0-.503-.11-.862-.327-1.103C12.923 6.12 12.531 6 12 6c-.536 0-.925.126-1.173.403-.219.243-.327.604-.327 1.097 0 .54.123.914.372 1.154.249.24.624.346 1.128.346.552 0 .952-.159 1.199-.465.2-.249.301-.596.301-1.035ZM11 11v7h2v-7h-2Z"}),(0,n.jsx)("path",{fillRule:"evenodd",d:"M12 23c7.064 0 11-3.936 11-11S19.064 1 12 1 1 4.936 1 12s3.936 11 11 11Zm0-20c5.972 0 9 3.028 9 9 0 5.972-3.028 9-9 9-5.972 0-9-3.028-9-9 0-5.972 3.028-9 9-9Z",clipRule:"evenodd"})]});a.defaultProps={fill:"currentColor",boxSize:"24px",display:"block","data-testid":"InformationIcon"}},YIja:(e,t,r)=>{r.d(t,{N:()=>c});var n=r("nKUr"),a=r("U7Z4"),s=r("CdHq");function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const c=(0,r("xi32").R)((e,t)=>{var{action:r,children:c,title:d,status:u,icon:m}=e,p=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},s=Object.keys(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,["action","children","title","status","icon"]);return(0,n.jsxs)(a.Fc,function(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r}(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}),e}(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){o(e,t,r[t])})}return e}({ref:t,status:u},p),{children:["boolean"==typeof m?m?(0,n.jsx)(a._0,{status:u}):null:m,d?(0,n.jsxs)(s.s,{flexDirection:"column",children:[(0,n.jsx)(a.XL,{children:d}),(0,n.jsx)(a.TN,{display:"block",lineHeight:"5",children:c})]}):(0,n.jsx)(a.XL,{children:c}),r&&(0,n.jsx)(a.sj,{children:r})]}))})},kD7r:(e,t,r)=>{r.d(t,{_G:()=>o});var n=r("nKUr"),a=r("jiu+"),s=r("MaGs");r("q1tI");const o=({children:e})=>{const{colorMode:t}=(0,s.G6)();return"light"===t?(0,n.jsx)(a.QQ,{children:e}):(0,n.jsx)(a.K2,{children:e})}},y7xR:(e,t,r)=>{r.d(t,{D:()=>c});var n=r("nKUr"),a=r("p1Zg"),s=r("8EFB"),o=r("xi32"),l=r("JFGw"),i=r("IRKz");const c=(0,o.R)(function(e,t){const r=(0,l.V)("Heading",e),{className:o,...c}=(0,a.M)(e);return(0,n.jsx)(i.B.h2,{ref:t,className:(0,s.cx)("chakra-heading",e.className),...c,__css:r})});c.displayName="Heading"}}]);