"use strict";(self.webpackJsonpDeezer=self.webpackJsonpDeezer||[]).push([[9700],{"0mGY":(e,t,n)=>{n.d(t,{o:()=>a});var s=n("nKUr");const a=(0,n("QSQl").w)({displayName:"CrossCircleOutlinedIcon",viewBox:"0 0 24 24",pathSmall:[(0,s.jsx)("path",{fillRule:"evenodd",d:"M4 12c0-5.138 2.862-8 8-8 5.137 0 8 2.862 8 8 0 5.137-2.863 8-8 8-5.138 0-8-2.863-8-8Zm1.333 0c0 4.424 2.243 6.667 6.667 6.667 4.424 0 6.667-2.243 6.667-6.667 0-4.424-2.243-6.667-6.667-6.667-4.424 0-6.667 2.243-6.667 6.667ZM12 11.052l2.357-2.357.943.943-2.357 2.357 2.357 2.357-.943.943L12 12.938l-2.357 2.357-.943-.943 2.357-2.357L8.7 9.638l.943-.943L12 11.052Z",clipRule:"evenodd"})],pathMedium:[(0,s.jsx)("path",{fillRule:"evenodd",d:"M1 12C1 4.936 4.936 1 12 1s11 3.936 11 11-3.936 11-11 11S1 19.064 1 12Zm2 0c0 5.972 3.028 9 9 9 5.972 0 9-3.028 9-9 0-5.972-3.028-9-9-9-5.972 0-9 3.028-9 9Zm9-1.414 3.293-3.293 1.414 1.414L13.414 12l3.293 3.293-1.414 1.414L12 13.414l-3.293 3.293-1.414-1.414L10.586 12 7.293 8.707l1.414-1.414L12 10.586Z",clipRule:"evenodd"})]});a.defaultProps={fill:"currentColor",boxSize:"24px",display:"block","data-testid":"CrossCircleOutlinedIcon"}},"3bOE":(e,t,n)=>{n.d(t,{k:()=>a});var s=n("nKUr");const a=(0,n("QSQl").w)({displayName:"CheckCircleOutlinedIcon",viewBox:"0 0 24 24",pathSmall:[(0,s.jsx)("path",{d:"m11.109 12.996 2.905-4.303 1.104.746-3.732 5.53-3.248-2.723.856-1.023 2.115 1.773Z"}),(0,s.jsx)("path",{fillRule:"evenodd",d:"M4 12c0-5.138 2.862-8 8-8 5.137 0 8 2.862 8 8 0 5.137-2.863 8-8 8-5.138 0-8-2.863-8-8Zm1.333 0c0 4.424 2.243 6.667 6.667 6.667 4.424 0 6.667-2.243 6.667-6.667 0-4.424-2.243-6.667-6.667-6.667-4.424 0-6.667 2.243-6.667 6.667Z",clipRule:"evenodd"})],pathMedium:[(0,s.jsx)("path",{d:"M11.456 13.45 15.813 7l1.658 1.12-5.599 8.288L7 12.326l1.284-1.533 3.172 2.658Z"}),(0,s.jsx)("path",{fillRule:"evenodd",d:"M1 12C1 4.936 4.936 1 12 1s11 3.936 11 11-3.936 11-11 11S1 19.064 1 12Zm2 0c0 5.972 3.028 9 9 9 5.972 0 9-3.028 9-9 0-5.972-3.028-9-9-9-5.972 0-9 3.028-9 9Z",clipRule:"evenodd"})]});a.defaultProps={fill:"currentColor",boxSize:"24px",display:"block","data-testid":"CheckCircleOutlinedIcon"}},LmGy:(e,t,n)=>{n.d(t,{Tr:()=>l});var s=n("nKUr"),a=n("QqEF"),i=n("xi32"),r=n("IRKz");const l=(0,i.R)((e,t)=>{const n=(0,a.k)();return(0,s.jsx)(r.B.tr,{...e,ref:t,__css:n.tr})})},PBDT:(e,t,n)=>{n.d(t,{o:()=>r});var s=n("nKUr"),a=n("IRKz"),i=n("xi32");const r=(0,a.B)("div",{baseStyle:{display:"flex",alignItems:"center",justifyContent:"center"}});r.displayName="Center";const l={horizontal:{insetStart:"50%",transform:"translateX(-50%)"},vertical:{top:"50%",transform:"translateY(-50%)"},both:{insetStart:"50%",top:"50%",transform:"translate(-50%, -50%)"}};(0,i.R)(function(e,t){const{axis:n="both",...i}=e;return(0,s.jsx)(a.B.div,{ref:t,__css:l[n],...i,position:"absolute"})})},QqEF:(e,t,n)=>{n.d(t,{X:()=>u,k:()=>p});var s=n("nKUr"),a=n("p1Zg"),i=n("BdH7"),r=n("8EFB"),l=n("xi32"),o=n("JFGw"),c=n("IRKz");const[d,p]=(0,i.q)({name:"TableStylesContext",errorMessage:"useTableStyles returned is 'undefined'. Seems you forgot to wrap the components in \"<Table />\" "}),u=(0,l.R)((e,t)=>{const n=(0,o.o)("Table",e),{className:i,layout:l,...p}=(0,a.M)(e);return(0,s.jsx)(d,{value:n,children:(0,s.jsx)(c.B.table,{ref:t,__css:{tableLayout:l,...n.table},className:(0,r.cx)("chakra-table",i),...p})})});u.displayName="Table"},RGaU:(e,t,n)=>{n.d(t,{k:()=>o});var s=n("nKUr"),a=n("TDRX");function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const l=n("AeFk").i7`
	100% {
		transform: rotate(360deg);
	}
`,o=e=>{var{thickness:t=4,size:n=32,trackColor:o="background.neutral.tertiary.default",thumbColor:c="icon.neutral.secondary.default",speed:d=600}=e,p=function(e,t){if(null==e)return{};var n,s,a=function(e,t){if(null==e)return{};var n,s,a={},i=Object.keys(e);for(s=0;s<i.length;s++)n=i[s],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,["thickness","size","trackColor","thumbColor","speed"]);return(0,s.jsx)(a.a,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},s=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),s.forEach(function(t){i(e,t,n[t])})}return e}({animation:`${l} ${d}ms infinite linear`,borderColor:o,borderRadius:"50%",borderStyle:"solid",borderTopColor:c,borderWidth:`${t}px`,display:"inline-block",height:`${n}px`,width:`${n}px`},p))}},TnRy:(e,t,n)=>{n.d(t,{N:()=>l});var s=n("nKUr"),a=n("QqEF"),i=n("xi32"),r=n("IRKz");const l=(0,i.R)((e,t)=>{const n=(0,a.k)();return(0,s.jsx)(r.B.tbody,{...e,ref:t,__css:n.tbody})})},U7Z4:(e,t,n)=>{n.d(t,{Fc:()=>w,TN:()=>_,XL:()=>E,_0:()=>k,sj:()=>O});var s=n("nKUr"),a=n("q1tI"),i=n("CdHq"),r=n("Votb"),l=n("xi32"),o=n("IRKz"),c=n("y7xR"),d=n("pVdW"),p=n("3bOE"),u=n("0mGY"),h=n("X5lq"),m=n("w/ZN"),f=n("kD7r");function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},s=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),s.forEach(function(t){g(e,t,n[t])})}return e}function b(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);n.push.apply(n,s)}return n}(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}function v(e,t){if(null==e)return{};var n,s,a=function(e,t){if(null==e)return{};var n,s,a={},i=Object.keys(e);for(s=0;s<i.length;s++)n=i[s],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}const x=(0,o.B)(i.s,{baseStyle:{alignItems:"center",borderRadius:"s",overflow:"hidden",position:"relative",p:"spacing.m",gap:"spacing.s"}}),w=(0,l.R)(function(e,t){var{status:n="info",children:i,addRole:r=!0}=e,l=v(e,["status","children","addRole"]);return(0,s.jsx)(f._G,{children:(0,s.jsx)(x,b(y({bg:"background.neutral.primary.default",color:"text.neutral.primary.default","data-status":n,ref:t,role:r?"alert":void 0},l),{children:a.Children.map(i,e=>a.isValidElement(e)?a.cloneElement(e,{status:n}):"string"==typeof e?(0,s.jsx)(E,{children:e}):e)}))})});w.displayName="Alert";const E=(0,l.R)(function(e,t){return(0,s.jsx)(c.D,y({as:"div",ref:t,variant:"heading.xs","data-status":e.status},e))});E.displayName="AlertTitle";const _=(0,l.R)(function(e,t){return(0,s.jsx)(d.E,y({as:"div",ref:t,variant:"body.s.default",color:"text.neutral.secondary.default","data-status":e.status},e))});_.displayName="AlertDescription";const S={error:{icon:u.o,color:"icon.feedback.error.default"},info:{icon:h.u,color:"icon.feedback.info.default"},success:{icon:p.k,color:"icon.feedback.success.default"},warning:{icon:m.i,color:"icon.feedback.warning.default"}},O=(0,l.R)(function(e,t){return(0,s.jsx)(r.z,b(y({alignItems:"center",flexGrow:"1",justifyContent:"flex-end",spacing:"spacing.s"},e),{ref:t}))});function k(e){var{status:t="info"}=e,n=v(e,["status"]);const{icon:a,color:i}=S[t];return(0,s.jsx)(o.B.span,b(y({display:"inherit","data-status":t},n),{children:n.children||(0,s.jsx)(a,{color:i,size:"medium"})}))}k.displayName="AlertIcon"},Votb:(e,t,n)=>{n.d(t,{z:()=>i});var s=n("nKUr"),a=n("eOc8");const i=(0,n("xi32").R)((e,t)=>(0,s.jsx)(a.B,{align:"center",...e,direction:"row",ref:t}));i.displayName="HStack"},Yrjs:(e,t,n)=>{n.d(t,{Tn:()=>i,fp:()=>a,ko:()=>s});const s="podcasts",a=5,i="optin_push"},ZDlI:(e,t,n)=>{n.d(t,{m:()=>c});var s=n("nKUr"),a=n("p1Zg"),i=n("8EFB"),r=n("xi32"),l=n("JFGw"),o=n("IRKz");const c=(0,r.R)(function(e,t){const{className:n,centerContent:r,...c}=(0,a.M)(e),d=(0,l.V)("Container",e);return(0,s.jsx)(o.B.div,{ref:t,className:(0,i.cx)("chakra-container",n),...c,__css:{...d,...r&&{display:"flex",flexDirection:"column",alignItems:"center"}}})});c.displayName="Container"},Zy2V:(e,t,n)=>{n.d(t,{A:()=>f});var s,a=n("q1tI"),i=n("X6oL"),r=n("LmGy"),l=n("wAmb"),o=n("y7xR"),c=n("PF77"),d=n("5G9X"),p=n("QOhT");const u=(0,i.Ay)()(s=class extends a.Component{constructor(e){super(e)}render(){const{userShowOptin:e,channelList:t,insideApp:n,onUserShowOptinValueChange:s}=this.props;return a.createElement(r.Tr,null,a.createElement(l.Td,{pl:"spacing.2xs",display:"flex",alignItems:"center",gap:"spacing.s"},a.createElement(p.A,{type:d.Ay.Show,width:56,height:56,bordered:!0,data:{SHOW_ID:e.id,SHOW_NAME:e.name,SHOW_ART_MD5:e.imageMd5},alt:e.name,coverLink:!n})," ",a.createElement(o.D,{size:"sm"},e.name)),t.map(t=>a.createElement(l.Td,{key:`show-${e.id}-${t.name}`,textAlign:"center"},void 0!==e.channel[t.name]?a.createElement(c.S,{isChecked:e.channel[t.name],onChange:()=>{if(this.props.tracking){const n=(e.channel[t.name]?"uncheck_podcast_":"check_podcast_")+e.id;let s="notification-preferences_sms";"optin_push"===t.name?s="notification-preferences_notifications":"optin_mail"===t.name&&(s="notification-preferences_email"),this.props.tracking.trackEvent({event:"click",eventlabel:"podcasts",eventaction:n,eventcategory:s})}s(e.id,t.name,!e.channel[t.name])}}):null)))}})||s;var h=n("Wp0Y"),m=n("pVdW");const f=({userShowOptinList:e,channelList:t,onUserShowOptinValueChange:n,insideApp:s=!1})=>a.createElement(a.Fragment,null,a.createElement(r.Tr,null,a.createElement(l.Td,{pl:"spacing.2xs"},a.createElement(m.E,{fontWeight:"bold",fontSize:"md"},(0,h.AP)("optinpreferences_title_newepisodenotifications_web")),a.createElement(m.E,{color:"text.neutral.secondary.default",fontSize:"xs"},(0,h.AP)("optinpreferences_text_newreleasespodcastsisubscribeto_web"))),t.map(e=>a.createElement(l.Td,{key:`show-${e.name}`,className:"optin-col"}))),e.map(e=>a.createElement(u,{key:`show-${e.id}`,userShowOptin:e,onUserShowOptinValueChange:n,channelList:t,insideApp:s})))},e4TI:(e,t,n)=>{n.d(t,{A:()=>x}),n("aRRr");var s,a=n("q1tI"),i=n("X6oL"),r=n("LmGy"),l=n("wAmb"),o=n("pVdW"),c=n("PF77");const d=(0,i.Ay)()(s=class extends a.Component{constructor(e){super(e)}render(){const{channelList:e,optin:t,group:n,onOptinValueChange:s,isWebview:i}=this.props;return i||"transactional"!==t.name?a.createElement(r.Tr,null,a.createElement(l.Td,{pl:"spacing.2xs"},a.createElement(o.E,{fontWeight:"bold",fontSize:"md"},t.label),a.createElement(o.E,{color:"text.neutral.secondary.default",fontSize:"xs"},t.description)),e.map(e=>a.createElement(l.Td,{key:`optin-${t.name}-${e.name}`,textAlign:"center"},void 0!==t.channel[e.name]?a.createElement(c.S,{"data-testid":`${n.name}-${t.name}-${e.name}`,isChecked:t.channel[e.name],onChange:()=>{if(this.props.tracking){const s=n.name,a=(t.channel[e.name]?"uncheck_":"check_")+t.name;let i="notification-preferences_sms";"optin_push"===e.name?i="notification-preferences_notifications":"optin_mail"===e.name&&(i="notification-preferences_email"),this.props.tracking.trackEvent({event:"click",eventlabel:s,eventaction:a,eventcategory:i})}s(t.name,e.name,!t.channel[e.name])}}):null))):null}})||s;var p=n("y7xR"),u=n("QqEF"),h=n("nKUr"),m=n("xi32"),f=n("IRKz");const g=(0,m.R)((e,t)=>{const n=(0,u.k)();return(0,h.jsx)(f.B.thead,{...e,ref:t,__css:n.thead})});var y,b=n("NgX8"),v=n("TnRy");const x=({group:e,optinList:t,onOptinValueChange:n,channelList:s,displayChannelHeader:i=!0,isWebview:c,children:h})=>a.createElement("div",null,a.createElement(p.D,{pt:"spacing.xl"},e.label),e.description.length?a.createElement("p",null,e.description):null,a.createElement(u.X,{size:"sm"},i?a.createElement(g,null,a.createElement(r.Tr,null,y||(y=a.createElement(l.Td,{pl:"spacing.2xs",width:"700px"})),s.map(e=>a.createElement(l.Td,{key:`col-${e.name}`,textAlign:"center",w:"110px"},a.createElement(b.m,{label:e.description},a.createElement(o.E,{fontSize:"xs",noOfLines:2},e.label)))))):null,a.createElement(v.N,null,t.map(t=>a.createElement(d,{key:`optin-${t.name}`,optin:t,group:e,onOptinValueChange:n,channelList:s,isWebview:c})),h)))},h6Gj:(e,t,n)=>{n.d(t,{J8:()=>l,Xg:()=>r,hw:()=>a,r8:()=>i}),n("/eM8");var s=n("nrKQ");const a=(e,t)=>new Promise((n,a)=>{s.A.call({method:"shownotification.getShows",data:{START:e,NB:t},success:e=>n({userShowOptinList:e.data.map(e=>({id:e.SHOW_ID,name:e.SHOW_NAME,imageMd5:e.SHOW_ART_MD5,channel:{optin_push:!0}})),nextShowsIndex:void 0!==e.next_cursor?Number(e.next_cursor):null}),error:a})}),i=e=>new Promise((t,n)=>{s.A.call({method:"shownotification.subscribe",data:{SHOW_ID:e},success:t,error:n})}),r=e=>new Promise((t,n)=>{s.A.call({method:"shownotification.unsubscribe",data:{SHOW_ID:e},success:t,error:n})}),l=()=>new Promise((e,t)=>{s.A.call({method:"shownotification.unsubscribeAll",data:{},success:e,error:t})})},juqV:(e,t,n)=>{function s(e){var t,n,a="";if("string"==typeof e||"number"==typeof e)a+=e;else if("object"==typeof e)if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=s(e[t]))&&(a&&(a+=" "),a+=n)}else for(n in e)e[n]&&(a&&(a+=" "),a+=n);return a}n.d(t,{A:()=>a});const a=function(){for(var e,t,n=0,a="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=s(e))&&(a&&(a+=" "),a+=t);return a}},kD7r:(e,t,n)=>{n.d(t,{_G:()=>r});var s=n("nKUr"),a=n("jiu+"),i=n("MaGs");n("q1tI");const r=({children:e})=>{const{colorMode:t}=(0,i.G6)();return"light"===t?(0,s.jsx)(a.QQ,{children:e}):(0,s.jsx)(a.K2,{children:e})}},ki90:(e,t,n)=>{n.r(t),n.d(t,{default:()=>O}),n("aRRr");var s,a=n("lXQd"),i=n("q1tI"),r=n("X6oL"),l=n("y7xR"),o=n("PBDT"),c=n("ZDlI"),d=n("HmE0");const p=({channel:e,onClick:t})=>i.createElement(d.$n,{variant:"ghost",onClick:()=>t(e.name),type:"button",w:"100%",justifyContent:"space-between",pl:"spacing.2xs"},e.label,s||(s=i.createElement("svg",{className:"svg-icon svg-icon-chevron-right",height:"12",viewBox:"0 0 12 12",width:"12"},i.createElement("g",null,i.createElement("path",{d:"M7.3,6,2.8,10.4a.9.9,0,0,0,0,1.3.8.8,0,0,0,1.3,0L9.3,6.6a.9.9,0,0,0,0-1.2L4.1.3A.9.9,0,0,0,2.8.3a.9.9,0,0,0,0,1.3Z"})))));var w,E,_,u=n("e4TI"),h=n("qPkO"),m=n("Zy2V"),f=n("RGaU"),g=n("LjZa"),y=n("Wp0Y"),b=n("puIx"),v=n("Yrjs"),x=n("nrKQ"),S=n("h6Gj");const O=(0,r.Ay)()(w=class extends i.Component{constructor(e){super(e),this.state={loading:!0,channelList:[],groupList:[],optinList:[],selectedChannelIndex:0,displayMessage:null,showList:[],nextShowsIndex:null,loadingShows:!1},this.displayedMessageTimeout=void 0,this.onChannelChange=e=>{const t=this.state.channelList.findIndex(t=>t.name===e);if(-1!==t&&(this.setState({selectedChannelIndex:t}),this.props.tracking)){let t="notification-preferences_sms";"optin_push"===e?t="notification-preferences_notifications":"optin_mail"===e&&(t="notification-preferences_email"),this.props.tracking.trackEvent({event:"click",eventaction:"open-channel",eventcategory:t})}},this.displayMessage=e=>{this.displayedMessageTimeout&&clearTimeout(this.displayedMessageTimeout),this.setState({displayMessage:e}),this.displayedMessageTimeout=setTimeout(()=>{this.setState({displayMessage:null}),this.displayedMessageTimeout=null},5e3)},this.onOptinValueChange=(e,t,n)=>{const s=[...this.state.optinList],a=s.find(t=>t.name===e),i=this.state.selectedChannelIndex;if(void 0===a||void 0===this.state.channelList[i]||this.state.channelList[i].name!==t)return;const r=this.state.channelList[i].name;void 0!==a.channel[r]&&(a.channel[r]=n,this.setState({optinList:s}),((e,t,n,s,a)=>{x.A.call({method:"user.setOptins",data:{SERVICE_NAME:e,OPTIN:[{name:t,channel:n}]},success:s,error:a})})(this.serviceName,a.name,a.channel,()=>this.displayMessage(n&&void 0!==a.channels_requiring_validation&&a.channels_requiring_validation.includes(r)?b.l.EMAIL_SENT:b.l.OPTIN_UPDATED),()=>this.displayMessage(b.l.SAVE_FAILED)))},this.onUserShowOptinValueChange=(e,t,n)=>{const{showList:s}=this.state;this.setState({showList:s.map(s=>(s.id===e&&(s.channel[t]=n),s))});const a=()=>this.displayMessage(b.l.OPTIN_UPDATED),i=()=>this.displayMessage(b.l.SAVE_FAILED);n?(0,S.r8)(e).then(a).catch(i):(0,S.Xg)(e).then(a).catch(i)},this.onViewMoreShowsClick=()=>{const{showList:e,nextShowsIndex:t}=this.state;null!==t&&(this.setState({loadingShows:!0}),(0,S.hw)(t,v.fp).then(t=>this.setState({showList:[...e,...t.userShowOptinList],nextShowsIndex:t.nextShowsIndex,loadingShows:!1})).catch(()=>this.setState({loadingShows:!1})),this.props.tracking&&this.props.tracking.trackEvent({event:"click",eventlabel:"podcast",eventaction:"view-more",eventcategory:"notification-preferences_notifications"}))},this.renderShowGroup=e=>{const{showList:t,nextShowsIndex:n,loadingShows:s,selectedChannelIndex:a}=this.state,r=t.filter(t=>void 0!==t.channel[e.name]);return void 0===this.state.channelList[a]||this.state.channelList[a].name!==v.Tn?null:i.createElement(i.Fragment,null,r.length?i.createElement(m.A,{userShowOptinList:r,channelList:[e],onUserShowOptinValueChange:this.onUserShowOptinValueChange,insideApp:this.insideApp}):null,s?E||(E=i.createElement(f.k,null)):null,s||null===n?null:i.createElement(d.$n,{mt:"spacing.m",onClick:this.onViewMoreShowsClick,size:"sm",variant:"outline","data-testid":"show-more-btn"},(0,y.AP)("Plus")))},this.renderGroups=e=>{const{groupList:t,optinList:n}=this.state,s=n.filter(t=>void 0!==t.channel[e.name]);return i.createElement(i.Fragment,null,i.createElement(l.D,null,e.label),i.createElement("p",null,e.description),t.map(t=>{const n=s.filter(e=>e.group===t.name);return n.length?i.createElement(i.Fragment,{key:`grp-${t.name}`},i.createElement(u.A,{group:t,optinList:n,onOptinValueChange:this.onOptinValueChange,channelList:[e],displayChannelHeader:!1,isWebview:!0},t.name===v.ko?this.renderShowGroup(e):null)):null}))},this.displayedMessageTimeout=null}componentDidMount(){var e,t,n,s;e=this.serviceName,t=this.displayAll,n=e=>{this.setState({loading:!1,...e}),this.props.tracking&&this.props.tracking.trackEvent({event:"onDisplay",eventvalue:e.showList.length,eventlabel:"podcast",eventaction:"list-display",eventcategory:"notification-preferences_notifications"})},s=g.A,x.A.call({method:"user.getOptins",data:{SERVICE_NAME:e,DISPLAY_ALL:t},success:e=>n({channelList:e.channel,groupList:e.group,optinList:e.optin,showList:e.shows.list.map(e=>({id:e.SHOW_ID,name:e.SHOW_NAME,imageMd5:e.SHOW_ART_MD5,channel:{optin_push:!0}})),nextShowsIndex:void 0!==e.shows.next_cursor?Number(e.shows.next_cursor):null}),error:s})}componentDidUpdate(e,t){this.state.selectedChannelIndex!==t.selectedChannelIndex&&window.scrollTo(0,0)}componentWillUnmount(){this.displayedMessageTimeout&&clearTimeout(this.displayedMessageTimeout)}get displayAll(){return["true","1"].includes((0,a.A)(this.props,"location.query.all"))}get insideApp(){return["true","1"].includes((0,a.A)(this.props,"location.query.inside_app"))}get insideIOS(){return["true","1"].includes((0,a.A)(this.props,"location.query.ios"))}get serviceName(){return(0,a.A)(this.props,"location.query.service_name","deezer")}render(){const{loading:e,channelList:t,groupList:n,optinList:s,selectedChannelIndex:a,displayMessage:r}=this.state;return e?_||(_=i.createElement(o.o,{height:"100vh"},i.createElement(f.k,null))):0===t.length||0===n.length||0===s.length?i.createElement("div",null,(0,y.AP)("404errorpage_text_somethingwentwrongtwiththispage_web")):i.createElement(c.m,{background:"background.neutral.secondary.default",borderRadius:"lg",maxW:"container.lg",id:"webview-gdpr",padding:"spacing.xl"},t.map((e,t)=>t===a?this.renderGroups(e):i.createElement(p,{key:`btn-${e.name}`,channel:e,onClick:this.onChannelChange})),i.createElement(i.Fragment,null,null!==r?i.createElement(h.A,{messageType:r}):null))}})||w},kqs6:(e,t,n)=>{n.d(t,{x:()=>a});var s=n("nKUr");const a=(0,n("QSQl").w)({displayName:"CameraIcon",viewBox:"0 0 24 24",pathSmall:[(0,s.jsx)("path",{fillRule:"evenodd",d:"M9 13.5c0-1.927 1.073-3 3-3s3 1.073 3 3-1.073 3-3 3-3-1.073-3-3Zm1.333 0c0 1.184.483 1.667 1.667 1.667 1.184 0 1.667-.483 1.667-1.667 0-1.184-.483-1.667-1.667-1.667-1.184 0-1.667.483-1.667 1.667Z",clipRule:"evenodd"}),(0,s.jsx)("path",{fillRule:"evenodd",d:"M9 7.5H5.503c-.47 0-.871.26-.951.62-.3 1.43-.53 3.13-.55 5.06-.02 2.11.23 4.15.57 5.7.08.36.48.62.95.62h12.993c.47 0 .87-.26.95-.62.721-2.94.711-7.87-.02-10.76-.08-.36-.48-.62-.95-.62H15v-3H9v3Zm4.67-1.67h-3.34V7.5h3.34V5.83Zm4.576 3c.272 1.266.42 2.934.424 4.654.003 1.718-.139 3.397-.407 4.686H5.783a25.346 25.346 0 0 1-.452-4.977c.017-1.639.194-3.102.435-4.363h12.48Z",clipRule:"evenodd"})],pathMedium:[(0,s.jsx)("path",{fillRule:"evenodd",d:"M8 14c0-2.569 1.431-4 4-4s4 1.431 4 4c0 2.568-1.431 4-4 4s-4-1.432-4-4Zm2 0c0 1.457.542 2 2 2s2-.543 2-2c0-1.458-.542-2-2-2s-2 .542-2 2Z",clipRule:"evenodd"}),(0,s.jsx)("path",{fillRule:"evenodd",d:"M1.002 13.573c-.028 2.814.316 5.534.784 7.6.11.48.66.827 1.308.827h17.864c.647 0 1.197-.347 1.307-.827.991-3.92.977-10.493-.027-14.346-.11-.48-.66-.827-1.308-.827H16V2H8v4H3.066c-.647 0-1.197.347-1.307.827a33.526 33.526 0 0 0-.757 6.746ZM20.459 8c.346 1.641.537 3.774.54 5.979.005 2.204-.176 4.35-.517 6.021h-16.9a32.614 32.614 0 0 1-.58-6.406c.022-2.092.247-3.967.558-5.594h16.9ZM10 4h4v2h-4V4Z",clipRule:"evenodd"})]});a.defaultProps={fill:"currentColor",boxSize:"24px",display:"block","data-testid":"CameraIcon"}},puIx:(e,t,n)=>{n.d(t,{l:()=>s});let s=function(e){return e[e.OPTIN_UPDATED=0]="OPTIN_UPDATED",e[e.EMAIL_SENT=1]="EMAIL_SENT",e[e.SAVE_FAILED=2]="SAVE_FAILED",e}({})},qPkO:(e,t,n)=>{n.d(t,{A:()=>c});var s=n("+9dH"),a=n("q1tI"),i=n("U7Z4"),r=n("Wp0Y"),l=n("puIx");const o={bottom:"10px",width:"90%",justifySelf:"anchor-center"},c=({messageType:e})=>e===l.l.OPTIN_UPDATED?a.createElement(i.Fc,o,a.createElement("p",null,(0,r.WI)("settingspage_text_preferencesupdatedwithin48hrs_web","settingspage_text_preferencesupdatedwithin48hrs_web",{sprintf:[String(48)],count:48}))):e===l.l.EMAIL_SENT?a.createElement(i.Fc,(0,s.A)({position:"fixed"},o),a.createElement("p",null,(0,r.AP)("settingspage_text_emailsenttoconfirmchoices_web"))):e===l.l.SAVE_FAILED?a.createElement(i.Fc,(0,s.A)({position:"fixed"},o),a.createElement("p",null,(0,r.AP)("settingspage_text_errorpreferencesnotsavedtryagain_web"))):null},wAmb:(e,t,n)=>{n.d(t,{Td:()=>l});var s=n("nKUr"),a=n("QqEF"),i=n("xi32"),r=n("IRKz");const l=(0,i.R)(({isNumeric:e,...t},n)=>{const i=(0,a.k)();return(0,s.jsx)(r.B.td,{...t,ref:n,__css:i.td,"data-is-numeric":e})})}}]);