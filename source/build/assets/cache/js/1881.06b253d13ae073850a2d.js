(self.webpackJsonpDeezer=self.webpackJsonpDeezer||[]).push([[1881],{"+pY+":(e,t,r)=>{"use strict";r.d(t,{Ps:()=>a,eN:()=>s,xK:()=>i});let a=function(e){return e.API_RETRY_LIMIT_REACHED="api_retry_limit_reached",e.PLAYBACK_ATTEMPTS="playback_attempts",e.DEEZTOOLS="deeztools",e.REMOTE_COMMAND_TYPE="wongyeog.command_type",e.REMOTE_COMMAND_STATUS="wongyeog.command_status",e.DEBUG_LOG_LISTEN="debug.log_listen",e.LAUNCH_MUSICQUIZ_FROM_PLAYLIST_PAGE="musicquizz.launch_musicquiz_from_playlist_page",e.TIME_TO_PLAY_ERROR="time_to_play_error",e}({}),s=function(e){return e.MEMORY_LOAD="memory_load",e.MEMORY_USAGE="memory_usage",e.WEB_VITALS="web_vitals",e}({}),i=function(e){return e.REMOTE_QUEUE_SIZE="wongyeog.queue_messagesize",e.REMOTE_BUS_LATENCY="wongyeog.bus_latency",e}({})},"04sm":(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var a=r("WKgy"),s=r("aHAS");const i={set(e,t=!1){a.A.getState().user.isAuth&&a.A.dispatch((0,s.Xx)(e,t))}}},"2TXL":(e,t,r)=>{"use strict";r.d(t,{A:()=>a});class a{constructor(e,t={}){this._expire=void 0,this._value=void 0,this._expire=t.expire,this._value=e}get expired(){return!!this._expire&&Date.now()/1e3>this._expire}toString(){return this._value}}},"34sk":(e,t,r)=>{"use strict";r.d(t,{$S:()=>p,E$:()=>l,G5:()=>I,G8:()=>y,HS:()=>T,Hq:()=>m,Oo:()=>g,TD:()=>d,Ti:()=>E,ZP:()=>S,c2:()=>_,hh:()=>L,jo:()=>A,rc:()=>R,u5:()=>h,zZ:()=>f}),r("/eM8");var a=r("qobR"),s=r("5G9X"),i=r("xSQY"),n=r("OPhi"),o=r("yJX9"),c=r("uDSo");const d=(e,t,r)=>({type:c.y.ADD_FEEDBACK,feedback:t,feedbackType:e,itemType:r}),l=(e,t,r,a=!1)=>({type:c.y.REMOVE_FEEDBACK,feedbackType:e,id:t,itemType:r,silent:a}),u=(e,t,r)=>({type:c.y.REMOVE_MULTIPLE_FEEDBACKS,feedbackType:e,ids:t,itemType:r}),_=(e,t,r,a)=>async(c,u)=>{await i.A.saveFavorite(e,t,a);const _={id:e,timestamp:r};t===s.Ay.Playlist&&(_.lastSeen=_.timestamp),c(d(o.Z.favorites,_,t)),(0,n.i8)(u().feedbacks,e,t)&&c(l(o.Z.dislikes,e,t,!0))},A=(e,t,r,s,d=!0)=>async(l,_)=>{const A=(0,a.A)(e);d&&await i.A.saveMultipleFavorites(A,t,s);const p=_().feedbacks,E={feedbacks:{},order:[]},g=[];A.forEach((e=>{(0,n.i8)(p,e,t)&&g.push(e),E.feedbacks[e]={id:e,timestamp:r},E.order.push(e)})),l(((e,t,r)=>({type:c.y.ADD_MULTIPLE_FEEDBACKS,feedbackType:e,feedbacks:t,itemType:r}))(o.Z.favorites,E,t)),g.length>0&&l(u(o.Z.dislikes,g,t))},p=(e,t,r,a=!1)=>async s=>{await i.A.removeFavorite(e,t,r),s(l(o.Z.favorites,e,t,a))},E=(e,t)=>r=>{r(((e,t,r)=>({type:c.y.REMOVE_SOFT_FEEDBACK,feedbackType:e,id:t,itemType:r}))(o.Z.favorites,e,t))},g=(e,t,r)=>async a=>{await i.A.removeMultipleFavorites(e,t,r),a(u(o.Z.favorites,e,t))},T=(e,t)=>async r=>{await i.A.removeMultipleDislikes(e,t),r(u(o.Z.dislikes,e,t))},h=(e,t,r)=>async a=>{await i.A.removeDislike(e,t,r),a(l(o.Z.dislikes,e,t))},S=(e,t)=>r=>{r(((e,t,r)=>({type:c.y.RESTORE_FEEDBACK,feedbackType:e,id:t,itemType:r}))(o.Z.favorites,e,t))},f=(e,t,r,a)=>async(s,c)=>{await i.A.saveDislike(e,t,a),s(d(o.Z.dislikes,{id:e,timestamp:r},t)),(0,n.BA)(c().feedbacks,e,t)&&s(l(o.Z.favorites,e,t,!0))},m=()=>async e=>{const t=await i.A.getUserFeedbacks();e({type:c.y.INIT_FEEDBACKS,feedbacks:t})},y=(e,t,r)=>({type:c.y.PRELOAD_FEEDBACKS,feedbackType:e,itemType:t,feedbacks:r}),I=e=>async t=>{t(((e,t)=>({type:c.y.REFRESH_FAVORITES,favorites:e,itemType:t}))(await i.A.getFavorites(e),e))},L=(e,t)=>async r=>{await i.A.updateFavoriteLastSeenDate(s.Ay.Playlist,e),r(((e,t,r,a)=>({type:c.y.UPDATE_LAST_SEEN_DATE,feedbackType:e,itemType:t,id:r,timestamp:a}))(o.Z.favorites,s.Ay.Playlist,e,t))},R=(e,t)=>async(r,a)=>{const s=(0,n.r$)(a().feedbacks,o.Z.favorites,e);r({type:c.y.REORDER_FAVORITES,itemType:e,newOrder:t});try{await i.A.reorderFavorites(e,t)}catch(t){throw r(((e,t)=>({type:c.y.RESTORE_FAVORITES_ORDER,itemType:e,order:t}))(e,s)),t}}},"3R0U":(e,t,r)=>{"use strict";r.d(t,{u:()=>a});let a=function(e){return e.READ_ONLY="r",e.WRITE_ONLY="w",e.READ_WRITE="rw",e.NONE="none",e}({})},"3mue":(e,t,r)=>{"use strict";r.d(t,{Li:()=>i,UD:()=>d,V6:()=>E,WI:()=>_,XP:()=>o,YI:()=>p,eK:()=>u,ej:()=>g,ls:()=>c,oD:()=>A,qq:()=>l,r1:()=>n});var a=r("JPje"),s=r("BcXB");const i=e=>({type:a.EC,playing:e.playing}),n=e=>({type:a.oB,loading:e.loading}),o=e=>({type:a.yd,...e}),c=e=>({type:a.Iq,volume:e.volume}),d=e=>({type:a.RA,shuffle:e.shuffle}),l=()=>({type:a.vg});function u(){return(e,t)=>{const r=(0,s.oy)(t());r!==t().player.control.hasNext&&e({type:a.Qx,hasNext:r})}}function _(){return(e,t)=>{const r=(0,s.eX)(t());r!==t().player.control.hasPrev&&e({type:a.aw,hasPrev:r})}}function A(e){return t=>{t({type:a.f6,repeat:e.repeat,sync:e.sync}),t(_()),t(u())}}const p=e=>({type:a.tU,mute:e.mute}),E=e=>({type:a.Ym,buffer:e.buffer}),g=e=>({type:a.pU,normalized:e})},"4cGQ":(e,t,r)=>{"use strict";r.d(t,{K$:()=>n,bU:()=>c,r6:()=>o,rm:()=>i}),r("/eM8");var a=r("lWgj"),s=r("WzpB");async function i(e,t,r){if(null==e)throw new TypeError("asyncSome called on `null` or `undefined`");if("function"!=typeof t)throw new TypeError;const a=Object(e),s=e.length>>>0;for(let i=0;i<s;i++)if(i in e&&await t.call(r,a[i],i,a))return!0;return!1}function n(e,t){return e="number"!=typeof e||Number.isNaN(e)?t:e,Math.pow(10,(t-e)/20)}function o(e){if(!(0,s.zf)(e))throw e}function c(e){return e.format===a.Fy&&!1===e.usePipeline}},"5G9X":(e,t,r)=>{"use strict";r.d(t,{Ay:()=>s,vn:()=>i});const a={Generic:"generic",Deeplink:"deeplink",Album:"album",Podcast:"podcast",Artist:"artist",ArtistLineUp:"artistLineUp",App:"app",ExternalLink:"external-link",Playlist:"playlist",Radio:"radio",Show:"show",Episode:"episode",Track:"track",Channel:"channel",Flow:"flow",MultiFlow:"multi_flow",FlowConfig:"flow_config",User:"user",Native:"native",Livestream:"livestream",LiveEvent:"live-event",Video:"video",Genre:"genre",VideoLink:"video-link",TalkShow:"talkShow",TalkEpisodes:"talkEpisodes",RelatedArtist:"related_artist",TopArtistFull:"topArtistFull",PersonalPlaylist:"personalPlaylist",CuratedChartsPlaylist:"curatedChartsPlaylist",ChartsPlaylist:"chartsPlaylist",CuratorPlaylist:"curatorPlaylist",CollaborativePlaylist:"collaborativePlaylist",Smarttracklist:"smarttracklist",BlindtestPlaylist:"blindtest_playlist",MyDeezerStory:"my_deezer_story_content",Song:"song"},s=a,i={[a.Album]:"ALB_ID",[a.Show]:"SHOW_ID",[a.Playlist]:"PLAYLIST_ID",[a.Artist]:"ART_ID",[a.Radio]:"RADIO_ID",[a.Podcast]:"SHOW_ID",[a.User]:"USER_ID",application:"APP_ID",[a.App]:"APP_ID",[a.Song]:"SNG_ID",[a.Genre]:"GENRE_ID",[a.Channel]:"id",[a.Livestream]:"LIVESTREAM_ID",[a.Episode]:"EPISODE_ID"}},"6Va4":(e,t,r)=>{"use strict";r.d(t,{SY:()=>o,dK:()=>d,hY:()=>l,iQ:()=>c}),r("WpbS");var a=r("lXQd"),s=r("z+LD"),i=r("r2u9"),n=r("Vzbh");const o=e=>{const t=e.USER.SETTING.global.has_up_next&&e.USER.HAS_UPNEXT;return{...e,id:e.USER.USER_ID,isAuth:0!==e.USER.USER_ID,hasUpNext:void 0===t||t}},c=e=>{let t=(0,a.A)(e,"USER.SETTING.site.player_audio_quality");const r=Object.values(e.qualities||{}).reduce(((e,t)=>[...e,...t]),[]);if(void 0===t){const r=(0,a.A)(e,"USER.SETTING.site.player_hq");t=void 0===r?n.en.STANDARD:r?n.en.HIGH:n.en.STANDARD}return t!==n.en.LOSSLESS||r.includes(n.en.LOSSLESS)&&e.supportedQualities.includes(n.en.LOSSLESS)||(t=n.en.HIGH),t!==n.en.HIGH||r.includes(n.en.HIGH)||(t=n.en.STANDARD),[n.en.LOSSLESS,n.en.HIGH,n.en.STANDARD].includes(t)||(t=n.en.STANDARD),t},d=e=>{try{if(!(e.USER&&e.USER.SETTING&&e.USER.SETTING.site&&e.USER.SETTING.site.cast_audio_quality))throw new Error('"cast_audio_quality" key not found in data');const t=e.USER.SETTING.site.cast_audio_quality;if(!Object.values(n.en).includes(t))throw new Error("Not a handled quality");return t}catch(e){return s.A.error(e),n.en.STANDARD}},l=e=>!0===i.Ay.getIsUwpFlag()?`${e}&utm_source=electron&utm_medium=desktopapp&utm_campaign=conversion_banner_msft`:e},"7E8A":(e,t,r)=>{"use strict";r.r(t),r.d(t,{CONTEXT_PAGE_ALBUM:()=>s,CONTEXT_PAGE_ALBUM_DISCOGRAPHY:()=>i,CONTEXT_PAGE_ALBUM_SIMILAR_ARTIST:()=>n,CONTEXT_PAGE_ARTIST_DISCOGRAPHY:()=>l,CONTEXT_PAGE_ARTIST_DISCOGRAPHY_RELATED_ARTIST:()=>_,CONTEXT_PAGE_ARTIST_DISCOGRAPHY_RELATED_PLAYLIST:()=>u,CONTEXT_PAGE_ARTIST_HIGHLIGHT_ALBUM:()=>A,CONTEXT_PAGE_ARTIST_HIGHLIGHT_PLAYLIST:()=>p,CONTEXT_PAGE_ARTIST_HIGHLIGHT_SHOW:()=>E,CONTEXT_PAGE_ARTIST_TAB_RELATED_ARTIST:()=>c,CONTEXT_PAGE_ARTIST_TAB_RELATED_PLAYLIST:()=>d,CONTEXT_PAGE_ARTIST_TAB_TOP_TRACK:()=>o,CONTEXT_PAGE_DYNAMIC_PAGE:()=>a,CONTEXT_PAGE_EPISODE:()=>_e,CONTEXT_PAGE_EXCLUSIONS_TAB_ARTIST:()=>pe,CONTEXT_PAGE_EXCLUSIONS_TAB_TRACK:()=>Ee,CONTEXT_PAGE_MIXES:()=>Ae,CONTEXT_PAGE_PLAYLIST:()=>le,CONTEXT_PAGE_PROFILE:()=>h,CONTEXT_PAGE_PROFILE_RECENTLY_PLAYED:()=>P,CONTEXT_PAGE_PROFILE_TAB_ALBUMS:()=>m,CONTEXT_PAGE_PROFILE_TAB_ARTISTS:()=>y,CONTEXT_PAGE_PROFILE_TAB_DOWNLOADS:()=>S,CONTEXT_PAGE_PROFILE_TAB_FOLLOWERS:()=>I,CONTEXT_PAGE_PROFILE_TAB_FOLLOWING:()=>L,CONTEXT_PAGE_PROFILE_TAB_HOME:()=>f,CONTEXT_PAGE_PROFILE_TAB_PLAYLISTS:()=>R,CONTEXT_PAGE_PROFILE_TAB_RADIOS:()=>O,CONTEXT_PAGE_PROFILE_TAB_SHOWS:()=>v,CONTEXT_PAGE_SEARCH:()=>C,CONTEXT_PAGE_SEARCH_ONBOARDING:()=>ce,CONTEXT_PAGE_SEARCH_TAB_ALBUM:()=>b,CONTEXT_PAGE_SEARCH_TAB_ARTIST:()=>N,CONTEXT_PAGE_SEARCH_TAB_CHANNEL:()=>F,CONTEXT_PAGE_SEARCH_TAB_EPISODE:()=>V,CONTEXT_PAGE_SEARCH_TAB_FLOW_CONFIG:()=>X,CONTEXT_PAGE_SEARCH_TAB_LIVESTREAM:()=>H,CONTEXT_PAGE_SEARCH_TAB_LYRICS:()=>z,CONTEXT_PAGE_SEARCH_TAB_PLAYLIST:()=>x,CONTEXT_PAGE_SEARCH_TAB_RADIO:()=>U,CONTEXT_PAGE_SEARCH_TAB_SHOW:()=>K,CONTEXT_PAGE_SEARCH_TAB_TRACK:()=>D,CONTEXT_PAGE_SEARCH_TAB_USER:()=>Y,CONTEXT_PAGE_SEARCH_TOP_ALBUM:()=>w,CONTEXT_PAGE_SEARCH_TOP_ARTIST:()=>k,CONTEXT_PAGE_SEARCH_TOP_LIVESTREAM:()=>B,CONTEXT_PAGE_SEARCH_TOP_PLAYLIST:()=>M,CONTEXT_PAGE_SEARCH_TOP_SHOW:()=>G,CONTEXT_PAGE_SHOW:()=>ue,CONTEXT_PAGE_SMART_TRACKLIST:()=>de,CONTEXT_PAGE_SONG:()=>g,CONTEXT_PAGE_SONG_RELATED_ALBUM:()=>T,CONTEXT_SIDEBAR:()=>j,CONTEXT_SIDEBAR_FLOW_CONFIG:()=>W,CONTEXT_SIDEBAR_LIVESTREAM:()=>$,CONTEXT_SIDEBAR_RADIO:()=>Q,CONTEXT_SIDEBAR_TRACK:()=>q,CONTEXT_TOPBAR_POPPER_ALBUM:()=>ee,CONTEXT_TOPBAR_POPPER_ARTIST:()=>J,CONTEXT_TOPBAR_POPPER_CHANNEL:()=>ae,CONTEXT_TOPBAR_POPPER_EPISODE:()=>ie,CONTEXT_TOPBAR_POPPER_LIVESTREAM:()=>ne,CONTEXT_TOPBAR_POPPER_PLAYLIST:()=>te,CONTEXT_TOPBAR_POPPER_RADIO:()=>re,CONTEXT_TOPBAR_POPPER_SHOW:()=>se,CONTEXT_TOPBAR_POPPER_TRACK:()=>Z,CONTEXT_TOPBAR_POPPER_USER:()=>oe});const a="dynamic_page",s="album_page",i="album_discography",n="album_similar_artist",o="top_track",c="related_artist",d="related_playlist",l="artist_discography",u="artist_discography_related_playlist",_="artist_discography_related_artist",A="artist_highlight_album",p="artist_highlight_playlist",E="artist_highlight_show",g="track_page",T="track_related_album",h="profile_page",S="profile_downloads",f="profile_home",m="profile_albums",y="profile_artists",I="profile_followers",L="profile_following",R="profile_playlists",O="profile_radios",v="profile_shows",P="profile_recently_played",C="search",D="search_track",k="search_top_artist",N="search_artist",w="search_top_album",b="search_album",M="search_top_playlist",x="search_playlist",U="search_radio",F="search_channel",G="search_top_show",K="search_show",V="search_episode",B="search_top_livestream",H="search_livestream",Y="search_user",z="search_lyrics",X="search_flow_config",j="sidebar",W="sidebar_flow_config",Q="sidebar_radio",q="sidebar_track",$="sidebar_livestream",Z="topbar_popper_track",J="topbar_popper_artist",ee="topbar_popper_album",te="topbar_popper_playlist",re="topbar_popper_radio",ae="topbar_popper_channel",se="topbar_popper_show",ie="topbar_popper_episode",ne="topbar_popper_livestream",oe="topbar_popper_user",ce="onboarding",de="smart_tracklist_page",le="playlist_page",ue="show_page",_e="episode_page",Ae="mixes_page",pe="exclusions_artists",Ee="exclusions_tracks"},AfN5:(e,t,r)=>{"use strict";r.d(t,{Cc:()=>i,EV:()=>o,JW:()=>s,Kk:()=>c,S:()=>n,zu:()=>a});let a=function(e){return e.ADS="ads",e.EPISODE="episode",e.SONG="song",e.EXTERNAL="external",e.LIVE_STREAM="live_stream",e}({}),s=function(e){return e.PLAY_LOG_FAILED="play_log_failed",e}({}),i=function(e){return e.ADS="ads",e.TRITON_AD="triton_ads",e.CHROMECAST="chromecast",e.JINGLE="jingle",e.LIVESTREAM="livestream",e.MOD="mod",e.RADIO="radio",e}({}),n=function(e){return e[e.NONE=-1]="NONE",e[e.DEEZER=0]="DEEZER",e[e.USER=1]="USER",e[e.AD=2]="AD",e[e.TALK=3]="TALK",e[e.EXTERNAL=4]="EXTERNAL",e[e.LIVE_STREAM=5]="LIVE_STREAM",e}({}),o=function(e){return e[e.OFF=0]="OFF",e[e.ALL=1]="ALL",e[e.SINGLE=2]="SINGLE",e}({}),c=function(e){return e.PLAYLIST="playlist",e.LIVESTREAM="livestream",e.PERSONAL_LOVED="personalLoved",e.SMARTTRACKLIST="smarttracklist",e.ALBUM="album",e.TRACK="track",e.TRACK_MIX="track_mix",e.RADIO="radio",e.ARTIST="artist",e.USER="user",e.SHOW="show",e.EPISODE="episode",e.HISTORY="history",e.PERSONAL_SONG="personal_song",e.SHUFFLED_COLLECTION="shuffled_collection",e.SEARCH="search",e.SEARCH_TAG="searchTag",e.TOP_ARTIST="topArtistFull",e.MULTI_FLOW="multi_flow",e.SIDEBAR="sidebar",e.PLAYLIST_ASSISTANT="playlist_assistant",e}({})},BcXB:(e,t,r)=>{"use strict";r.d(t,{F4:()=>E,J2:()=>I,SG:()=>O,bE:()=>m,c$:()=>R,eX:()=>P,kQ:()=>f,lP:()=>g,m$:()=>T,m5:()=>h,mQ:()=>p,oy:()=>v,rt:()=>y,v_:()=>L,yk:()=>S});var a=r("G4qV"),s=r("Z64h"),i=r("AfN5"),n=r("xobL");const o=({player:e})=>e.music.mediaType,c=({player:e})=>e.config.isRadio,d=({player:e})=>e.config.playerType,l=({player:e})=>e.control.repeat!==i.EV.OFF,u=({player:e})=>e.chromecast.loading,_=({player:e})=>e.chromecast.casting,A=({player:e})=>e.chromecast.skipLimited,p=({player:e})=>e.control.normalized,E=({player:e})=>e.control.playing,g=({player:e})=>e.control.paused,T=e=>e.player.control.hasNext,h=e=>e.player.control.hasPrev,S=e=>e.player.control.mute,f=e=>e.player.control.repeat,m=e=>e.player.control.volume,y=(0,a.Mz)([d,o,c,e=>(0,n.ki)(e.user),u],((e,t,r,a,s)=>!(r&&!a||s||e===i.Cc.ADS||e===i.Cc.TRITON_AD||t===i.zu.LIVE_STREAM||""===t))),I=(0,a.Mz)([d,u],((e,t)=>!t&&e!==i.Cc.ADS&&e!==i.Cc.TRITON_AD&&s.$.HTML5Renderer)),L=(0,a.Mz)([o],(e=>""!==e&&s.$.HTML5Renderer)),R=(0,a.Mz)([o,c,u],((e,t,r)=>!t&&!r&&[i.zu.EPISODE,i.zu.LIVE_STREAM].indexOf(e)<0)),O=(0,a.Mz)([o,c,u,_],((e,t,r,a)=>!t&&!r&&!a&&[i.zu.EPISODE].indexOf(e)<0)),v=(0,a.Mz)([d,o,l,({player:e})=>e.music.isLastSong,c,u,_,({player:e})=>e.chromecast.chunksInfo,A],((e,t,r,a,n,o,c,d,l)=>{let u=!1;return o?u=!0:t===i.zu.LIVE_STREAM||""===t?u=!1:a&&!r||(u=e===i.Cc.MOD||n),!(u||!c)||!(void 0!==l&&l||!s.$.HTML5Renderer)&&Boolean(u)})),P=(0,a.Mz)([d,o,c,l,({player:e})=>e.music.index<=0,u,_,A,e=>(0,n.ki)(e.user)],((e,t,r,a,n,o,c,d,l)=>{let u=!1;return o?u=!0:t===i.zu.LIVE_STREAM||""===t?u=!1:n&&!a||(u=e===i.Cc.MOD||r&&l),!(u||!c)||!(void 0!==d&&d||!s.$.HTML5Renderer)&&Boolean(u)}))},CdHq:(e,t,r)=>{"use strict";r.d(t,{s:()=>n});var a=r("nKUr"),s=r("xi32"),i=r("IRKz");const n=(0,s.R)((function(e,t){const{direction:r,align:s,justify:n,wrap:o,basis:c,grow:d,shrink:l,...u}=e,_={display:"flex",flexDirection:r,alignItems:s,justifyContent:n,flexWrap:o,flexBasis:c,flexGrow:d,flexShrink:l};return(0,a.jsx)(i.B.div,{ref:t,__css:_,...u})}));n.displayName="Flex"},CxZw:(e,t,r)=>{"use strict";r.d(t,{A:()=>A});var a=r("ucSm"),s=r("Wp0Y"),i=r("CyAC"),n=r("5G9X"),o=r("fJgm"),c=r("WKgy"),d=r("xobL"),l=r("Z9d1"),u=r("sAMA");const _={READABLE:0,NOT_ENCODED:1,LOCALITY:2,MP3_FRIEND:3,PREMIUM_ONLY:4,NOT_RELEASE_FREE:5,NOT_RELEASE_PREMIUM:6,EXPLICIT_LYRICS:7,FAN_ONLY:8,checkEpisodeAvailable:function(e){return(0,d.jQ)(c.A.getState().user)||e.podcast.rights.ads.available||!e.podcast.rights.subs.available?_.READABLE:_.PREMIUM_ONLY},checkGqlSongAvailable:function(e){var t,r,a,s,i;return null!==(t=e.media)&&void 0!==t&&t.id?e.media.id<0&&!(null!==(s=e.media.rights)&&void 0!==s&&s.ads.available||null!==(i=e.media.rights)&&void 0!==i&&i.subs.available)?0===e.contributors.edges[0].node.id?_.MP3_FRIEND:_.LOCALITY:(0,d.Uw)(c.A.getState().user)===u.g&&e.isExplicit?_.EXPLICIT_LYRICS:(0,d.jQ)(c.A.getState().user)||null!==(r=e.media.rights.ads)&&void 0!==r&&r.available||null===(a=e.media.rights.subs)||void 0===a||!a.available?_.READABLE:_.PREMIUM_ONLY:_.NOT_ENCODED},checkSongAvailable:function(e){if("object"!=typeof e)return _.READABLE;if("boolean"==typeof e.AVAILABLE)return e.AVAILABLE?_.READABLE:_.LOCALITY;if(void 0!==e.EXTERNAL)return _.READABLE;const t=e.RIGHTS||{};if(parseInt(e.SNG_ID,10)<0){if(0===(0,a.A)(t)||!t.STREAM_ADS_AVAILABLE&&!t.STREAM_SUB_AVAILABLE)return 0===parseInt(e.ART_ID,10)?_.MP3_FRIEND:_.LOCALITY;if(1===parseInt(e.FAN_ONLY,10)&&!o.A.isFavorite(n.Ay.Artist,e.ART_ID))return _.FAN_ONLY}return(0,d.Uw)(c.A.getState().user)===u.g&&(0,i.AP)(e)?_.EXPLICIT_LYRICS:(0,d.jQ)(c.A.getState().user)||_.isAvailableAds(t)||!_.isAvailableSub(t)?_.isAvailableAds(t)||_.isAvailableSub(t)||{}.hasOwnProperty.call(t,"STREAM_ADS_TIMESTAMP")||{}.hasOwnProperty.call(t,"STREAM_SUB_TIMESTAMP")?!(0,d.jQ)(c.A.getState().user)&&_.getTimestampAds(t)>(0,d.mI)(c.A.getState().user)?_.NOT_RELEASE_FREE:(0,d.jQ)(c.A.getState().user)&&_.getTimestampSub(t)>(0,d.mI)(c.A.getState().user)?_.NOT_RELEASE_PREMIUM:""===e.MD5_ORIGIN||0===parseInt(e.FILESIZE_MP3_128,10)&&!(0,d.jQ)(c.A.getState().user)&&parseInt(e.SNG_ID,10)>0||0===parseInt(e.FILESIZE_MP3_128,10)&&(0,d.jQ)(c.A.getState().user)&&parseInt(e.SNG_ID,10)>0&&!1===c.A.getState().user.hasHqAudioRight||0===parseInt(e.FILESIZE_MP3_128,10)&&0===parseInt(e.FILESIZE_MP3_256,10)&&0===parseInt(e.FILESIZE_MP3_320,10)&&(0,d.jQ)(c.A.getState().user)&&parseInt(e.SNG_ID,10)>0||0===parseInt(e.SNG_ID,10)&&0===parseInt(e.FILESIZE_MP3_MISC,10)?_.NOT_ENCODED:_.READABLE:_.LOCALITY:_.PREMIUM_ONLY},getMessage:function(e){switch(e){case _.NOT_ENCODED:return(0,s.AP)("Ce titre n'est pas encore encodé");case _.LOCALITY:return(0,s.AP)("Ce titre n'est pas disponible dans votre pays.");case _.MP3_FRIEND:return(0,s.AP)("Ce titre est un mp3 perso d'un autre utilisateur");case _.PREMIUM_ONLY:return(0,s.AP)("planrenaming_text_tracklimitedaccestoplanXplanXsbyrightowners_web",{sprintf:["Deezer Web","Deezer Premium"]});case _.NOT_RELEASE_FREE:case _.NOT_RELEASE_PREMIUM:return(0,s.AP)("Ce titre n'est pas encore disponible.");case _.EXPLICIT_LYRICS:return(0,s.AP)("toastmessage_text_toplayexplicitcontentupdatesettings_web");case _.FAN_ONLY:return(0,s.AP)("Ajoutez l'artiste à vos favoris pour écouter ce titre");default:return""}},getTimestampAds:function(e){return{}.hasOwnProperty.call(e,"STREAM_ADS_TIMESTAMP")?e.STREAM_ADS_TIMESTAMP:(0,l.A)(e.STREAM_ADS)},getTimestampSub:function(e){return{}.hasOwnProperty.call(e,"STREAM_SUB_TIMESTAMP")?e.STREAM_SUB_TIMESTAMP:(0,l.A)(e.STREAM_SUB)},isAvailableAds:function(e){return{}.hasOwnProperty.call(e,"STREAM_ADS_AVAILABLE")?e.STREAM_ADS_AVAILABLE:"string"==typeof e.STREAM_ADS},isAvailableSub:function(e){return{}.hasOwnProperty.call(e,"STREAM_SUB_AVAILABLE")?e.STREAM_SUB_AVAILABLE:"string"==typeof e.STREAM_SUB}},A=_},CyAC:(e,t,r)=>{"use strict";r.d(t,{AP:()=>c,Gr:()=>_,Q3:()=>A,Wh:()=>E,bA:()=>p,cV:()=>l,ek:()=>d,vp:()=>u});var a=r("lXQd"),s=r("sAMA"),i=r("xobL"),n=r("eC9Z"),o=r("pUfN");function c(e){return(0,a.A)(e,"EXPLICIT_TRACK_CONTENT.EXPLICIT_LYRICS_STATUS",0)===s.Os}function d(e="",t=[]){return t.includes(e)}function l(e){const t=Object.keys(e).includes("EXPLICIT_ALBUM_CONTENT")?"EXPLICIT_ALBUM_CONTENT.EXPLICIT_COVER_STATUS":"EXPLICIT_TRACK_CONTENT.EXPLICIT_COVER_STATUS";return(0,a.A)(e,t,0)===s.Os}function u(e,t){return(0,n.WV)({itemType:o.Wi.FEATURE,itemName:"ForceExplicit"})||l(t)&&_(e)}function _(e){const t=(0,n.WV)({itemType:o.Wi.FEATURE,itemName:"ForceExplicit"}),r=(0,i.Uw)(e);return t||r===s.g}function A(e){const t=(0,a.A)(e,"EXPLICIT_ALBUM_CONTENT.EXPLICIT_LYRICS_STATUS",0);return l(e)||t===s.B3||t===s.Os?s.zf:s.yC}function p(e,t){return(0,i.Uw)(e)===s.g&&(0,a.A)(t,"EXPLICIT_ALBUM_CONTENT.EXPLICIT_LYRICS_STATUS",0)===s.Os}function E(e){return Number((0,a.A)(e,"SHOW_IS_EXPLICIT",0))===s.Os}},"D+Zh":(e,t,r)=>{"use strict";r.d(t,{Dr:()=>NetworkError,MU:()=>TimeoutError,Xj:()=>NotAvailableError,lc:()=>AbortError,m_:()=>NotFoundError,o3:()=>ResponseError});var a=r("4OMY"),s=r("8VJL"),i=(0,a.A)("AbortError");class AbortError extends s.A{constructor(...e){super(...e),Object.defineProperty(this,i,{writable:!0,value:void 0})}}var n=(0,a.A)("NetworkError");class NetworkError extends s.A{constructor(...e){super(...e),Object.defineProperty(this,n,{writable:!0,value:void 0})}}var o=(0,a.A)("NotAvailableError");class NotAvailableError extends s.A{constructor(...e){super(...e),Object.defineProperty(this,o,{writable:!0,value:void 0})}}var c=(0,a.A)("NotFoundError");class NotFoundError extends s.A{constructor(...e){super(...e),Object.defineProperty(this,c,{writable:!0,value:void 0})}}class ResponseError extends s.A{constructor(...e){super(...e),this.status=void 0}}var d=(0,a.A)("TimeoutError");class TimeoutError extends s.A{constructor(...e){super(...e),Object.defineProperty(this,d,{writable:!0,value:void 0})}}},"D/zM":(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var a=r("LOQS"),s=r("HQK9");const i=class{get value(){return this._value}get id(){return this._id}constructor({id:e,value:t=0,tags:r}){this._log=void 0,this._value=void 0,this._id=void 0,this._id=e,this._value=t,this._log={metric:{id:this._id},counter:this._value},r&&Object.keys(r).length&&(this._log.metric.tags=r)}increment(e=1){if(e<=0)throw new Error("Counter value can only increase");this._value+=e}_reset(){this._value=0}send(){this._log={...this._log,counter:this._value},a.A.log((0,s.L)("metrics.counter","1.0.0",this._log)),this._reset()}}},FdMc:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var a=r("WKgy"),s=r("xobL");const i=()=>{const e=a.A.getState().user;return(0,s.mI)({SERVER_TIMESTAMP:e.SERVER_TIMESTAMP,clientTimestampDelta:e.clientTimestampDelta})}},G04z:(e,t,r)=>{"use strict";r.d(t,{u:()=>u});var a=r("tZCQ"),s=r("z+LD"),i=r("Vd8Q"),n=r("bfvF");const o={item_collected:["playlist"],sharing_clicked:["playlist","artist_top_tracks","artist_favorite_items","favorite_albums","favorite_artists","favorite_downloaded_music","favorite_playlists","favorite_playlists_listening_history","favorite_podcasts","favorite_tab","favorite_tracks","home"],play_clicked:["playlist","home","artist_top_tracks"],item_clicked:["playlist","home","artist_top_tracks"]},c=e=>{var t,r;const s="screen_view"===e.eventName,i=null===(t=e.customAttributes)||void 0===t?void 0:t.screen_view_name,n=s&&i?`cdp_${i}`:`cdp_${e.eventName}`;return(!(void 0!==(null===(r=a.A.getFeatures())||void 0===r?void 0:r[n]))||a.A.isAllowed(n))&&!d(e)},d=e=>{var t;if(null===(t=e.customAttributes)||void 0===t||!t.screen_view_name||!e.eventName)return!1;const r=o[e.eventName];return!!r&&r.includes(e.customAttributes.screen_view_name)};let l;const u=(e=!1,t=!1)=>(t&&(l=null),l||(l=!e&&a.A.isInitialized()?new n.sG(i.default.get("segment_api_key"),{filter:a.A.isAllowed("activate_segment"),filterFunction:c,logger:(e,t)=>"object"==typeof t?s.A.error({...t,type:e}):void 0,stack:"electron"}):new n.sG(i.default.get("segment_api_key"),{logger:(e,t)=>"object"==typeof t?s.A.error({...t,type:e}):void 0,stack:"electron",filterFunction:e=>!d(e)}),l))},HGOC:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});const a=new(r("XiPH").wQ.Entity)("SONGS",{},{idAttribute:"SNG_ID"})},HQK9:(e,t,r)=>{"use strict";r.d(t,{L:()=>l});var a=r("dn5u"),s=r.n(a),i=r("9yOc"),n=r("r2u9"),o=r("Vd8Q"),c=r("h4AR");const d=s()(),l=(e,t,r)=>{const a=function(){var e;let t=c.S.Desktop;i.A.is("tablet")?t=c.S.Tablet:i.A.is("mobile")&&(t=c.S.Mobile);const r=(null===(e=navigator.userAgent.match(/(?:Deezer|DeezerSDK)\/([0-9.]+)/))||void 0===e?void 0:e[1])||o.default.get("release");return{name:c.T.Electron,family:t,electron:!0,os_version:n.Ay?n.Ay.getOsVersion():i.A.getOSVersion(),os_name:n.Ay?n.Ay.getOsName():i.A.getOSName(),version:1,ua:navigator.userAgent,model:"",app_version:r,lang:n.Ay?n.Ay.getLang():"",browser:!0,browser_name:"electron",browser_version:n.Ay?(n.Ay.getElectronVersion||(()=>""))():i.A.getBrowserVersion()}}(),s={ts:Math.round(Date.now()/1e3),version:t,type:e,platform:{app:{family:a.family,name:"deezer",stack:a.name,version:a.app_version},os:{name:String(a.os_name).toLowerCase(),version:String(a.os_version).toLowerCase()},browser:{name:String(a.browser_name).toLowerCase(),version:String(a.browser_version).toLowerCase()}}};return{"correlation-id":d,...r,...s}}},HvqQ:(e,t,r)=>{"use strict";r.d(t,{JG:()=>n,Oe:()=>u,Pw:()=>o,ZV:()=>d,_W:()=>c,db:()=>_,lm:()=>i,sX:()=>l});var a=r("lXQd"),s=r("p2PB");const i=({appCusto:e},t)=>Boolean(e.events[t]),n=({appCusto:e},t)=>(({appCusto:e},t)=>i({appCusto:e},t)&&e.events[t].type===s.DP.CUSTO)({appCusto:e},t)&&e.custos[e.events[t].value],o=({appCusto:e},t)=>i({appCusto:e},t)&&e.events[t].type,c=({appCusto:e},t)=>i({appCusto:e},t)&&e.events[t].value,d=({appCusto:e},t)=>i({appCusto:e},t)&&e.events[t].onTriggered||!1,l=({appCusto:e},t)=>i({appCusto:e},t)&&e.events[t].rule||!1,u=({appCusto:e},t)=>((e,t)=>{const r=l({appCusto:e},t);return!r||r===s.G9.ONCE&&(!e.rulesState[t]||!e.rulesState[t][r])})(e,t),_=({value:e})=>(0,a.A)(e,"data.on_outside_close.enabled","")},ISNy:(e,t,r)=>{"use strict";r.d(t,{EM:()=>A,KW:()=>_,UE:()=>u,VL:()=>p});var a=r("G4qV"),s=r("lXQd"),i=r("nLzw"),n=r("CxZw"),o=r("5G9X"),c=r("OPhi"),d=r("s026");const l=(0,a.Ad)(a.UI,i.A),u=(e,t)=>{const r=e.SONGS[String(t.id)];if(r)return{...r,SNG_ID:String(r.SNG_ID)}},_=(e,t)=>t.map((t=>u(e,{id:t}))).filter(Boolean),A=l([u,(e,t)=>{const r=u(e,t),a={};return r&&r.ARTISTS?r.ARTISTS.filter((e=>!a[e.ART_ID]&&(a[e.ART_ID]=!0,!0))):[]},(e,t)=>{const r=u(e,t);if(r&&r.LYRICS&&r.LYRICS_ID&&0!==r.LYRICS_ID)return{...r.LYRICS,HAS_SYNC_LYRICS:r.LYRICS.LYRICS_SYNC_JSON&&r.LYRICS.LYRICS_SYNC_JSON.length,LYRICS_TEXT:r.LYRICS.LYRICS_TEXT.split(/\r\n|\r|\n/g)}},(e,t)=>{const r=u(e,t);return(0,s.A)(r,"RELATED_ALBUMS.data")?r.RELATED_ALBUMS.data.filter((e=>n.A.checkSongAvailable(e)===n.A.READABLE)):r&&r.RELATED_ALBUMS?n.A.checkSongAvailable(r):void 0}],((e,t,r,a)=>({...e,FORMATTED_DURATION:(0,d.A)(e?e.DURATION:0),ARTISTS:t,LYRICS:r,RELATED_ALBUMS:a}))),p=l([e=>e.entities,e=>e.feedbacks,e=>(0,c.ZL)(e.feedbacks,o.Ay.Song)],((e,t,r)=>r.map((r=>{const a=u(e,{id:r});return"object"==typeof a&&Object.keys(a).length>1?{...a,DATE_FAVORITE:(0,c.vN)(t,o.Ay.Song,r)}:a})).filter(Boolean)))},"IYB/":(e,t,r)=>{"use strict";r.d(t,{D:()=>a});let a=function(e){return e.UPDATED_USER_ID="user/UPDATED_USER_ID",e.UPDATED_USER_TOKEN="user/UPDATED_USER_TOKEN",e.UPDATED_SESSION="user/UPDATED_SESSION",e.UPDATED_LASTFM_TOKEN="user/UPDATED_LASTFM_TOKEN",e.UPDATED_RECOMMENDATION_COUNTRY="user/UPDATED_RECOMMENDATION_COUNTRY",e.UPDATED_SETTINGS="user/UPDATED_SETTINGS",e.UPDATING_SETTINGS="user/UPDATING_SETTINGS",e.UPDATED_USER_DATA="user/UPDATED_USER_DATA",e.UPDATED_USER_PICTURE="user/UPDATED_USER_PICTURE",e.UPDATED_USER_NAME="user/UPDATED_USER_NAME",e.UPDATED_USER_LEVEL_DATA="user/UPDATED_USER_LEVEL_DATA",e.UPDATED_OPTIONS="user/UPDATED_OPTIONS",e.UPDATED_QUALITIES="user/UPDATED_QUALITIES",e.UPDATED_CONSENT_STRING="user/UPDATED_CONSENT_STRING",e.FETCHED_CHILD_ACCOUNT="user/FETCHED_CHILD_ACCOUNT",e.CREATE_CHILD_ACCOUNT="user/CREATE_CHILD_ACCOUNT",e.DELETE_CHILD_ACCOUNT="user/DELETE_CHILD_ACCOUNT",e.UNLINK_CHILD_ACCOUNT="user/UNLINK_CHILD_ACCOUNT",e.UPDATE_SUB_PROFILE="user/UPDATE_SUB_PROFILE",e.UPDATE_SUB_ACCOUNT="user/UPDATE_SUB_ACCOUNT",e.TOGGLE_OPTIN="user/TOGGLE_OPTIN",e.UNSELECT_ALL_OPTINS="user/UNSELECT_ALL_OPTINS",e}({})},IZLt:(e,t,r)=>{"use strict";r.d(t,{A:()=>c});var a=r("LOQS"),s=r("ebSJ"),i=r("HQK9"),n=r("WKgy");function o(e){try{return JSON.stringify(e)}catch(e){return"null"}}const c=class{constructor(e){var t,r,a;this._log=void 0;const i=o(e.server_payload);this._log={...e,...e.server_payload&&{server_payload:i},...(null===(t=n.A.getState())||void 0===t||null===(t=t.user)||void 0===t?void 0:t.COUNTRY)&&{country:null===(r=n.A.getState())||void 0===r||null===(r=r.user)||void 0===r?void 0:r.COUNTRY},error:null!==(a=e.error)&&void 0!==a?a:"unknown_error",device_uniq_id:(0,s.A)("dzr_uniq_id"),error_extra:"legacy"}}send(){this._log.server_payload&&"object"==typeof this._log.server_payload&&(this._log.server_payload=o(this._log.server_payload)),a.A.log((0,i.L)("user.account_vitals","1.0.2",this._log)),a.A.flush()}}},"IjN+":(e,t,r)=>{"use strict";r.d(t,{Nc:()=>c,Rq:()=>d,Ug:()=>l,f$:()=>n,f6:()=>o,hR:()=>i}),r("Ukb7"),r("hjmM");var a=r("Vzbh"),s=r("lWgj");const i={[a.en.LOSSLESS]:[s.rv],[a.en.HIGH]:[s.fq],[a.en.STANDARD]:[s.Fy],[a.en.LOW]:[s.se],[a.en.UNKNOWN]:[s.Y7,s.a_]},n=e=>Object.values(i).flat().find((t=>t.enum===e)),o=e=>Object.values(i).flat().find((t=>t.name===e)),c=e=>i[a.en.LOSSLESS].includes(e)?a.en.LOSSLESS:i[a.en.HIGH].includes(e)?a.en.HIGH:i[a.en.STANDARD].includes(e)?a.en.STANDARD:i[a.en.LOW].includes(e)?a.en.LOW:a.en.UNKNOWN,d=e=>e===a.en.UNKNOWN?s.Y7:i[e].length?i[e][0]:s.Fy,l=(a.kM.NONE,a.kM.ALL,a.kM.ONE,30)},JPje:(e,t,r)=>{"use strict";r.d(t,{EC:()=>u,Iq:()=>l,Qx:()=>_,RA:()=>i,Ym:()=>o,aw:()=>A,f6:()=>s,oB:()=>c,pU:()=>p,tU:()=>n,vg:()=>a,yd:()=>d});const a="components/Player/control/FINISHED_TRACKLIST",s="components/Player/control/SET_REPEAT",i="components/Player/control/SET_SHUFFLE",n="components/Player/control/SET_MUTE",o="components/Player/control/SET_BUFFER",c="components/Player/control/SET_LOADING",d="components/Player/control/SET_PAUSED",l="components/Player/control/SET_VOLUME",u="components/Player/control/SET_PLAYING",_="components/Player/control/SET_HAS_NEXT",A="components/Player/control/SET_HAS_PREV",p="components/Player/control/SET_NORMALIZED"},JRaq:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var a=r("c0bm");class s{constructor(){this._ee=new a.A}addEventListener(e,t){this._ee.on(e,t)}dispatchEvent(e){return this._ee.emit(e.type,e)}removeEventListener(e,t){this._ee.off(e,t)}}},JTKS:(e,t,r)=>{"use strict";r.d(t,{A:()=>a,v:()=>s});let a=function(e){return e.FAVORITES="FAVORITES",e.DISLIKES="DISLIKES",e}({}),s=function(e){return e.ALBUMS="ALBUMS",e.ARTISTS="ARTISTS",e.CHANNELS="CHANNELS",e.PLAYLISTS="PLAYLISTS",e.RADIOS="RADIOS",e.SHOWS="SHOWS",e.SONGS="SONGS",e}({})},Jndf:(e,t,r)=>{"use strict";r.d(t,{A4:()=>o,BU:()=>l,CZ:()=>c,DZ:()=>u,GK:()=>s,HX:()=>A,JE:()=>d,Pi:()=>i,ad:()=>n,cS:()=>a,fm:()=>_});const a="X-Ignore-Service-Worker",s="x-deezer-caching-policy",i="ServiceWorker/claim",n="ServiceWorker/skipWaiting",o="ServiceWorker/sync",c="active",d="controlling",l="installing",u="redundant",_="waiting",A="play-logs"},KBFD:(e,t,r)=>{"use strict";r.d(t,{T:()=>a});let a=function(e){return e.LAN="LAN",e.Mobile="mobile",e.Plane="plane",e.OfflineForced="offline_forced",e}({})},LOQS:(e,t,r)=>{"use strict";r.d(t,{A:()=>E});var a=r("bfvF"),s=r("G04z"),i=r("H/eQ"),n=r("WKgy"),o=r("Vd8Q");const c=new a.XG,d=(0,a.r1)({maxBatchSize:100,autoSendInterval:3e5,ignoredLogTypes:["cdp"]}),l=new a.MZ(`https://${o.default.get("host_rec")}/1.0/events/`,"",d),u=new a.rG((0,s.u)()),_=new a.J(u,c,{handledLogTypes:["cdp"]}),A=new a.KH(l,c,d),p=new a.Ay([A,_],c);i.A.ready(i.A.user.userReady,(()=>{const{user:e}=n.A.getState();u.updateCDP((0,s.u)(!1,!0)),l.setAuthToken(e.USER_TOKEN)}));const E={log:p.log.bind(p),flush:A.flush.bind(A)}},LjZa:(e,t,r)=>{"use strict";function a(){}r.d(t,{A:()=>a})},OPhi:(e,t,r)=>{"use strict";r.d(t,{BA:()=>E,M2:()=>h,ZL:()=>f,i8:()=>g,pp:()=>S,r$:()=>l,vN:()=>T});var a=r("lXQd"),s=r("XOWT"),i=r("nLzw"),n=r("G4qV"),o=r("5G9X"),c=r("yJX9");const d=(0,n.Ad)(n.UI,i.A),l=(e,t,r)=>(0,a.A)(e,`[${t}][${r}].order`,[]),u=d([(e,t,r)=>l(e,t,r),(e,t,r)=>(0,a.A)(e,`[${t}][${r}].feedbacks`,{})],((e,t)=>e.map((e=>t[e])))),_=d(((e,t,r,s)=>(0,a.A)(e,`[${t}][${r}].feedbacks[${s}]`,null)),(e=>e)),A=(e,t,r,a)=>{const s=_(e,t,a,r);return!(!s||!s.isDeleted)&&s.isDeleted},p=(e,t,r,a)=>Boolean((0,s.A)(e,`[${t}][${a}].feedbacks[${r}]`)&&!A(e,t,r,a)),E=(e,t,r)=>p(e,c.Z.favorites,t,r),g=(e,t,r)=>p(e,c.Z.dislikes,t,r),T=(e,t,r)=>((e,t,r,a)=>{const s=_(e,t,r,a);return s?s.timestamp:null})(e,c.Z.favorites,t,r),h=(e,t)=>{const r=_(e,c.Z.favorites,o.Ay.Playlist,t);return r&&r.lastSeen?r.lastSeen:null},S=(e,t,r=!0)=>((e,t,r,a)=>{const s=u(e,t,r);return a?s.length:s.filter((a=>!A(e,t,a.id,r))).length})(e,c.Z.favorites,t,r),f=(e,t)=>((e,t,r)=>l(e,t,r))(e,c.Z.favorites,t)},OQOy:(e,t,r)=>{"use strict";r.d(t,{$G:()=>UnauthorizedLicenseTokenError,Ax:()=>ExpiredLicenseTokenError,DY:()=>ExpiredURLError,Di:()=>NoFormatRequestedError,Dr:()=>NetworkError,FJ:()=>MediaError,Fs:()=>NoURLForMediaServiceError,JD:()=>EmptySourceError,MU:()=>TimeoutError,NJ:()=>URLProviderError,Ot:()=>ShouldFallbackError,Pr:()=>ServerError,Tu:()=>UnauthorizedTrackTokenError,Ug:()=>UnknownCodeError,VS:()=>NoFormatError,ZN:()=>ParsingError,c8:()=>SourceError,cL:()=>ExpiredTrackTokenError,fL:()=>DataError,fy:()=>UnknownMediaError,gP:()=>NoLicenseTokenError,iG:()=>APIDeprecatedError,iZ:()=>NoNetworkError,jl:()=>NoMediaResponseError,m6:()=>NoTrackTokenError,o3:()=>ResponseError,tF:()=>InvalidResponseError,y3:()=>InvalidLicenseTokenError,yP:()=>InvalidTrackTokenError});var a=r("8VJL");class URLProviderError extends a.A{constructor(...[e,t]){super(e),this.details=void 0,this.details=t||null}}class DataError extends URLProviderError{}class NoURLForMediaServiceError extends DataError{constructor(...e){super(...e),this.code="MS0000"}}class NoLicenseTokenError extends DataError{constructor(...e){super(...e),this.code="MS0001"}}class NoTrackTokenError extends DataError{constructor(...e){super(...e),this.code="MS0002"}}class NoFormatRequestedError extends DataError{constructor(...e){super(...e),this.code="MS0003"}}class NetworkError extends URLProviderError{}class NoNetworkError extends NetworkError{constructor(...e){super(...e),this.code="MS0600"}}class TimeoutError extends NetworkError{constructor(...e){super(...e),this.code="MS0610"}}class ServerError extends URLProviderError{constructor(...e){super(...e),this.code=void 0}}class ParsingError extends URLProviderError{constructor(...e){super(...e),this.code="MS0674"}}class ResponseError extends URLProviderError{get code(){return void 0!==this.details.code?`MS${this.details.code}`:void 0}}class APIDeprecatedError extends ResponseError{}class ExpiredLicenseTokenError extends ResponseError{}class InvalidLicenseTokenError extends ResponseError{}class UnauthorizedLicenseTokenError extends ResponseError{}class UnknownCodeError extends ResponseError{}class InvalidResponseError extends URLProviderError{constructor(...e){super(...e),this.code="MS0674"}}class MediaError extends URLProviderError{constructor(...e){super(...e),this._code=void 0}get code(){var e;return null!==(e=this._code)&&void 0!==e?e:void 0!==this.details.code?`MS${this.details.code}`:void 0}}class ExpiredTrackTokenError extends MediaError{}class InvalidTrackTokenError extends MediaError{}class UnauthorizedTrackTokenError extends MediaError{}class UnknownMediaError extends MediaError{}class NoFormatError extends MediaError{constructor(...e){super(...e),this._code="MS3000"}}class ExpiredURLError extends MediaError{constructor(...e){super(...e),this._code="MS3001"}}class EmptySourceError extends MediaError{constructor(...e){super(...e),this._code="MS3002"}}class NoMediaResponseError extends MediaError{}class ShouldFallbackError extends URLProviderError{}class SourceError extends URLProviderError{}},PIVb:(e,t,r)=>{"use strict";r.d(t,{Kx:()=>a,Y0:()=>o,iY:()=>n,qC:()=>i,tM:()=>s});const a="components/Player/chromecast/SET_AVAILABLE_STATUS",s="components/Player/chromecast/SET_CONNECTING_STATUS",i="components/Player/chromecast/SET_CASTING_STATUS",n="components/Player/chromecast/SET_ACTIVE_STATE",o="components/Player/chromecast/SET_SKIP_LIMITED"},QKMO:(e,t,r)=>{"use strict";function a(e,t){for(e=String(e);e.length<t;)e="0"+e;return e}r.d(t,{A:()=>a})},QSbk:(e,t,r)=>{"use strict";r.d(t,{M4:()=>l,gf:()=>d,ri:()=>u}),r("/eM8");var a=r("Vd8Q"),s=r("YEdj"),i=r("zuHY");const n=(0,i.VF)((0,i.ny)(i.MG));let o=null;const c=()=>{if(o)return o;const e=a.default.get("host_authent");return o=new n({tokenOutputType:i.NP.PAYLOAD,refreshTokenOutputType:i.NP.COOKIE,host:e,customFetch:(e,t)=>{const r=new Headers({Accept:"application/json"});return r.append("Origin",`https://${a.default.get("host_website_ssl")}`),(0,s.A6)(e,{...t,headers:r,credentials:"include"})},requestDelay:15}),o},d=async e=>{let t;try{t=await c().getToken()}catch(r){t=e?await c().loginWithArl().catch((async()=>await c().getToken())):await c().loginAsAnonymous()}if(null===t)throw new Error("Could not log user to new Auth");return t},l=()=>{c().invalidateCurrentToken()},u=async()=>{c().logout()}},RuKb:(e,t,r)=>{"use strict";r.d(t,{F:()=>l,_l:()=>u,g:()=>_,pD:()=>d,v6:()=>c});var a=r("G4qV"),s=r("nLzw"),i=r("UyDI"),n=r("xobL");const o=(0,a.Ad)(a.UI,s.A)(((e,t)=>{const r=e[t.bookmarkType][t.id];return r?i.A.createFromSerializedBookmark(r,t.bookmarkType):null}),(e=>e)),c=(e,t,r)=>o(e,{bookmarkType:t,id:r}),d=(e,t,r=0)=>Object.values(e.bookmarks[t]).filter((a=>i.A.createFromSerializedBookmark(a,t).ongoing&&a.timestamp/1e3>(0,n.mI)(e.user)-r)).map((e=>e.id)),l=(e,t,r,a)=>{const s=c(e,t,r);return!!s&&s.timestamp>a},u=(e,t,r)=>{const a=c(e,t,r);return!!a&&a.played},_=(e,t,r)=>{const a=c(e,t,r);return!!a&&a.ongoing}},RxH4:(e,t,r)=>{"use strict";r.d(t,{FO:()=>a,Z5:()=>i,pm:()=>s,rj:()=>o,tB:()=>n});const a=window.performance||{mark:window.performance.mark||(()=>{}),measure:window.performance.measure||(()=>{}),clearMeasures:window.performance.clearMeasures||(()=>{}),clearMarks:window.performance.clearMarks||(()=>{}),now:window.performance.now||(()=>Date.now()),getEntriesByName:window.performance.getEntriesByName||(()=>[])};function s(e,t){let r=null;const s=Math.random().toString(36).substring(7);try{a.measure(s,e,t),r=(i=a.getEntriesByName(s))[i.length-1].duration}catch(e){}var i;return a.clearMeasures(s),r}const i=()=>"undefined"!=typeof PerformanceObserver,n=e=>"resource"===e.entryType;class o{init(e){i()&&new PerformanceObserver(e).observe({entryTypes:["resource"]})}}},SLMx:(e,t,r)=>{"use strict";let a;r.d(t,{A:()=>i});const s=new RegExp("((^s*((([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5]).){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5]))s*$)|(^s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]d|1dd|[1-9]?d)(.(25[0-5]|2[0-4]d|1dd|[1-9]?d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]d|1dd|[1-9]?d)(.(25[0-5]|2[0-4]d|1dd|[1-9]?d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]d|1dd|[1-9]?d)(.(25[0-5]|2[0-4]d|1dd|[1-9]?d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]d|1dd|[1-9]?d)(.(25[0-5]|2[0-4]d|1dd|[1-9]?d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]d|1dd|[1-9]?d)(.(25[0-5]|2[0-4]d|1dd|[1-9]?d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]d|1dd|[1-9]?d)(.(25[0-5]|2[0-4]d|1dd|[1-9]?d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]d|1dd|[1-9]?d)(.(25[0-5]|2[0-4]d|1dd|[1-9]?d)){3}))|:)))(%.+)?s*$))"),i={set(e){e.length&&s.test(e)&&(a=e)},get:()=>a}},T374:()=>{},TqF5:(e,t,r)=>{"use strict";r.d(t,{Ay:()=>n,Oo:()=>d,UJ:()=>l,Yo:()=>c,qf:()=>o});var a=r("9yOc"),s=r("jaKc");const i={name:"",props:{},disableClosingAction:!1,size:"large",classNameClose:"",addRadius:!1};function n(e=i,t={}){switch(t.type){case s.f.SHOW_MODAL:return t.name?{...i,...t}:e;case s.f.RESIZE_MODAL:return{...e,size:t.size};case s.f.HIDE_MODAL:return i;default:return e}}const o=e=>({type:s.f.SHOW_MODAL,...e}),c=e=>({type:s.f.RESIZE_MODAL,size:e}),d=(e=!1)=>({type:s.f.HIDE_MODAL,data:{canceled:e}}),l=(e,t=!1)=>{let r;return a.A.is("mobile")&&(r=t?"full":"mobile"),{type:s.f.SHOW_MODAL,size:r,...e}}},UWRA:(e,t,r)=>{"use strict";r.d(t,{f:()=>FileError,l:()=>o});var a=r("4OMY"),s=r("/HWm"),i=r("8VJL"),n=(0,a.A)("FileError");class FileError extends i.A{constructor(...e){super(...e),Object.defineProperty(this,n,{writable:!0,value:void 0})}}function o(e){return e instanceof FileError||e instanceof s.f6}},Uat9:(e,t,r)=>{"use strict";r.d(t,{Ay:()=>u,ts:()=>d}),r("EV0h"),r("gS5K");var a=r("tZCQ"),s=r("LOQS"),i=r("RxH4"),n=r("HQK9"),o=r("KBFD"),c=function(e){return e[e.NETWORK_ERROR=600]="NETWORK_ERROR",e[e.FORMAT_ERROR=603]="FORMAT_ERROR",e[e.RESET_BY_PEER=604]="RESET_BY_PEER",e[e.CONNECTION_TIMED_OUT=610]="CONNECTION_TIMED_OUT",e[e.CONNECTION_REFUSED=611]="CONNECTION_REFUSED",e[e.HOST_IS_DOWN=612]="HOST_IS_DOWN",e[e.BAD_RESPONSE=674]="BAD_RESPONSE",e[e.UNKNOWN_ERROR=666]="UNKNOWN_ERROR",e}(c||{});let d=function(e){return e.FETCH_REQUEST="podcast_fetch_request",e.FETCH_RESPONSE="podcast_fetch_response",e}({});function l(e){switch(e.code){case MediaError.MEDIA_ERR_ABORTED:return c.RESET_BY_PEER;case MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED:return c.CONNECTION_REFUSED;case MediaError.MEDIA_ERR_DECODE:return c.BAD_RESPONSE;case MediaError.MEDIA_ERR_NETWORK:default:return c.NETWORK_ERROR}}const u=new class{constructor(e,t){this.logCenter=void 0,this.gatekeeper=void 0,this.logCenter=e,this.gatekeeper=t}log(e){if(!this.gatekeeper.isAllowed("metric.podcastdownload"))return;const t=(0,i.pm)(d.FETCH_REQUEST,d.FETCH_RESPONSE);if(!(t&&e.podcastId&&e.episodeId&&e.response))return;const r=new URL(e.url);this.logCenter.log((0,n.L)("network.podcast_download_metrics","2.0.0",{host:r.host,network:{type:o.T.LAN},podcast_episode_id:e.episodeId,podcast_id:e.podcastId,request_ms:Math.round(t),response_code:e.response instanceof MediaError?l(e.response):e.response,scheme:"http:"===r.protocol?"http":"https",uri:r.pathname}))}mark(e){this.gatekeeper.isAllowed("metric.podcastdownload")&&i.FO.mark(e)}}(s.A,a.A)},UfUf:(e,t,r)=>{"use strict";r.d(t,{By:()=>a,fP:()=>s,lD:()=>n,zu:()=>i});let a=function(e){return e.DECRYPTION_ERROR="DecryptionError",e.STREAM_BLANK_ERROR="StreamBlankError",e.NETWORK_ERROR="NetworkError",e.OTHER_ERROR="OtherError",e}({}),s=function(e){return e.NO_NETWORK="NoNetwork",e.TIMEOUT="Timeout",e.OTHER="Other",e}({}),i=function(e){return e.EPISODE="episode",e.EXTERNAL="external",e.LIVE="live",e.SONG="song",e}({}),n=function(e){return e.SMARTRADIO="smart_radio",e.MOD="music_on_demand",e}({})},UyDI:(e,t,r)=>{"use strict";r.d(t,{A:()=>E});let a=function(e){return e[e.NOT_PLAYED=0]="NOT_PLAYED",e[e.ONGOING=1]="ONGOING",e[e.PLAYED=2]="PLAYED",e}({});class s{constructor(e,t,r){this.offset=void 0,this.timestamp=void 0,this.playStatus=void 0,this.timestamp=e,this.offset=t,this.playStatus=r}}class i extends s{constructor(e){super(e,0,a.NOT_PLAYED)}}class n extends s{constructor(e,t){super(e,t,a.ONGOING)}}class o extends s{constructor(e){super(e,0,a.PLAYED)}}const c=e=>e<10,d=(e,t)=>!1===c(e)&&e>=.9*t&&t-e<=120,l={[a.PLAYED]:[a.NOT_PLAYED]},u=(e,t)=>void 0===l[e.playStatus]||!1===l[e.playStatus].includes(t);class E{constructor(e,t,r,a,s){this.id=void 0,this.type=void 0,this.state=void 0,this.id=e,this.type=t,this.state=((e,t,r)=>r?new o(e):c(t)?new i(e):new n(e,t))(a,r,s)}static createNotPlayedBookmark(e,t){return new E(e,t,0,Date.now(),!1)}static createPlayedBookmark(e,t){return new E(e,t,0,Date.now(),!0)}static createFromSerializedBookmark(e,t){return new E(e.id,t,e.offset,e.timestamp,e.playStatus===a.PLAYED)}serialize(){return{id:this.id,offset:this.offset,timestamp:this.timestamp,playStatus:this.playStatus}}updateProgress(e,t){this.state=((e,t,r)=>c(t)&&u(e,a.NOT_PLAYED)?new i(Date.now()):((e,t)=>!1===c(e)&&!1===d(e,t))(t,r)&&u(e,a.ONGOING)?new n(Date.now(),t):d(t,r)&&u(e,a.PLAYED)?new o(Date.now()):e)(this.state,e,t)}markAsPlayed(){this.state=(this.state,new o(Date.now()))}markAsNotPlayed(){this.state=(this.state,new i(Date.now()))}get timestamp(){return this.state.timestamp}get offset(){return this.state.offset}get playStatus(){return this.state.playStatus}get played(){return this.state.playStatus===a.PLAYED}get ongoing(){return this.state.playStatus===a.ONGOING}get notPlayed(){return this.state.playStatus===a.NOT_PLAYED}}},V9V8:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});const a="undefined"!=typeof window&&window.performance?window.performance.timeOrigin:Date.now(),s="undefined"!=typeof window&&window.performance?()=>window.performance.now():()=>Math.max(Date.now()-a,0);class i{constructor(){this._offset=0}get debug(){return{hasPerformance:Boolean("undefined"!=typeof window&&window.performance),NOW:s(),now:this.now(),offset:this._offset,ORIGIN:a}}now(){return a+this._offset+s()}update(e){let t;t="string"==typeof e?Date.parse(e):e instanceof Date?e.getTime():e,Number.isFinite(t)&&(this._offset=t-s()-a)}}},VakI:(e,t,r)=>{"use strict";r.d(t,{S:()=>a});let a=function(e){return e.EVENTS_UPDATED="custo/EVENTS_UPDATE",e.SET_CURRENT_EVENT="custo/SET_CURRENT_EVENT",e.REMOVE_CURRENT_EVENT="custo/REMOVE_CURRENT_EVENT",e.APP_CUSTO_AS_LAUNCHED="custo/APP_CUSTO_AS_LAUNCHED",e.UPDATE_EVENT_RULE="custo/UPDATE_EVENT_RULE",e}({})},Vsul:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});const a="undefined"!=typeof window?window.open:()=>{throw new Error("window.open can only be called on client-side.")}},Vynx:(e,t,r)=>{"use strict";r.d(t,{Z:()=>g,A:()=>I});var a=r("tZCQ"),s=r("lWgj"),i=r("LOQS"),n=r("HQK9"),o=r("SLMx"),c=r("RxH4"),d=r("D/zM"),l=r("+pY+");const u=class{constructor(e){this._counter=void 0,this._counter=new d.A({id:l.Ps.PLAYBACK_ATTEMPTS,tags:e})}log(){a.A.isAllowed("metric.playback_attempts")&&(this._counter.increment(),this._counter.send())}};var _=r("pGqU"),A=r("bmsN"),p=r("5G9X"),E=r("ZQ26");let g=function(e){return e.ANY_PLAYBACK_ACTION="anyPlaybackAction",e.GET_URL="getUrl",e.START_TRACK_FETCHING="startTrackFetching",e.START_RENEW_URL="startRenewUrl",e.END_RENEW_URL="endRenewUrl",e.START_BUFFERING="startBuffering",e.END_OF_PLAYBLACK_ACTION="endOfPlayblackAction",e}({});const T=["external","live",p.Ay.Livestream,p.Ay.Song,p.Ay.Episode,"undefined"],h=[],S=[g.ANY_PLAYBACK_ACTION,g.GET_URL,g.START_TRACK_FETCHING,g.START_RENEW_URL,g.END_RENEW_URL,g.START_BUFFERING,g.END_OF_PLAYBLACK_ACTION];function f(){const e={};for(let t=0;t<S.length-1;t++){const r=S[t];let a,s=1,i=null;for(;null===i&&s<S.length;)a=S[t+s],i=(0,c.pm)(r,a),null===i&&s++;c.FO.clearMarks(r),e[r]=i||0}const t=Math.round(e[g.ANY_PLAYBACK_ACTION]),r=Math.round(e[g.GET_URL]+e[g.START_RENEW_URL]),a=Math.round(e[g.START_TRACK_FETCHING]),s=Math.round(e[g.START_BUFFERING]);return{player_init:t,drm_call:r,track_fetch:a,buffer:s,total:t+r+a+s}}let m;const y={TIME_TO_NEXT:"next",TIME_TO_PAUSE:"pause",TIME_TO_PLAY:"play",TIME_TO_PREVIOUS:"previous",TIME_TO_RESUME:"resume",TIME_TO_SEEK:"seek",intent(e){m=e,S.forEach(c.FO.clearMarks.bind(c.FO)),y.markTimeToPlayAction(g.ANY_PLAYBACK_ACTION),h.push({fulfilled:!1,name:e,time:c.FO.now()}),(e===y.TIME_TO_PLAY||e===y.TIME_TO_NEXT||e===y.TIME_TO_PREVIOUS)&&new u({playback_action:e}).log()},markTimeToPlayAction(e){c.FO.mark(e)},measure(e,t={}){const r=function(e){let t=h.length;for(;t--;)if(h[t].name===e)return h[t];return null}(e),{offer_id:d,user_id:l}=A.It.get();if(!r)return;if(!0===r.fulfilled||void 0===r.fulfilled)return;y.markTimeToPlayAction(g.END_OF_PLAYBLACK_ACTION);const u=c.FO.now()-r.time;r.context={container:t.container||t.name||t.TYPE||"unknown",format:"EXTERNAL"===t.format?"MP3_MISC":t.format||"unknown",id:t.id||t.ID||0,type:(t.type||"unknown").replace("_","")};const p={context:r.context,duration:u,name:`${r.name}:end`,time:c.FO.now()};h.push(p);const S={action:"next"===m||"previous"===m?`skip${m}`:m,elapsed:f(),media:{container:String(r.context.container),format:String(r.context.format),id:String(r.context.id),type:String(r.context.type)},source:"online",drm_version:"0",offer_id:d,user_id:l},I=o.A.get();I&&(S.client_ip=I),S.media.format!==s.a_.name&&a.A.isAllowed("use_media_service")&&(S.drm_version="1");const L=S.elapsed.total>6e4;if(!L&&a.A.isAllowed("metric.timetoplay")&&T.includes(S.media.type)){const e=(0,E.M)(S);i.A.log((0,n.L)("playback.time_to_play","3.0.0",e))}else L&&new _.A({action:S.action,media_type:S.media.type,media_id:S.media.id,media_container:S.media.container,media_format:S.media.format,player_init:String(S.elapsed.player_init),drm_call:String(S.elapsed.drm_call),track_fetch:String(S.elapsed.track_fetch),buffer:String(S.elapsed.buffer),total:String(S.elapsed.total),offer_id:S.offer_id,user_id:S.user_id}).log();r.fulfilled=!0}},I=y},Vzbh:(e,t,r)=>{"use strict";r.d(t,{bH:()=>a,en:()=>s,kM:()=>i});let a=function(e){return e.FLAC="audio/flac",e.FLAC_IN_MP4='audio/mp4; codecs="flac"',e.FLAC_IN_MP4_CASE='audio/mp4; codecs="fLaC"',e.MP3="audio/mpeg",e.MP3_IN_MP4='audio/mp4; codecs="mp3"',e}({}),s=function(e){return e.HIGH="high",e.LOSSLESS="lossless",e.LOW="low",e.STANDARD="standard",e.UNKNOWN="unknown",e}({}),i=function(e){return e.ALL="all",e.NONE="none",e.ONE="one",e}({})},WeLa:(e,t,r)=>{"use strict";r.d(t,{Cn:()=>n,s6:()=>o,sx:()=>c});var a=r("XBvc"),s=r("nrKQ"),i=r("z+LD");function n(e){s.A.call({method:"appcusto.getData",data:{},success:t=>{e&&e(t)}})}function o(e){e.forEach((e=>s.A.call({method:"appcusto.api",data:e.value.params})))}const c=e=>{if(!e)return;if("string"==typeof e.value)return;const t=e.value;(0,a.isLogCentralWhitelisted)(t.channel)||i.A.warn(`log_central is deprecated. "${t.channel}" is not a whitelisted event.`),s.A.call({method:"log_central.log",data:{BATCH:[t]}})}},WmA5:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});var a=r("6+Dn"),s=r("WafQ"),i=r("Qyje");const n=(0,s.A)((0,a.TM)(),i.stringify,i.parse)},Wp0Y:(e,t,r)=>{"use strict";r.d(t,{AP:()=>i,Ts:()=>s,WI:()=>n}),r("/eM8");var a=r("DL/y");async function s(e="en-US"){try{const t=await r("mdgW")(`./${e}`);(0,a.i)(e,t,{nsSeparator:":::",keySeparator:"::"})}catch(t){throw new Error(`Could not load translations for language ${e}`)}}function i(e,t={}){if(!e)throw new Error("gettext called with an empty key");return(0,a.T)(e,t)}function n(e,t,r={}){if(!arguments.length||arguments.length<3)throw new Error(`ngettext() called with incorrect number of arguments ${[e,t,r].join(",")}`);if(void 0===r.count)throw new Error(`ngettext() called with no "count" attribute ${[e,t,r].join(",")}`);const s=Number(r.count);return(0,a.T)(e,{...r,count:s})}},WrS5:(e,t,r)=>{"use strict";r.d(t,{b:()=>a});let a=function(e){return e.AUTH_MODAL="AUTH_MODAL",e.GENERIC_ERROR="ERROR",e.GENERIC_CONFIRM="CONFIRM",e.GENERIC_IFRAME="IFRAME",e.MISSING_INFO_JOURNEY="MISSING_INFO_JOURNEY",e.PROFILE_MIGRATION_CONFIRMED="PROFILE_MIGRATION_CONFIRMED",e.THIRD_PARTY_CONFIRM_UNLINK="THIRD_PARTY_CONFIRM_APPLE_UNLINK",e.THIRD_PARTY_CONFIRM_APPLE_UNLINK="THIRD_PARTY_CONFIRM_UNLINK",e.EDIT_MP3="EDIT_MP3",e.MSISDN_PHONE_ACTIVATION="MSISDN_PHONE_ACTIVATION",e.LIGHTBOX_GIFT_RESULT="LIGHTBOX_GIFT_RESULT",e}({})},Wwhz:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});const a=class{constructor(e){this.set(e)}set(e){for(let t in e)({}).hasOwnProperty.call(e,t)&&(this[t]=e[t]);return this}};class s extends a{getFallback(){if(this.hasFallback())return new s(this.FALLBACK).set({ORIGIN_ID:Number(this.SNG_ID||this.EPISODE_ID),UNSEEN:this.UNSEEN,DATE_ADD:this.DATE_ADD})}hasFallback(){return this.FALLBACK}isUnseen(e){return e&&this.DATE_ADD?this.DATE_ADD>e:null}static hydrate(e){var t=[];for(let r=0,a=e.length;r<a;++r)t[r]=new this(e[r]);return t}}const i=s},"XVw/":(e,t,r)=>{"use strict";r.d(t,{A:()=>s}),r("/eM8");const a={ended:function(){this.bridge.setPropValue("finishPreview",!0)}};class s{constructor(e){this.bridge=e,this.element=document.createElement("audio"),this.element.autoplay=!0,this._listeners={},Object.keys(a).forEach((e=>{this._listeners[e]=a[e].bind(this),this.element.addEventListener(e,this._listeners[e])}))}load(e){this.element.src=e,this.element.load()}get muted(){return this.element.muted}set muted(e){this.element.muted=Boolean(e)}pause(){return this.element.pause()||Promise.resolve()}play(){return this.element.play()||Promise.resolve()}stop(){return this.pause(),this.element.src="",Promise.resolve()}get volume(){return this.element.volume}set volume(e){this.element.volume=e}}},YEdj:(e,t,r)=>{"use strict";r.d(t,{A6:()=>T}),r("/eM8"),r("EV0h"),r("gS5K");var a=r("dn5u"),s=r.n(a),i=r("LOQS"),n=r("HQK9"),o=r("RxH4"),c=r("Vd8Q"),d=r("tZCQ"),l=r("SLMx");const u=c.default.get("host_pipe"),_=c.default.get("host_authent"),A="/ajax/gw-light.php",p=new Map,g=e=>{e.getEntries().forEach((e=>{if(!(0,o.tB)(e))return;const t=new URL(e.name);if(t.host!==u&&t.host!==_&&t.pathname!==A||37!==t.hash.length)return;const r=t.hash.replace("#",""),a=p.get(r);a&&((({entry:e,baseRequestInfo:t})=>{const r=((e,t,r)=>{if(!(0,o.Z5)()||!(0,o.tB)(e))return null;const a=new URL(e.name);if(37!==a.hash.length)return null;const s=e.secureConnectionStart>0?e.connectEnd-e.secureConnectionStart:0,i={scheme:"http:"===a.protocol?"http":"https",host:a.host,uri:a.pathname,response_code:t,dns_resolution_ms:Math.round(e.domainLookupEnd-e.domainLookupStart),tcp_connect_ms:Math.round(e.connectEnd-e.connectStart-s),ssl_handshake_ms:Math.round(s),wait_ms:Math.round(e.responseStart-e.requestStart),answer_download_ms:Math.round(e.responseEnd-e.responseStart),answer_headers_bytes:e.transferSize-e.encodedBodySize,answer_body_bytes:e.encodedBodySize};return r&&(i.client_ip=r),i})(e,t.response_code,t.client_ip);if(!r)return;const a={...r,method_name:t.method_name};i.A.log((0,n.L)("network.api_metrics","2.0.0",a))})({entry:e,baseRequestInfo:a}),p.delete(r))}))},T=(e,t)=>{let r=null;const a=new URL(e.toString());if(r=a.host===u?JSON.parse(String(null==t?void 0:t.body)).operationName:a.host===_?a.pathname:a.pathname===A?a.searchParams.get("method"):null,!(0,o.Z5)()||"deezer.getUserData"===r||!d.A.isAllowed("metric.api"))return fetch(e,t);(new o.rj).init(g);const i=s()(),n=fetch(`${e}#${i}`,t);return n.then((e=>(((e,t,r)=>{if(!(0,o.Z5)())return;const a={response_code:t.status,method_name:r.method_name};let s=null;t.headers&&(s=t.headers.get("x-deezer-client-ip")),s&&(l.A.set(s),a.client_ip=s),p.set(e,a)})(i,e,{method_name:r}),e))),n}},YaJs:(e,t,r)=>{"use strict";r.d(t,{Ts:()=>d,n7:()=>u,qB:()=>l,yl:()=>i}),r("EV0h"),r("gS5K");var a=r("LOQS"),s=r("HQK9");const i=600,n=new Map,o="undefined"!=typeof PerformanceObserver;let c;const d=()=>{o&&(c&&"disconnect"in c&&c.disconnect(),c=new PerformanceObserver((e=>{e.getEntries().forEach((e=>{if((e=>"resource"===e.entryType)(e)){const t=new URL(e.name);if(37!==t.hash.length)return;const r=t.hash.replace("#",""),i=n.get(r);i&&(((e,t,r)=>{const i=e.secureConnectionStart>0?e.connectEnd-e.secureConnectionStart:0,n=new URL(e.name),o={scheme:"http:"===n.protocol?"http":"https",host:n.host,uri:n.pathname,response_code:t,dns_resolution_ms:Math.round(e.domainLookupEnd-e.domainLookupStart),tcp_connect_ms:Math.round(e.connectEnd-e.connectStart-i),ssl_handshake_ms:Math.round(i),wait_ms:Math.round(e.responseStart-e.requestStart),answer_download_ms:Math.round(e.responseEnd-e.responseStart),answer_headers_bytes:e.transferSize-e.encodedBodySize,answer_body_bytes:e.encodedBodySize};r&&(o.client_ip=r),a.A.log((0,s.L)("network.cdn_metrics","3.0.0",o))})(e,i.response_code,i.client_ip),n.delete(r))}}))})),c.observe({entryTypes:["resource"]}))},l=(e,t,r,a)=>{if(!o)return;const s={uri:t,response_code:r};a&&(s.client_ip=a),n.set(e,s)},u=e=>{o&&n.delete(e)}},Z64h:(e,t,r)=>{"use strict";r.d(t,{$:()=>a});const a={HTML5Renderer:!0};Object.keys(a)},Z9d1:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var a=r("WKgy"),s=r("xobL");function i(e){let t,r,i;if(/^\d{4}-\d{1,2}-\d{1,2}$/.exec(e))t=e.split("-"),r=["0","0","0"];else{if(!/^\d{4}-\d{1,2}-\d{1,2} \d{2}:\d{2}:\d{2}$/.exec(e))return(0,s.mI)(a.A.getState().user);i=e.split(" "),r=i[1].split(":"),t=i[0].split("-")}return new Date(Number(t[0]),Number(t[1])-1,Number(t[2]),Number(r[0]),Number(r[1]),Number(r[2])).getTime()/1e3}},ZL5e:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});class a{constructor(e,t){this.bubbles=!1,this.cancelable=!1,this.composed=!1,this.type=void 0,this.type=e,t&&(this.bubbles=Boolean(t.bubbles),this.cancelable=Boolean(t.cancelable),this.composed=Boolean(t.composed))}}class s extends a{constructor(...e){super(e[0],e[1]),this.detail=void 0,this.detail=e[1]&&"detail"in e[1]?e[1].detail:null}}},ZQ26:(e,t,r)=>{"use strict";r.d(t,{M:()=>n});var a=r("UfUf"),s=r("5G9X");const i={[a.zu.EPISODE]:"talk",[a.zu.EXTERNAL]:a.zu.EXTERNAL,[a.zu.LIVE]:a.zu.LIVE,[a.zu.SONG]:a.zu.SONG,[s.Ay.Track]:s.Ay.Album,[s.Ay.Livestream]:s.Ay.Album};function n(e){return e.media.type?{...e,media:{...e.media,type:(t=e.media.type,i[t]||t)}}:e;var t}},ZoPi:(e,t,r)=>{"use strict";r.d(t,{A:()=>E}),r("WpbS");var a=r("LOQS"),s=r("tZCQ"),i=r("bmsN"),n=r("UWRA"),o=r("dgCO"),c=r("D+Zh"),d=r("UfUf"),l=r("KBFD"),u=r("lWgj"),_=r("SLMx"),A=r("HQK9"),p=r("ZQ26");const E=new class{constructor(e,t,r){this._gatekeeper=void 0,this._logCenter=void 0,this._userContext=void 0,this._logCenter=e,this._gatekeeper=t,this._userContext=r}log(e,t){if(!this._gatekeeper.isAllowed("metric.playback_errors"))return;const r=Object.entries(this._getPayload(e,t)).filter((([,e])=>void 0!==e)).reduce(((e,[t,r])=>Object.assign(e,{[t]:r})),{}),a=(0,p.M)(r);this._logCenter.log((0,A.L)("playback.playback_errors","1.0.0",a))}_getPayload(e,t){var r,a;const s=_.A.get(),{offer_id:i,user_id:A}=this._userContext.get(),p={type:l.T.LAN};if(void 0===t)return{error:{type:d.By.OTHER_ERROR,subtype:d.fP.OTHER,message:e.message||"Player is empty"},client_ip:s,offer_id:i,user_id:A,network:p,media:{id:"undefined",type:d.zu.SONG}};const E={id:String(t.id),type:String(null!==(r=t.type)&&void 0!==r?r:d.zu.SONG),format:(null===(a=t.format)||void 0===a?void 0:a.name)===u.a_.name?"MP3_MISC":t.format.name,version:String(t.version),container_type:t.containerType};return t.idOrigin&&(E.id=String(t.idOrigin),E.fallback_id=String(t.id)),e instanceof o.LV?{error:{type:d.By.STREAM_BLANK_ERROR,message:e.message||e.name},client_ip:s,offer_id:i,user_id:A,network:p,media:{...E,url:t.url,sources:t.sources}}:(0,n.l)(e)?{error:{type:d.By.DECRYPTION_ERROR,message:e.message||e.name},client_ip:s,offer_id:i,user_id:A,network:p,media:{...E,url:t.url,sources:t.sources}}:e instanceof c.Dr?{error:{type:d.By.NETWORK_ERROR,message:e.message||e.name},client_ip:s,offer_id:i,user_id:A,network:p,media:E}:{error:{type:d.By.OTHER_ERROR,subtype:d.fP.OTHER,message:e.message||e.name},client_ip:s,offer_id:i,user_id:A,network:p,media:E}}}(a.A,s.A,i.It)},aHAS:(e,t,r)=>{"use strict";r.d(t,{C9:()=>T,CJ:()=>A,Cn:()=>w,Ff:()=>p,Iy:()=>O,Ju:()=>D,Km:()=>E,MZ:()=>m,SC:()=>h,Sk:()=>L,So:()=>y,XD:()=>N,Xx:()=>I,b6:()=>v,bB:()=>R,l8:()=>f,mZ:()=>C,me:()=>k,qO:()=>g,tj:()=>S,xf:()=>P}),r("/eM8");var a=r("nLzw"),s=r("7+7Q"),i=r("nrKQ"),n=r("H/eQ"),o=r("WBQ7"),c=r("Wp0Y"),d=r("6Va4"),l=r("IZLt"),u=r("xobL"),_=r("IYB/");const A=e=>({type:_.D.UPDATED_USER_ID,id:e}),p=e=>({type:_.D.UPDATED_USER_PICTURE,picture:e}),E=e=>({type:_.D.UPDATED_USER_NAME,name:e}),g=e=>({type:_.D.UPDATED_SESSION,session:e.SESSION,checkForm:e.CHECKFORM}),T=()=>e=>{i.A.call({method:"deezer.getChildAccounts",success:t=>{e({type:_.D.FETCHED_CHILD_ACCOUNT,data:t})}})},h=(e,t,r)=>a=>{i.A.call({method:"user.createAndGetChild",data:{blog_name:e.blogName,is_kid:e.isKid,kids_consent:e.kidsConsent,sex:e.sex,force_explicit_level:e.forceExplicitLevel,birthday:(new Date).getFullYear()-e.age+"-01-01"},success:e=>{Array.isArray(e)&&1===e.length&&a({type:_.D.CREATE_CHILD_ACCOUNT,data:e[0]}),t()},error:e=>{var t;new l.A({error:null!==(t=null==e?void 0:e.message)&&void 0!==t?t:null==e?void 0:e.name,journey_type:"family-create-member",gateway_method:"user.createAndGetChild",server_payload:e}).send(),r()}})},S=e=>t=>new Promise(((r,a)=>{i.A.call({method:"user.updateFamilyAccount",data:{blog_name:e.blogName,sex:e.sex,birthday:e.birthday,is_kid:e.isKid,kids_consent:e.kidsConsent,...e.isExplicitLevelEditable&&{force_explicit_level:e.forceExplicitLevel},user_id_to_edit:e.userId},success:()=>{t((e=>({type:_.D.UPDATE_SUB_PROFILE,payload:e}))({...e,isExplicitLevelEditable:e.isExplicitLevelEditable,caption:e.isKid?(0,c.AP)("familyprofileswitcheraddprofile_title_kidprofile_web"):""})),r()},error:e=>{var t;new l.A({error:null!==(t=null==e?void 0:e.message)&&void 0!==t?t:null==e?void 0:e.name,journey_type:"family-edit-member",gateway_method:"user.updateFamilyAccount",server_payload:e}).send(),a(e)}})})),f=e=>t=>new Promise(((r,a)=>{i.A.call({method:"parentalcontrol.setSettingsForChildAccount",data:{disable_explicit_control:e.forceExplicitLevel,child_id:e.userId},success:()=>{t((e=>({type:_.D.UPDATE_SUB_ACCOUNT,payload:e}))(e)),r()},error:a})})),m=e=>t=>new Promise(((r,a)=>{i.A.call({method:"user.deleteChild",data:{child_id:e.id},success:()=>{t({type:_.D.DELETE_CHILD_ACCOUNT,data:e.id}),r()},error:e=>{var t;new l.A({error:null!==(t=null==e?void 0:e.message)&&void 0!==t?t:null==e?void 0:e.name,journey_type:"family-delete-member",gateway_method:"user.deleteChild",server_payload:e}).send(),a(e)}})})),y=e=>t=>new Promise(((r,a)=>{i.A.call({method:"family.unlinkUserFromFamily",data:{member_id:e.id},success:()=>{t({type:_.D.UNLINK_CHILD_ACCOUNT,data:e.id}),r()},error:e=>{var t;new l.A({error:null!==(t=null==e?void 0:e.message)&&void 0!==t?t:null==e?void 0:e.name,journey_type:"family-remove-independent-member",gateway_method:"family.unlinkUserFromFamily",server_payload:e}).send(),a(e)}})})),I=(e,t=!1)=>(r,o)=>new Promise(((c,d)=>{const l=o().user,A=(0,u.mt)(l),p=(0,s.A)({},A,e);(0,a.A)(p,A)?c():(r({type:_.D.UPDATED_SETTINGS,data:{updatedSettings:e,notify:t}}),(0,u.UJ)(l)?(n.A.trigger(n.A.user.settingChanged,{notify:t,data:e}),i.A.call({method:"user.setSettings",data:{settings:e},success:()=>{n.A.trigger(n.A.user.settingUpdated,{notify:t,data:e}),c()},error:d})):c())})),L=e=>t=>{i.A.call({method:"deezer.getUserData",success:r=>{t({type:_.D.UPDATED_USER_DATA,data:(0,d.SY)({...r,clientTimestampDelta:0,currentAudioQuality:(0,d.iQ)(r),currentCastAudioQuality:(0,d.dK)(r)})}),e&&e(r)}})},R=e=>t=>{t(((e,t)=>r=>{r(I({site:{desktop_notifications:t}}))})(0,e))},O=e=>t=>new Promise(((r,a)=>{i.A.call({method:"user.updateRecommendationCountry",data:{RECOMMENDATION_COUNTRY:e},success:s=>{!0===s?(t({type:_.D.UPDATED_RECOMMENDATION_COUNTRY,payload:{recommendationCountry:e}}),r()):a(s)},error:a})})),v=e=>t=>{t({type:_.D.UPDATED_USER_DATA,data:(0,d.SY)(e)})},P=e=>t=>{i.A.call({method:"user.updateExplicitContentLevel",data:e,success:()=>{t({type:_.D.UPDATED_USER_LEVEL_DATA,data:e.EXPLICIT_CONTENT_LEVEL})}})},C=(e,t)=>({type:_.D.UPDATED_OPTIONS,key:e,value:t}),D=(e={},t=[])=>({type:_.D.UPDATED_QUALITIES,qualities:e,supported:t}),k=e=>()=>{o.default.set("selectedChildAccount",String(e),!0)},N=(e,t)=>(r,a)=>new Promise(((s,n)=>{r({type:_.D.TOGGLE_OPTIN,name:e,channel:t});const o=a().user,c=(0,u.yi)(o).optin.find((t=>t.name===e));void 0!==c?i.A.call({method:"user.setOptins",data:{OPTIN:[{name:e,channel:c.channel}]},success:s,error:n}):s()})),w=e=>(t,r)=>new Promise(((a,s)=>{t({type:_.D.UNSELECT_ALL_OPTINS,channel:e});const n=r().user;i.A.call({method:"user.setOptins",data:{OPTIN:(0,u.yi)(n).optin.map((e=>({name:e.name,channel:e.channel})))},success:a,error:s})}))},bmsN:(e,t,r)=>{"use strict";r.d(t,{P6:()=>T,zY:()=>S,It:()=>f});var a=r("nrKQ"),s=r("V9V8"),i=(r("WpbS"),r("/eM8"),r("2TXL"));r("LpSC");var n=r("lWgj");let o=function(e){return e.BLOWFISH="BF_CBC_STRIPE",e.NONE="NONE",e}({}),c=function(e){return e.FULL="FULL",e.PREVIEW="PREVIEW",e}({});var d=r("OQOy"),l=function(e){return e[e.INVALID_TRACK_TOKEN=2e3]="INVALID_TRACK_TOKEN",e[e.EXPIRED_TRACK_TOKEN=2001]="EXPIRED_TRACK_TOKEN",e[e.UNAUTHORIZED_TRACK_TOKEN=2002]="UNAUTHORIZED_TRACK_TOKEN",e}(l||{}),u=function(e){return e[e.INVALID_LICENSE_TOKEN=1e3]="INVALID_LICENSE_TOKEN",e[e.EXPIRED_LICENSE_TOKEN=1001]="EXPIRED_LICENSE_TOKEN",e[e.UNAUTHORIZED_LICENSE_TOKEN=1002]="UNAUTHORIZED_LICENSE_TOKEN",e[e.API_DEPRECATED=1999]="API_DEPRECATED",e}(u||{});class _{constructor(e){this.type=void 0,this.formats=void 0,this.type=c.FULL,this.formats=e}}class A extends _{constructor(){super([{cipher:o.NONE,format:"MP3_128"}]),this.type=c.PREVIEW}}class p{constructor(e,t,r,a){this._endpoint=void 0,this._license=void 0,this._timeService=void 0,this._tokenProvider=void 0,this._endpoint=`${e}/v1/get_url`,this._license=t.toString(),this._timeService=a,this._tokenProvider=r}async getURLs(e,t){if("/v1/get_url"===this._endpoint)throw new d.Fs(void 0,{tracks:e});if(0===(e=[...e]).length)throw new d.m6(void 0,{tracks:e});const r=function(e){if("preview"===e)return[new A];let t=[{cipher:o.BLOWFISH,format:e.name}];return t=n.SP.slice(n.SP.indexOf(e)).map((({name:e})=>({cipher:o.BLOWFISH,format:e}))),0===t.length?[]:[new _(t)]}(t),a=(await this._tokenProvider.getTokens(e)).filter((e=>null!==e));if(a.length!==e.length)throw new d.fL("Token array does not have the right length",{tracks:e});if(!r.length)throw new d.Di(void 0,{tracks:e});const s={license_token:this._license,media:r,track_tokens:a.map((e=>e.toString()))};if(!s.license_token)throw new d.gP(void 0,{tracks:e});if(!s.track_tokens.length)throw new d.m6(void 0,{tracks:e});const i={method:"POST",body:JSON.stringify(s),headers:{"content-type":"application/json"}},c={license_token:s.license_token,media:s.media},p=await fetch(this._endpoint,i).catch((t=>{if(t instanceof TypeError)throw navigator.onLine?new d.MU(t.message,{request:c,tracks:e}):new d.iZ(t.message,{request:c,tracks:e});throw t}));if(!p)throw new d.Pr("Cannot retrieve the response",{request:c,tracks:e});const E=p.headers.get("Date");if(E&&this._timeService.update(E),!p.ok&&p.status>=500)throw Object.assign(new d.Pr(`Got an HTTP code ${p.status}`,{request:c,response:await p.text().catch((e=>e&&e instanceof Error?`${e.name}: ${e.message}`:"Failed to read")),tracks:e}),{code:`MS0${p.status}`});const g=await p.clone().text().catch((e=>e&&e instanceof Error?`${e.name}: ${e.message}`:"Failed to read")),T=await p.clone().json().catch((()=>{throw new d.ZN("Failed to parse the response",{request:c,response:g,tracks:e})})),h={request:c,response:g,tracks:e};if(function(e){return void 0!==e.errors}(T)){const{code:e=0,message:t=""}=T.errors[0]||{};switch(e){case u.API_DEPRECATED:throw new d.iG(t,{...h,code:e});case u.EXPIRED_LICENSE_TOKEN:throw new d.Ax(t,{...h,code:e});case u.INVALID_LICENSE_TOKEN:throw new d.y3(t,{...h,code:e});case u.UNAUTHORIZED_LICENSE_TOKEN:throw new d.$G(t,{...h,code:e});default:throw new d.Ug(void 0,{...h,code:e})}}if(e.length!==T.data.length)throw new d.tF(`Got ${T.data.length} tracks but expected ${e.length}`,h);return new Map(e.map(((e,t)=>{const r=T.data[t];if(function(e){return void 0!==e.errors}(r)){const{errors:t}=r,{code:a}=t[0]||{};switch(a){case l.EXPIRED_TRACK_TOKEN:return[e,new d.cL(void 0,{...h,code:a,track:e})];case l.INVALID_TRACK_TOKEN:return[e,new d.yP(void 0,{...h,code:a,track:e})];case l.UNAUTHORIZED_TRACK_TOKEN:return[e,new d.Tu(void 0,{...h,code:a,track:e})];default:return[e,new d.fy(void 0,{...h,code:a,track:e})]}}const{media:a=[]}=r;return[e,a]})))}}var E=r("fd4+");const g=new class{call(e){return a.A.call(e)}cancel(e){a.A.cancel(e)}getRequest(e){return a.A.getRequest(e)}resetSignatures(){a.A.resetSignatures()}},T=new s.A,h=new class{constructor(e){this.api=void 0,this.api=e}getTokens(e){return new Promise((t=>{const r=e.filter((e=>void 0===e.token||!e.token.toString()||!0===e.token.expired));0!==r.length?Promise.all([this.getTrackTokens(r.filter((e=>Number(e.id)>0))),this.getPersonalTrackTokens(r.filter((e=>Number(e.id)<0)))]).then((r=>{const a=new Map(r.reduce(((e,t)=>e.concat([...t])),[]));t(e.map((e=>{const t=a.get(e.id)||e.token;return t&&!t.expired?t:null})))})):t(e.map((e=>e.token||null)))}))}getTrackTokens(e){return new Promise((t=>{e.length<1?t(new Map):this.api.call({method:"song.getListData",data:{sng_ids:e.map((e=>e.id)),array_default:["SNG_ID","TRACK_TOKEN","TRACK_TOKEN_EXPIRE"]},success:e=>{const r=new Map;if(Array.isArray(e.data))for(const t of e.data)null!==t&&"object"==typeof t&&void 0!==t.SNG_ID&&"string"==typeof t.TRACK_TOKEN&&r.set(String(t.SNG_ID),new i.A(t.TRACK_TOKEN,{expire:Number(t.TRACK_TOKEN_EXPIRE)}));t(r)},error:()=>{t(new Map)}})}))}getPersonalTrackTokens(e){return new Promise((t=>{if(e.length<1)return void t(new Map);const r=e.map((e=>e.id));this.api.call({method:"personal_song.getList",success:e=>{const a=new Map;if(Array.isArray(e.data))for(const t of e.data)null!==t&&"object"==typeof t&&void 0!==t.SNG_ID&&r.includes(String(t.SNG_ID))&&void 0!==t.SNG_ID&&"string"==typeof t.TRACK_TOKEN&&a.set(String(t.SNG_ID),new i.A(t.TRACK_TOKEN,{expire:Number(t.TRACK_TOKEN_EXPIRE)}));t(a)},error:()=>{t(new Map)}})}))}}(g),S=new class{constructor(e,t){this.tokenProvider=void 0,this.timeService=void 0,this.tokenProvider=e,this.timeService=t}create(e,t){return new p(e,t,this.tokenProvider,this.timeService)}}(h,T),f=new E.Ay},dgCO:(e,t,r)=>{"use strict";r.d(t,{Au:()=>n,Ji:()=>i,LV:()=>c,SY:()=>FormatMismatchError,yw:()=>InsufficientDataError});var a=r("4OMY"),s=r("8VJL");class FormatMismatchError extends s.A{constructor({expected:e,received:t,media:r}){super(),this.expected=e,this.received=t,this.media=r}}class InsufficientDataError extends s.A{}class i extends s.A{constructor({buffer:e}){super(),this.buffer=e}}class n extends s.A{constructor({media:e}={}){super(),this.media=e}}var o=(0,a.A)("StreamBlankError");class c extends s.A{constructor(...e){super(...e),Object.defineProperty(this,o,{writable:!0,value:void 0})}}},ebSJ:(e,t,r)=>{"use strict";function a(e){if(document.cookie.length>0){let t=document.cookie.indexOf(e+"=");if(-1!==t){t=t+e.length+1;let r=document.cookie.indexOf(";",t);return-1===r&&(r=document.cookie.length),unescape(document.cookie.substring(t,r))}}return""}r.d(t,{A:()=>a})},fJgm:(e,t,r)=>{"use strict";r.d(t,{A:()=>E}),r("/eM8");var a=r("lXQd"),s=r("H/eQ"),i=r("vXsw"),n=r("FdMc"),o=r("Wp0Y"),c=r("5G9X"),d=r("fkXJ"),l=r("WKgy"),u=r("34sk"),_=r("OPhi"),A=r("xobL");const p={removeSoftDelay:3e3,removeSoftTimers:{},isFavorite:(e,t)=>(0,_.BA)(l.A.getState().feedbacks,t,e),toggle:e=>!1===(0,A.UJ)(l.A.getState().user)?(i.g.goToConnection(),Promise.resolve()):new Promise(((t,r)=>{s.A.ready(s.A.user.userReady,(()=>{p.isFavorite(e.type,e.id)?p.remove(e).then(t).catch(r):p.add(e).then(t).catch(r)}))})),async add({id:e,type:t,context:r}){if(window.clearTimeout(this.getRemoveSoftTimerId(e,t)),!1===(0,A.UJ)(l.A.getState().user))return void i.g.goToConnection();if(e=String(e),p.isFavorite(t,e))return;const _=this.formatContext(r);try{await l.A.dispatch((0,u.c2)(e,t,(0,n.A)(),_)),(0,a.A)(r,"TYPE","").indexOf("adsTracking")>-1&&s.A.trigger(s.A.ads.addToFavorite,"interaction_add_favorite")}catch(e){const r=((e,t)=>{switch(e){case c.Ay.Artist:return(0,o.AP)("Impossible d'ajouter cet artiste à vos favoris. Vous avez atteint le nombre maximum d'artistes favoris.");case c.Ay.Album:return(0,o.AP)("Impossible d'ajouter cet album à votre musique préférée. Vous avez atteint le nombre maximum d'albums ajoutés.");case c.Ay.Song:return"QUOTA_ERROR"===t.name?(0,o.AP)("notification_text_maxnumberoftracksreached_web"):null;case c.Ay.Radio:return"QUOTA_ERROR"===t.name?(0,o.AP)("Impossible d'ajouter ce mix à votre musique préférée. Vous avez atteint le nombre maximum de mix ajoutés."):null;default:return null}})(t,e);r&&(0,d.A)({body:r})}},async remove({id:e,type:t,context:r}){if(!1===(0,A.UJ)(l.A.getState().user))return void i.g.goToConnection();if(!Array.isArray(e)&&!p.isFavorite(t,String(e)))return;const a=this.formatContext(r),s=Array.isArray(e)?(0,u.Oo)(e.map(String),t,a):(0,u.$S)(String(e),t,a);try{await l.A.dispatch(s)}catch(e){}},removeSoft({id:e,type:t,context:r}){if(!1===(0,A.UJ)(l.A.getState().user))return void i.g.goToConnection();e=String(e);const a=this.formatContext(r);l.A.dispatch((0,u.Ti)(e,t,a)),this.removeSoftTimers[this.getRemoveSoftTimerKey(e,t)]=window.setTimeout((()=>{l.A.dispatch((0,u.$S)(e,t,a,!0))}),this.removeSoftDelay)},restore({id:e,type:t}){e=String(e),window.clearTimeout(this.getRemoveSoftTimerId(e,t)),l.A.dispatch((0,u.ZP)(e,t))},getFavoriteTimestamp:(e,t)=>(e=String(e),(0,_.vN)(l.A.getState().feedbacks,e,t)),getRemoveSoftTimerKey:(e,t)=>`${e}_${t}`,getRemoveSoftTimerId(e,t){const r=this.getRemoveSoftTimerKey(e,t);return this.removeSoftTimers[r]},formatContext:e=>"object"==typeof e&&Object.keys(e).length>=2?{id:e.ID,t:e.TYPE,c:e.CONTEXT_ID}:{}},E=p},"fd4+":(e,t,r)=>{"use strict";r.d(t,{Ay:()=>n,O8:()=>i});var a=r("mEUi");const s={offer_id:"",user_id:""},i="userContextChanged";class n extends a.Ay{constructor(...e){super(...e),this._context=s}get(){return this._context}set(e){this._context=e,this.dispatchEvent(new a.up(i,{detail:{userContext:this._context}}))}}},fkXJ:(e,t,r)=>{"use strict";let a;r.d(t,{A:()=>s});const s=(e,t=!1)=>(({body:e,icon:t="",direction:r="ltr",title:s=""})=>{"granted"===Notification.permission&&(a&&a.close(),a=new Notification(s,{body:e,icon:t,silent:!0,dir:r}))})(e)},h4AR:(e,t,r)=>{"use strict";r.d(t,{S:()=>a,T:()=>s});let a=function(e){return e.Desktop="desktop",e.Mobile="mobile",e.Tablet="tablet",e}({}),s=function(e){return e.Electron="electron",e.Web="web",e}({})},iwso:(e,t,r)=>{"use strict";r.d(t,{QE:()=>E,xh:()=>u,R$:()=>p,Ay:()=>T}),r("Ukb7"),r("WpbS"),r("W8Tb"),r("hjmM");var a=r("lXQd"),s=r("lWgj"),i=r("CxZw"),n=r("CyAC");const o={id:e=>e.ART_ID,name:e=>e.ART_NAME,path(e){const t=o.id(e);return"0"===String(t)?null:`/artist/${e.ART_ID}`}};class c{constructor(e,t=Object.keys(o)){const r=Object.keys(o);(Array.isArray(t)?t:r).filter((e=>r.includes(e))).forEach((t=>Object.defineProperty(this,t,{enumerable:!0,value:o[t](e)}))),Object.freeze(this)}}c.parser=o;var d=r("o+h5"),l=r("Vzbh");const u="episode",_="external",A="live",p="song",E=[u,_,A,p],g={artist:e=>g.type(e)===p?new c(e):null,artists:e=>(e.ARTISTS||[e]).map((e=>new c(e))).filter(((e,t,r)=>r.findIndex((t=>t.id===e.id))===t)),covers:e=>g.type(e)===u?e.EPISODE_PICTURE_MD5:g.parent(e).covers,date:e=>Number(e.DATE_FAVORITE||e.DATE_UPDATE||e.DATE_ADD||e.EPISODE_PUBLISHED_TS||e.TS||0),description:e=>e.EPISODE_DESCRIPTION||e.SHOW_DESCRIPTION||void 0,disk:e=>Number(e.DISK_NUMBER)||null,duration:e=>g.type(e)===A?1/0:Number(e.DURATION||e.duration)||g.sources(e).filter((e=>e.size&&e.format.bitrate)).map((e=>Math.round(8*e.size/(1e3*e.format.bitrate)))).reduce(((e,t,r,{length:a})=>e+t/a),0),fallback:e=>e.FALLBACK&&!e.SNG_ID_ORIGIN?new T(e.FALLBACK):null,featuring(e){const t=(0,a.A)(e,"MULTI_ARTIST",[]);return 0===t.length?t:t.map((e=>{if(e.ROLE_ID&&(0===Number(e.ROLE_ID)||5===Number(e.ROLE_ID)))return new c(e)}))},gain:e=>Number(e.GAIN),hasExplicitLyrics:e=>g.type(e)===u?(0,n.Wh)(e):(0,n.AP)(e),id(e){if(e.SNG_ID_ORIGIN)return e.SNG_ID_ORIGIN;switch(g.type(e)){case u:return String(e.EPISODE_ID||"");case _:return String(e.EXTERNAL_ID||"");case A:return String(e.LIVE_ID||e.LIVESTREAM_ID||"");default:return String(e.SNG_ID||"")}},lyricsId:e=>e.LYRICS_ID?String(e.LYRICS_ID):null,md5:e=>e.MD5_ORIGIN||"",number:e=>Number(e.TRACK_NUMBER)||null,parent:e=>new d.Ay(e),playableId(e){var t;return(null===(t=this.fallback(e))||void 0===t?void 0:t.id)||this.id(e)},popularity:e=>e.RANK_SNG?Math.round(Number(e.RANK_SNG)/1e5):0,preview(e){const t=(e.MEDIA||[]).filter((e=>"preview"===e.TYPE)).map((e=>Array.isArray(e.HREF)?e.HREF[0]:e.HREF)).shift();return t?{format:s.Fy,url:t,usePipeline:!1}:null},right:e=>i.A.checkSongAvailable(e.FALLBACK||e),sources(e){if(e.EPISODE_DIRECT_STREAM_URL&&Boolean(Number(e.SHOW_IS_DIRECT_STREAM)))return[{format:s.a_,url:e.EPISODE_DIRECT_STREAM_URL,usePipeline:!1}];if(e.LIVESTREAM_URLS){const t=["aac","mp3"];return Object.keys(e.LIVESTREAM_URLS.data).sort(((e,t)=>Number(t)-Number(e))).map((r=>Object.entries(e.LIVESTREAM_URLS.data[r]).filter((([e])=>t.includes(String(e).toLowerCase()))).map((([,e])=>({format:s.a_,url:e,usePipeline:!1}))))).flat()}return e.EXTERNAL||e.LIVE_STREAM?[{format:s.a_,url:g.md5(e),usePipeline:!1}]:s.SP.map((t=>({format:t,size:Number(e[`FILESIZE_${t.name}`])}))).filter((e=>e.size))},title:e=>(e[{[u]:"EPISODE_TITLE",[A]:"LIVESTREAM_TITLE"}[g.type(e)]]||e.SNG_TITLE)+(e.VERSION?` ${e.VERSION}`:""),token:e=>e.TRACK_TOKEN||"",type:e=>e.EPISODE_ID?u:e.LIVE_ID||e.LIVESTREAM_ID?A:e.EXTERNAL?_:p,variation:e=>Number(e.VARIATION)||0,version:e=>Number(e.MEDIA_VERSION)||0};class T{constructor(e,t=Object.keys(g)){this.legacy=e;const r=Object.keys(g),a=void 0===e?{}:e;(Array.isArray(t)?t:r).filter((e=>r.includes(e))).forEach((e=>this[e]=g[e](a)))}cover(e){return this.parent.cover(e)}source(e=l.en.STANDARD,{previous:t}={}){const r=Math.max(this.sources.indexOf(t)+1,0);if(1===this.sources.length&&this.sources[0].format===s.a_)return this.sources.slice(r).shift();let a=s.SP;return e===l.en.HIGH?a=[s.Y7,...s.SP.slice(s.SP.indexOf(s.fq))]:e===l.en.STANDARD&&(a=[s.Y7,...s.SP.slice(s.SP.indexOf(s.Fy))]),a.map((e=>this.sources.find((t=>t.format===e)))).filter(Boolean).slice(r).shift()}}T.parser=g},jaKc:(e,t,r)=>{"use strict";r.d(t,{f:()=>a});let a=function(e){return e.SHOW_MODAL="modal/SHOW_MODAL",e.HIDE_MODAL="modal/HIDE_MODAL",e.RESIZE_MODAL="modal/RESIZE_MODAL",e}({})},lWgj:(e,t,r)=>{"use strict";r.d(t,{Fy:()=>o,SP:()=>l,Y7:()=>d,a_:()=>s,fq:()=>c,rv:()=>i,se:()=>n});var a=r("qJB7");const s={codec:a.Codec.UNKNOWN,container:a.Container.UNKNOWN,enum:-1,name:"EXTERNAL"},i={codec:a.Codec.FLAC,container:a.Container.NONE,enum:9,name:"FLAC"},n={codec:a.Codec.MP3,container:a.Container.NONE,bitrate:64,enum:10,name:"MP3_64"},o={codec:a.Codec.MP3,container:a.Container.NONE,bitrate:128,enum:1,name:"MP3_128"},c={codec:a.Codec.MP3,container:a.Container.NONE,bitrate:320,enum:3,name:"MP3_320"},d={codec:a.Codec.MP3,container:a.Container.NONE,enum:0,name:"MP3_MISC"},l=[i,c,o,n,d]},mKPD:(e,t,r)=>{"use strict";r.d(t,{SF:()=>o,Yh:()=>n,or:()=>c});var a=r("JTKS"),s=r("5G9X");const i={[a.v.ALBUMS]:s.Ay.Album,[a.v.ARTISTS]:s.Ay.Artist,[a.v.CHANNELS]:s.Ay.Channel,[a.v.PLAYLISTS]:s.Ay.Playlist,[a.v.RADIOS]:s.Ay.Radio,[a.v.SHOWS]:s.Ay.Show,[a.v.SONGS]:s.Ay.Song},n=e=>i[e],o=e=>Object.values(i).includes(e),c=e=>{for(const[t,r]of Object.entries(i))if(r===e)return t}},mUtM:(e,t,r)=>{"use strict";r.d(t,{Ay:()=>d,Hd:()=>o,S7:()=>n});const a="components/Alert/ALERT_SHOW",s="components/Alert/ALERT_HIDE",i="components/Alert/ALERT_HIDE_ALL",n=(e,t={})=>({type:a,id:e,options:t}),o=e=>({type:s,id:e}),c=[];function d(e=c,t){switch(t.type){case a:return e.find((e=>e.id===t.id))?e:[...e,{id:t.id,options:t.options}];case s:return e.filter((e=>e.id!==t.id));case i:return[];default:return e}}},mdgW:(e,t,r)=>{var a={"./ar-EG":["7l11",7,2639],"./ar-EG.js":["7l11",7,2639],"./bg-BG":["NtN9",7,6430],"./bg-BG.js":["NtN9",7,6430],"./cs-CZ":["dgFL",7,4617],"./cs-CZ.js":["dgFL",7,4617],"./da-DK":["qQ/l",7,8372],"./da-DK.js":["qQ/l",7,8372],"./de-DE":["kRj5",7,6222],"./de-DE.js":["kRj5",7,6222],"./en-GB":["dZvM",7,2308],"./en-GB.js":["dZvM",7,2308],"./en-US":["OTNr",7,2443],"./en-US.js":["OTNr",7,2443],"./es-ES":["NORb",7,9448],"./es-ES.js":["NORb",7,9448],"./es-MX":["qqpM",7,2387],"./es-MX.js":["qqpM",7,2387],"./fi-FI":["8F/y",7,1818],"./fi-FI.js":["8F/y",7,1818],"./fr-FR":["SLhx",7,84],"./fr-FR.js":["SLhx",7,84],"./he-IL":["U/0q",7,2292],"./he-IL.js":["U/0q",7,2292],"./hr-HR":["hqkm",7,9544],"./hr-HR.js":["hqkm",7,9544],"./hu-HU":["b3Ex",7,6878],"./hu-HU.js":["b3Ex",7,6878],"./id-ID":["1cQq",7,3374],"./id-ID.js":["1cQq",7,3374],"./it-IT":["plFM",7,7870],"./it-IT.js":["plFM",7,7870],"./ja-JP":["6c9a",7,6059],"./ja-JP.js":["6c9a",7,6059],"./ko-KR":["Bd6v",7,1533],"./ko-KR.js":["Bd6v",7,1533],"./metas":["vOvo",3,6563],"./metas.json":["vOvo",3,6563],"./mk-MK":["ROwi",7,3368],"./mk-MK.js":["ROwi",7,3368],"./ms-MY":["QHPW",7,5298],"./ms-MY.js":["QHPW",7,5298],"./nb-NO":["MBpd",7,8673],"./nb-NO.js":["MBpd",7,8673],"./nl-NL":["wtD0",7,5372],"./nl-NL.js":["wtD0",7,5372],"./pl-PL":["Evm0",7,9496],"./pl-PL.js":["Evm0",7,9496],"./pt-BR":["c8u7",7,8032],"./pt-BR.js":["c8u7",7,8032],"./pt-PT":["kUuF",7,4808],"./pt-PT.js":["kUuF",7,4808],"./ro-RO":["GQt0",7,1038],"./ro-RO.js":["GQt0",7,1038],"./ru-RU":["Gutp",7,8330],"./ru-RU.js":["Gutp",7,8330],"./sk-SK":["Nb4h",7,9592],"./sk-SK.js":["Nb4h",7,9592],"./sl-SI":["F4AI",7,979],"./sl-SI.js":["F4AI",7,979],"./sq-AL":["FhSz",7,6867],"./sq-AL.js":["FhSz",7,6867],"./sr-RS":["LOwO",7,1068],"./sr-RS.js":["LOwO",7,1068],"./sv-SE":["O1GL",7,9213],"./sv-SE.js":["O1GL",7,9213],"./th-TH":["u1j9",7,5800],"./th-TH.js":["u1j9",7,5800],"./tr-TR":["q4St",7,2040],"./tr-TR.js":["q4St",7,2040],"./uk-UA":["6ZeV",7,9586],"./uk-UA.js":["6ZeV",7,9586],"./zh-CN":["TM5q",7,9113],"./zh-CN.js":["TM5q",7,9113]};function s(e){if(!r.o(a,e))return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=a[e],s=t[0];return r.e(t[2]).then((()=>r.t(s,16|t[1])))}s.keys=()=>Object.keys(a),s.id="mdgW",e.exports=s},nrKQ:(e,t,r)=>{"use strict";r.d(t,{A:()=>v,Q:()=>I}),r("/eM8"),r("EV0h"),r("gS5K"),r("LpSC");var a=r("h1TL"),s=r("JRaq"),i=r("ZL5e"),n=r("z+LD"),o=r("Vd8Q"),c=r("WKgy"),d=r("xobL"),l=r("r2u9"),u=r("D+Zh"),_=r("YEdj"),A=r("D/zM"),p=r("Jndf"),E=r("TqF5"),g=r("SLMx"),T=r("+pY+"),h=r("yiM3");const S=[];let f={};const m=(e,t,r)=>{const a=new Error(t);return a.name=e,Object.defineProperty(a,"description",{get:()=>(n.A.warn("Error.description is deprectated, use Error.message instead"),a.message)}),a.response=r,a.payload=r&&"string"!=typeof r?r.payload:void 0,a},y=e=>{if(f[e]){for(let{id:t}of f[e]){let e=S.indexOf(t);-1!==e&&S.splice(e,1)}delete f[e]}},I={USER_TOKEN_RENEWED:"userTokenRenewed",CALL_STARTED:"callStarted"},L=(e,t,r)=>{for(const a of e){const e=a.params,s=a[r];"function"==typeof s&&s(...t,...void 0!==e?[e]:[])}},R=(e,t,r)=>{let a=!0;const s=[];for(const i of e){const{id:e,callback_parameters:n}=i,o=i[r];-1===t.indexOf(e)&&(a=!1,"function"==typeof o&&s.push({fn:o,params:void 0!==n?[n]:[]}))}return{cancelled:a,fns:s}};class O extends s.A{resetSignatures(){f=[]}call({method:e,data:t={},success:r,error:a,callback_parameters:s,retry:o=0,http_headers:d={},http_method:l="POST",cachingPolicy:p=null}){if(Array.isArray(arguments[0]))return n.A.warn("This signature is deprecated, make multiple calls to `api.call()` instead"),arguments[0].map(this.call.bind(this));arguments.length>1&&"number"!=typeof arguments[1]&&(n.A.error("This signature is deprecated, use api.call({method:'method.name', data:{...}, success: function(results) {...}}) instead"),e=arguments[0]||"",t=arguments[1]||{},r=arguments[2]||function(){},s=arguments[3]||{});const O="deezer.getUserData"!==e,[v,P]=this.getRequest({method:e,data:t,headers:d,http_method:l,cachingPolicy:p},O,!1),C=new URL(v).searchParams.get("cid"),D=e+JSON.stringify(t)+JSON.stringify(d),k={id:C,success:r,error:a,callback_parameters:s};if(f[D]?f[D].push(k):f[D]=[k],f[D].length>1)return C;const N=r=>{var a;const s=null!==(a=f[D])&&void 0!==a?a:[],{cancelled:d,fns:l}=R(s,S,"error");if(!0===d)return void y(D);if("VALID_TOKEN_REQUIRED"===r.name||"NEED_USER_AUTH_REQUIRED"===r.name)return y(D),void(({api:e,method:t,data:r={},retry:a=0,pending:s=[]})=>{e.call({method:"deezer.getUserData",retry:++a,success:o=>{if(!o||void 0===o.checkForm)return void n.A.error("Could not retrieve checkform value");const d=new i.A(I.USER_TOKEN_RENEWED,{detail:o});e.dispatchEvent(d),c.A.getState().user.isAuth>0&&0===o.USER.USER_ID?c.A.dispatch((0,E.qf)({name:"NO_SESSION"})):e.call({method:t,data:r,retry:a,success:function(){L(s,arguments,"success")},error:function(){L(s,arguments,"error")}})},error:function(){L(s,arguments,"error")}})})({api:this,method:e,data:t,retry:o,pending:s});"deezer.getUserData"===e&&"REQUEST_ERROR"===r.name&&"missing_info"===r.message&&(0,h.L)("/missinginfo"),r instanceof TypeError&&(r=new u.Dr(r.message));for(let{params:e}of l)e.splice(0,0,r);if(l.length>0)return y(D),l;const _={request:t};r.response&&(_.response=r.response),"RETRY_LIMIT_REACHED"!==r.name&&n.A.error(r.name,r,_),y(D)};if(o>3){for(let{fn:e,params:t}of N(m("RETRY_LIMIT_REACHED","Api error")))e(...t);const t=new A.A({id:T.Ps.API_RETRY_LIMIT_REACHED,tags:{method:e}});return t.increment(),t.send(),C}const w=new i.A(I.CALL_STARTED,{detail:{url:v,data:t}});return this.dispatchEvent(w),(0,_.A6)(v,P).then((function(e){let t=null;if(e&&e.headers&&(t=e.headers.get("x-deezer-client-ip")),t&&g.A.set(t),!e.ok)throw m("SERVER_ERROR","Api error",{error:{SERVER_ERROR:`${e.status} ${e.statusText}`},results:{}});if("opaque"===e.type)throw m("OPAQUE_RESPONSE","Api error",e);return e.text()})).then((function(e){var t;const r=null!==(t=f[D])&&void 0!==t?t:[],{cancelled:a,fns:s}=R(r,S,"success");if(!0===a)return void y(D);let i;try{i=JSON.parse(e)}catch(t){throw m("BAD_REQUEST","Api error",e)}if(!i||void 0===i.results||void 0===i.error)throw m("REQUEST_EMPTY","Api error",i);for(let e in i.error)if({}.hasOwnProperty.call(i.error,e))throw m(e,i.error[e],i);if(null!==i.results&&"object"==typeof i.results&&0===Object.keys(i.results).length)throw m("REQUEST_EMPTY","Api error",i);for(let{params:e}of s)e.splice(0,0,i.results);return y(D),s})).catch(N).then((function(e=[]){for(let{fn:t,params:r}of e)try{t(...r)}catch(e){n.A.error(e)}})),C}callAsync(e){return new Promise(((t,r)=>{this.call({...e,success:t,error:r})}))}batch({method:e,data:t={},batchSize:r,offsetStart:s=0,onBatchSuccess:i}){let n=!1;return{cancel:()=>{n=!0},run:async()=>{const o=await this.callAsync({method:e,data:{...t,start:s,nb:r}});if("Not modified"===o)return o;const c=(0,a.A)(o,["total","count","filtered_count","data","checksum"]);s+=r;const d=Math.ceil((o.total-s)/r);for(let a=0;a<d;a++){if(n)throw new u.lc;const o=await this.callAsync({method:e,data:{...t,start:s+a*r,nb:r}});c.total!==o.total&&(c.total=o.total),o.checksum&&(c.checksum=o.checksum),c.count+=o.count,c.filtered_count+=o.filtered_count,c.data=c.data.concat(o.data),i&&i(o,a)}return c}}}cancel(e){const t=Array.isArray(e)?e:[e];S.push(...t)}getRequest({method:e,data:t={},headers:r={},http_method:a="POST",cachingPolicy:s=null},i=!0,n=!0){const u="http:"===window.location.protocol?"http":"https",_=window.location.host||o.default.get("host_website_ssl"),A=new URL(`${u}://${_}/ajax/gw-light.php`),E={method:e,input:3,api_version:"1.0",api_token:i?encodeURIComponent(c.A.getState().user.checkForm):"",cid:Math.floor(1e9*Math.random())};try{r={...r,"x-deezer-user":(0,d.F6)(c.A.getState().user)}}catch(e){}s&&(r[p.GK]=JSON.stringify(s)),l.Ay&&l.Ay.getGeoIpFlag()&&(E.GEOIP=l.Ay.getGeoIpFlag()),"GET"===a&&(E.gateway_input=JSON.stringify(t)),Object.entries(E).forEach((([e,t])=>A.searchParams.set(e,String(t))));const g={body:"GET"===a?void 0:JSON.stringify(t),credentials:l.Ay?"include":"same-origin",headers:r,method:a,mode:l.Ay?void 0:"same-origin"};return n?new Request(A.href,g):[A.href,g]}}const v=new O},"o+h5":(e,t,r)=>{"use strict";r.d(t,{Ay:()=>T,H9:()=>p,QE:()=>E,Tg:()=>A,fn:()=>n,kv:()=>c,qy:()=>_,r4:()=>i,r8:()=>o,t6:()=>u,yz:()=>d});var a=r("Vd8Q"),s=r("CyAC");const i={name:"xxx-small",width:40,height:40},n={name:"xx-small",width:56,height:56},o={name:"x-small",width:60,height:60},c={name:"small",width:250,height:250},d={name:"medium",width:500,height:500},l=[i,n,o,c,d,{name:"large",width:1e3,height:1e3}],u="album",_="playlist",A="show",p="virtual",E=[u,_,A,p],g={covers(e){const t=e.EPISODE_IMAGE_MD5||e.SHOW_ART_MD5?"talk":"cover",r=e.ALB_PICTURE||e.EPISODE_IMAGE_MD5||e.LIVESTREAM_IMAGE_MD5||e.PLAYLIST_PICTURE||e.SHOW_ART_MD5||"d41d8cd98f00b204e9800998ecf8427e";return l.map((({name:e,width:s,height:i})=>({name:e,width:s,height:i,url:`https://${a.default.get("host_img_url_ssl")}/${t}/${r}/${i}x${s}-000000-80-0-0.jpg`})))},hasExplicitCover:e=>(0,s.cV)(e),id:e=>String(e.ALB_ID||e.LIVE_ID||e.LIVESTREAM_ID||e.PLAYLIST_ID||e.SHOW_ID||""),name:e=>e.ALB_TITLE||e.LIVESTREAM_TITLE||e.SHOW_NAME||e.TITLE||"",path(e){const t=g.id(e);switch(g.type(e)){case u:return`/album/${t}`;case _:return`/playlist/${t}`;case A:return`/show/${t}`;default:return null}},type:e=>e.ALB_ID?u:e.PLAYLIST_ID?_:e.SHOW_ID?A:null};class T{constructor(e,t=Object.keys(g)){const r=Object.keys(g);(Array.isArray(t)?t:r).filter((e=>r.includes(e))).forEach((t=>Object.defineProperty(this,t,{enumerable:!0,value:g[t](e)}))),Object.freeze(this)}cover(e=c){const t=(e||{}).name;return this.covers.find((e=>e.name===t))}}T.parser=g},oB8A:(e,t,r)=>{"use strict";r.d(t,{x:()=>a});let a=function(e){return e.EPISODE="episode",e}({})},p2PB:(e,t,r)=>{"use strict";r.d(t,{DP:()=>n,G9:()=>d,LD:()=>o,Sc:()=>a,cT:()=>c,g0:()=>i,rz:()=>s});let a=function(e){return e.APP_LAUNCH="app_launch",e.SIMULTANEOUS_LISTENING="simultaneous_listening",e.LIKE="like",e}({}),s=function(e){return e.DEEPLINK="deeplink",e.INTERNAL_LINK="internal_link",e.EXTERNAL_LINK="external_link",e.PREDEFINED="predefined",e.CENTRAL_LOG="central_log",e.TRACKING="tracking",e.WEB_CUSTO_ACTION="web_action",e}({}),i=function(e){return e.CLOSE="close",e}({}),n=function(e){return e.CUSTO="custo",e.DEEPLINK="deeplink",e.UNKNOWN="unknown",e}({}),o=function(e){return e.CENTERED_BOX="centered_box",e}({}),c=function(e){return e.ILLUSTRATION_ONE_CTA="illustration_message_one_cta",e.ILLUSTRATION_LARGE_TITLE_TWO_CTA="illustration_large_title_message_two_cta",e.MESSAGE_LIST_ONE_CTA="message_list_one_cta",e.SIMPLE_MESSAGE_TWO_CTA="template_simple_message_three_cta",e.ILLUSTRATION_PURPLE_TITLE_TWO_CTA="illustration_purple_title_subtitle_message_two_cta_web",e}({}),d=function(e){return e.ONCE="once",e}({})},pGqU:(e,t,r)=>{"use strict";r.d(t,{A:()=>c});var a=r("MVPB"),s=r("4OMY"),i=r("D/zM"),n=r("+pY+"),o=(0,s.A)("counter");const c=class{constructor(e){Object.defineProperty(this,o,{writable:!0,value:void 0}),(0,a.A)(this,o)[o]=new i.A({id:n.Ps.TIME_TO_PLAY_ERROR,tags:e})}log(){(0,a.A)(this,o)[o].increment(),(0,a.A)(this,o)[o].send()}}},pJNj:(e,t,r)=>{"use strict";r.d(t,{E9:()=>i,F$:()=>n,IY:()=>d,ix:()=>o,uP:()=>c});var a=r("3mue"),s=r("PIVb");function i(e){return t=>{t({type:s.Kx,status:e.status,active:e.active,chunksInfo:e.chunksInfo}),t((0,a.WI)()),t((0,a.eK)())}}function n(e){return t=>{t({type:s.tM,status:e.status,chunksInfo:e.chunksInfo}),t((0,a.WI)()),t((0,a.eK)())}}function o(e){return t=>{t({type:s.qC,status:e.status,active:e.active,chunksInfo:e.chunksInfo}),t((0,a.WI)()),t((0,a.eK)())}}function c(e){return t=>{t({type:s.iY,loading:e.loading,active:e.active,chunksInfo:e.chunksInfo}),t((0,a.WI)()),t((0,a.eK)())}}function d(e){return t=>{t({type:s.Y0,skipLimited:e}),t((0,a.WI)()),t((0,a.eK)())}}},qlH3:(e,t,r)=>{"use strict";r.d(t,{z:()=>a});let a=function(e){return e.FETCH_TRACKS="entities/songs/FETCH_TRACKS",e.FETCH_TRACKS_FAILURE="entities/songs/FETCH_TRACKS_FAILURE",e.FETCH_TRACKS_SUCCESS="entities/songs/FETCH_TRACKS_SUCCESS",e.FETCHED_TRACK="entities/songs/FETCHED_TRACK",e.FETCHED_TRACK_FROM_CACHE="entities/songs/FETCHED_TRACK_FROM_CACHE",e.REHYDRATED_TRACK="entities/songs/REHYDRATED_TRACK",e.FETCHED_FAVORITE_TRACKS="entities/songs/FETCHED_FAVORITE_TRACKS",e.UPDATE_PERSONAL_TRACK="entities/songs/UPDATE_PERSONAL_TRACK",e}({})},s026:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var a=r("QKMO");function s(e=0,t={displayHours:!1,padHours:!1,hideFalsyHour:!1}){if((e=Number(e))<=0||Number.isNaN(e))return"00:00";let r=Math.floor(e/3600);const s=Math.floor(t.displayHours?e%3600/60:e/60),i=Math.floor(e%3600%60);t.padHours&&(r=(0,a.A)(r,2));const n=Boolean("string"==typeof r?parseInt(r):r);return`${t.displayHours?t.hideFalsyHour&&!n?"":`${r}:`:""}${(0,a.A)(s,2)}:${(0,a.A)(i,2)}`}},siwx:(e,t,r)=>{"use strict";r.d(t,{_:()=>d});var a=r("nKUr"),s=r("x23+"),i=r("xi32");const n=(0,i.R)((function(e,t){const{htmlWidth:r,htmlHeight:s,alt:i,...n}=e;return(0,a.jsx)("img",{width:r,height:s,ref:t,alt:i,...n})}));n.displayName="NativeImage";var o=r("pEvb"),c=r("IRKz");const d=(0,i.R)((function(e,t){const{fallbackSrc:r,fallback:i,src:d,srcSet:l,align:u,fit:_,loading:A,ignoreFallback:p,crossOrigin:E,fallbackStrategy:g="beforeLoadOrError",referrerPolicy:T,...h}=e,S=null!=A||p||!(void 0!==r||void 0!==i),f=(0,o.l)({...e,crossOrigin:E,ignoreFallback:S}),m=(0,o.m)(f,g),y={ref:t,objectFit:_,objectPosition:u,...S?h:(0,s.c)(h,["onError","onLoad"])};return m?i||(0,a.jsx)(c.B.img,{as:n,className:"chakra-image__placeholder",src:r,...y}):(0,a.jsx)(c.B.img,{as:n,src:d,srcSet:l,crossOrigin:E,loading:A,referrerPolicy:T,className:"chakra-image",...y})}));d.displayName="Image"},u7vQ:(e,t,r)=>{"use strict";r.d(t,{k2:()=>Ie,S1:()=>Le,Ay:()=>Oe,_k:()=>ye}),r("W8Tb"),r("/eM8"),r("gS5K");var a=r("EVdn"),s=r.n(a),i=r("/jVK"),n=r("lXQd"),o=r("ucSm"),c=r("dn5u"),d=r.n(c),l=r("9yOc"),u=r("z+LD"),_=r("H/eQ"),A=r("nrKQ"),p=r("3R0U"),E=r("Wwhz"),g=r("CxZw"),T=r("WBQ7"),h=r("Vd8Q"),S=r("yyc2"),f=r("04sm"),m=r("XVw/"),y=r("3qOO"),I=r("AfN5"),L=r("WKgy"),R=r("tZCQ"),O=r("mUtM"),v=r("pJNj"),P=r("TqF5"),C=r("vbKs");const k={current:0,prev:null,next:null},N=class{constructor(e){this._dzPlayer=e,this._namespace=h.default.get(["chromecast","namespace"]),this._media={},this._contexts=[],this._accessToken=null,this._positionInterval=null,this._isCasting=!1,this._isLoading=!1,this._isConnecting=!1,this._isAvailable=!1,this._queueMaxItems=120,this._lastChunkIndex=null,this._ad=null}getAppId(){return R.A.isAllowed("gcast_force_beta")?h.default.get(["chromecast","betaId"]):h.default.get(["chromecast","id"])}getNamespace(){return this._namespace}getSession(){return window.cast.framework.CastContext.getInstance().getCurrentSession()&&window.cast.framework.CastContext.getInstance().getCurrentSession().getSessionObj()}getMedia(){return this._media}getPlayerState(){return this.hasCurrentMedia()?this.getMedia().playerState:""}getIdleReason(){return this.hasCurrentMedia()?this.getMedia().idleReason:""}getRepeatMode(){return this.hasCurrentMedia()?this.getMedia().repeatMode:""}getVolumeLevel(){return(100*((0,n.A)(this.getSession(),"receiver.volume.level")||0)).toFixed(2)}getMuteStatus(){return(0,n.A)(this.getSession(),"receiver.volume.muted")||!1}getQueueItems(){return this.hasCurrentMedia()?this.getMedia().items:[]}getQueueCurrentItem(){return this.hasCurrentMedia()?this.getMedia().media:{}}getCustomData(){return this.hasCurrentMedia()?this.getMedia().customData:{}}getChunksInfo(){return k}getEstimatedTime(){return this.hasCurrentMedia()?this.getMedia().getEstimatedTime():this._dzPlayer.getPosition()}getQueueMaxItems(){return this._queueMaxItems}hasCurrentMedia(){return 0!==(0,o.A)(this.getMedia())}hasSession(){return 0!==(0,o.A)(this.getSession())}isCasting(){return this._isCasting}isLoading(){return this._isLoading}isAvailable(){return this._isAvailable}isActive(){return this._isCasting||this._isLoading}initGCast(){_.A.ready(_.A.store.ready,(()=>{if(!window.chrome.cast)return;window.cast.framework.CastContext.getInstance().setOptions({receiverApplicationId:this.getAppId(),autoJoinPolicy:"ORIGIN_SCOPED"});const e=window.cast.framework.CastContext.getInstance();e&&this._setAvailableStatus(window.chrome.cast.ReceiverAvailability.AVAILABLE);const{SESSION_STATE_CHANGED:t}=window.cast.framework.CastContextEventType;e.addEventListener(t,(e=>{switch(e.sessionState){case window.cast.framework.SessionState.SESSION_STARTED:case window.cast.framework.SessionState.SESSION_RESUMED:this._setSession();break;default:case window.cast.framework.SessionState.SESSION_ENDED:this._setCastingStatus(!1)}}))}))}requestSession(){this.isAvailable()&&window.cast.framework.CastContext.getInstance().requestSession((()=>{this._setSession()}),(e=>{0===(0,o.A)(this.getSession())&&this._setConnectingStatus(!1),(0,y.A)(e)&&"cancel"!==e.code.toLowerCase()&&u.A.error(new Error("GCastSender :: requestSession - "+JSON.stringify(e)))}))}executeAction(e,t){if(this.isLoading()||!this.hasSession())return;let r=e.split("_")[1]||e;switch(t=Array.isArray(t)?t:[],"appendTracks"===r&&(r="playTracks"),r){case"firstPlay":case"playTracks":this._setPlayingStatus(!1),this._setLoadingStatus(!0);var a="firstPlay"===r?t[0]:0;this._dzPlayer.setPropValue("position",a),this.loadQueueList((()=>this._setTrackList(this._media)),{startTime:a});break;case"play":this.getPlayerState()===window.chrome.cast.media.PlayerState.PAUSED&&(this.getMedia().play(),this._setPlayingStatus(!0));break;case"resume":if(!this.hasCurrentMedia()){this._setPlayingStatus(!1),this._setLoadingStatus(!0),a=t[1],this.loadQueueList((()=>this._setTrackList(this._media)),{startTime:a});break}this.executeAction("play",[]);break;case"playAtIndex":if(this._setPlayingStatus(!1),this._setLoadingStatus(!0),this._dzPlayer.setPropValue("position",0),!this.hasCurrentMedia()){const e=[[L.A.getState().player.music.list[t[0]]],0,!0];this.executeAction("firstPlay",e);break}this.getMedia().queueJumpToItem(this.getMedia().items[t[0]].itemId,(()=>{}),(()=>{this._setLoadingStatus(!1)}));break;case"pause":case"stop":this.getPlayerState()===window.chrome.cast.media.PlayerState.PLAYING&&(this.getMedia().pause(),this._setPlayingStatus(!1));break;case"prevSong":case"nextSong":if(this._dzPlayer.getRepeat()===I.EV.SINGLE)return void this.executeAction("seek",[0]);this._setPlayingStatus(!1),this._setLoadingStatus(!0),this._dzPlayer.setPropValue("position",0),this.getMedia()["nextSong"===r?"queueNext":"queuePrev"]((()=>{}),(e=>{"SKIP_LIMIT_REACHED"===e.details.reason&&L.A.dispatch((0,O.S7)(C.AT)),this._setLoadingStatus(!1)}));break;case"mute":this.getSession().setReceiverMuted(this._dzPlayer.isMuted(),(()=>{}),(()=>{}));break;case"setVolume":const e=Number(parseFloat(this._dzPlayer.getVolume()).toFixed(2));this.getSession().setReceiverVolumeLevel(e,(()=>{}),(()=>{}));break;case"seek":const{trackDuration:s}=L.A.getState().player.music;this._setPlayingStatus(!1),this._setLoadingStatus(!0);const i=new window.chrome.cast.media.SeekRequest;let n=t[0];n===Number(n)&&n%1!=0&&(n*=s||0),i.currentTime=n,this.getMedia().seek(i,(()=>{}),(()=>{this._setLoadingStatus(!1)}));break;case"repeatChanged":let o;switch(parseInt(t[0]||0,10)){case 1:o=window.chrome.cast.media.RepeatMode.ALL;break;case 2:o=window.chrome.cast.media.RepeatMode.SINGLE;break;default:o=window.chrome.cast.media.RepeatMode.OFF}this.getMedia().queueSetRepeatMode(o)}}loadQueueList(e,t){e="function"==typeof e?e:function(){},t=(0,y.A)(t)?t:{},this._formatQueueList((t=>{const r=this._createSplitLoadRequest(t.queueList);this._callLoadRequest(r[t.chunkLoadIndex||0],(function(){e()}))}),t)}getContexts(){return this._contexts}_createSplitLoadRequest(e){return function(e,t){if(0===t||0===e.length)return[];const r=[];for(let a=0;a<e.length;a+=t)r.push(e.slice(a,a+t));return r}(e.map((e=>e)),this.getQueueMaxItems())}_callSplitLoadRequest(e,t,r,a,s){s||(s=[]),"function"==typeof r&&(a=r,r=0),r!==e.length?this._callLoadRequest(e[r],(()=>{s.push(e[r]),t.splice(0,e[r].length),this._callSplitLoadRequest(e,t,r+1,a,s)})):a(s)}_callLoadRequest(e,t){t="function"==typeof t?t:function(){};let r=new window.chrome.cast.media.QueueLoadRequest(e);r=this._formatLoadRequest(r),this._setContexts(),r.customData={session:{accessToken:this._accessToken,liveToken:L.A.getState().user.USER_TOKEN,hq:L.A.getState().user.hasHqAudioRight||!1},queueMaxItems:this.getQueueMaxItems(),contexts:this._contexts},r.items.forEach((e=>{delete e.activeTrackIds,delete e.media.customData,delete e.media.tracks,delete e.metadata})),this.getSession().queueLoad(r,(e=>{this._setCurrentMedia(e,t)}),(e=>{u.A.error(new Error("GCastSender :: _callLoadRequest (loadRequest) - "+JSON.stringify(e))),this._setLoadingStatus(!1)}))}_setContexts(){let e=this._dzPlayer.getTrackList(!0),t=[],r=[];e.forEach((function(e){if(e.context.TYPE&&-1===t.indexOf(e.context.ID)){let a={type:h.default.get("log_contexts")[e.context.TYPE],id:e.context.ID};r.push(a),t.push(e.context.ID)}})),this._contexts=r}_setCurrentMedia(e,t){if(t="function"==typeof t?t:function(){},!(0,y.A)(e))return void u.A.error(new Error('GCastSender :: _setCurrentMedia - "media" is not a valid Object'));this._media=e,this.getMedia().addUpdateListener(this._onCurrentMediaUpdate.bind(this)),this._dzPlayer.setPropValue("duration",e.media.duration),this._dzPlayer.setPropValue("pourcentLoaded",100);const r=this.getMedia().customData||{};r.playerType&&this._dzPlayer.setPlayerType(r.playerType),r.queueMaxItems&&this._setQueueMaxItems(r.queueMaxItems),t()}_onCurrentMediaUpdate(e){if(e)switch(this._manageAd(),this.getMedia().playerState){case window.chrome.cast.media.PlayerState.PAUSED:case window.chrome.cast.media.PlayerState.PLAYING:this._setLoadingStatus(!1),this._setPlayingStatus(this.getMedia().playerState===window.chrome.cast.media.PlayerState.PLAYING,this.getCustomData().queueIndex!==this._dzPlayer.getIndexSong())}else null===this._dzPlayer.getNextSong()&&this._stopPlayer()}_manageAd(){const e=this.getMedia();e.media.breakClips&&e.media.breakClips[0]?(this._dzPlayer.setPlayerType(I.Cc.ADS),this._ad=e.media.breakClips[0],L.A.dispatch((0,P.qf)({name:"GCAST_AD_BREAK",props:{posterUrl:this._ad.posterUrl,clickThroughUrl:this._ad.clickThroughUrl}}))):null!==this._playerType&&null!==this._ad&&(this._dzPlayer.setPlayerType(I.Cc.MOD),this._ad=null)}_onFinishedTrackList(){_.A.trigger(_.A.player.finishTrackList),this._dzPlayer.setIndexSong(0),this._dzPlayer._play(!1,!0)}_onNetworkStatusChange(){window.navigator.onLine?setTimeout((()=>{this.getMedia().getStatus()}),1e3):this._stopPlayer()}_onReceiverAction(){this.isCasting()||this._setConnectingStatus(!0)}_addListeners(){this.getSession().addMediaListener((e=>{this._setCurrentMedia(e)}));const e=this;this.getSession().addMessageListener(this.getNamespace(),((t,r)=>{void 0!==(r=JSON.parse(r)).isFinished&&r.isFinished&&e._onFinishedTrackList(),void 0!==r.skipLimited&&r.skipLimited?L.A.dispatch((0,v.IY)(!0)):L.A.dispatch((0,v.IY)(!1))})),this.getSession().addUpdateListener((e=>{if(!e)return void this._stopReceiver();const t=this.getVolumeLevel(),r=this.getMuteStatus();_.A.trigger(_.A.player.volume_changed,t),_.A.trigger(_.A.player.mute_changed,r)})),window.addEventListener("online",this._onNetworkStatusChange.bind(this)),window.addEventListener("offline",this._onNetworkStatusChange.bind(this))}_getAccessToken(e){this._accessToken?setTimeout(e.bind(this,this._accessToken),0):A.A.call({method:"application.authChromecast",success:t=>{this._accessToken=t,e(this._accessToken)}})}_unprefix(e){var t=(e=e||"").split(".");return String(t[1]||t[0])}_getLastChunkIndex(){return this._lastChunkIndex}_setLastChunkIndex(e){return this._lastChunkIndex=Number(e),this}_setPlayingStatus(e,t){_.A.ready(_.A.player.playerReady,(()=>{if(e=Boolean(e),this._dzPlayer.setPropValue("playing",e),this._dzPlayer.setPropValue("paused",!e),!e)return void this._clearPositionInterval();this._setPositionInterval(),this._dzPlayer.setPropValue("duration",this.getMedia().media.duration),this._dzPlayer.setPropValue("pourcentLoaded",100);let r="SNG_ID";"3"===this.getMedia().media.contentId.split(".")[0]&&(r="EPISODE_ID");let a=this.getMedia().media.contentId.split(".")[1],s=this._dzPlayer.getTrackList().map((e=>e[r])).indexOf(a);this._dzPlayer.setIndexSong(s),t&&(_.A.trigger(_.A.player.play,{value:this._dzPlayer.getCurrentSong()}),_.A.trigger(_.A.player.displayCurrentSong,this._dzPlayer.getCurrentSong()))}))}_setCastingStatus(e){return this._isCasting=Boolean(e),_.A.ready(_.A.player.playerReady,(()=>{_.A.trigger(_.A.chromecast.casting,this._isCasting)})),this}_setLoadingStatus(e){return this._isLoading=Boolean(e),_.A.ready(_.A.player.playerReady,(()=>{_.A.trigger(_.A.chromecast.loading,this._isLoading)})),this}_setConnectingStatus(e){return this._isConnecting=Boolean(e),_.A.ready(_.A.player.playerReady,(()=>{_.A.trigger(_.A.chromecast.connecting,this._isConnecting)})),this}_setAvailableStatus(e){return this._isAvailable="available"===e,_.A.ready(_.A.player.playerReady,(()=>{_.A.trigger(_.A.chromecast.available,this._isAvailable)})),this}_setSession(){this._setConnectingStatus(!1),this._setCastingStatus(!0),this._addListeners();const e=this._dzPlayer.getPosition(),t=this._dzPlayer.isPlaying();return this._stopPlayer((()=>{if(S.A.socket&&S.A.disconnect(),!this.getSession().media.length){const r=Number(parseFloat(this._dzPlayer.getVolume()).toFixed(2));return this.getSession().setReceiverVolumeLevel(r,(function(){}),(function(){})),this.getSession().setReceiverMuted(this._dzPlayer.isMuted(),(function(){}),(function(){})),void(t&&this.executeAction("firstPlay",[e]))}this._setCurrentMedia(this.getSession().media[0],(()=>{this._setTrackList(this._media);const e=this.getVolumeLevel(),t=this.getMuteStatus();switch(_.A.trigger(_.A.player.volume_changed,e),_.A.trigger(_.A.player.mute_changed,t),this.getMedia().playerState){case window.chrome.cast.media.PlayerState.PAUSED:case window.chrome.cast.media.PlayerState.PLAYING:this._dzPlayer.setPropValue("position",this.getEstimatedTime()),this._setPlayingStatus(this.getMedia().playerState===window.chrome.cast.media.PlayerState.PLAYING)}}))})),this}_setQueueMaxItems(e){return this._queueMaxItems=parseInt(e,10),this}_setTrackList(e,t){t="function"==typeof t?t:function(){};let r=0;const a=e.items||[];0===a.length&&e.media&&a.push(e.media);for(var s=0,i=a.length;s<i;++s)if(e.currentItemId===a[s].itemId){r=s;break}this._formatReceiverQueueList(a,(e=>{this._dzPlayer.setTrackList({data:e,chromecast:!0,index:r,autoplay:!1,callbackTrack:t})}))}_setPositionInterval(){this._clearPositionInterval(),this._positionInterval=setInterval(this._updatePosition.bind(this),900)}_clearPositionInterval(){clearInterval(this._positionInterval),this._positionInterval=null}_updatePosition(){const e=this.getEstimatedTime();this._dzPlayer.setPropValue("position",e)}_extractPropertiesFromItems(e){const t={ids:[],contexts:[],type:null};for(let r=0,a=(e=e||this.getQueueItems()).length;r<a;++r){const a=(0,n.A)(e[r],"media.contentId")||"";let s=(0,n.A)(e[r],"media.customData.context")||{};if(void 0===s.TYPE&&(s=this.getCustomData().contexts[0]),s.type&&-1===s.type.indexOf("_page")&&(s.type+="_page"),0===r){switch(parseInt(String(a).charAt(0),10)){case I.S.USER:t.type=I.S.USER;break;case I.S.TALK:t.type=I.S.TALK;break;case I.S.DEEZER:t.type=I.S.DEEZER}if(null===t.type)break}const i=this._unprefix(a);t.ids.push(t.type===I.S.USER?-i:i),t.contexts.push(s)}return t}_formatTrackData(e,t){if(!(0,y.A)(e))return void u.A.error(new Error('GCastSender :: _formatTrackData - "trackData" is not a valid Object'));const r=["SNG_ID","EPISODE_ID","LIVE_ID"],a=["ALB_ID","SHOW_ID"],s=e.context||{},i="show"===h.default.get("log_contexts")[s.TYPE],n="livestream"===h.default.get("log_contexts")[s.TYPE];let o,c;o=i?e.data[r[1]]:n?e.data[r[2]]:e.data[r[0]],c=i?e.data[a[1]]:n?null:e.data[a[0]],o=String(this._getTrackType(o,i,n)+"."+(parseInt(o,10)<0?-o:o)),c=String(c);const d=new window.chrome.cast.media.MediaInfo(o),l=h.default.get("log_contexts")[s.TYPE];return d.customData={contexts:[{id:isNaN(s.ID)?c:String(s.ID),type:l}],session:{access_token:t,live_token:L.A.getState().user.USER_TOKEN,hq:L.A.getState().user.hasHqAudioRight||!1,quality:L.A.getState().user.currentCastAudioQuality||"standard"}},d.customData.track={id:o},d}_getTrackType(e,t,r){return e=parseInt(e,10),t?I.S.TALK:r?I.S.LIVE_STREAM:I.S[e<0?"USER":"DEEZER"]}_formatQueueList(e,t){e="function"==typeof e?e:function(){},t=(0,y.A)(t)?t:{};const r=parseInt(t.startTime||0,10),a=(0,y.A)(t.trackList)?t.trackList:this._dzPlayer.getTrackList(!0);this._getAccessToken((t=>{const s=[];let i=0,n=0,o=a,c=o.length;if(0===c)return s;for(let e=0,a=c;e<a;++e){e%this.getQueueMaxItems()==0&&s.length&&++n;const a=new window.chrome.cast.media.QueueItem(this._formatTrackData(o[e],t));this._dzPlayer.getIndexSong()===e&&(a.startTime=r,i=n),s.push(a)}e({queueList:s,chunkLoadIndex:i})}))}_formatLoadRequest(e){if((0,y.A)(e)){switch(parseInt(this._dzPlayer.getRepeat()||0,10)){case 1:e.repeatMode=window.chrome.cast.media.RepeatMode.ALL;break;case 2:e.repeatMode=window.chrome.cast.media.RepeatMode.SINGLE;break;default:e.repeatMode=window.chrome.cast.media.RepeatMode.OFF}return e.startIndex=this._dzPlayer.getIndexSong()%this.getQueueMaxItems(),e}u.A.error(new Error('GCastSender :: _formatLoadRequest - "request" is not a valid Object'))}_formatReceiverQueueList(e,t){e=e||this.getQueueItems(),t="function"==typeof t?t:function(){};const r=["song.getListData","episode.getListData"],a=this._extractPropertiesFromItems(e),s=a.type===I.S.TALK?r[1]:r[0],i={};i[s===r[0]?"sng_ids":"episode_ids"]=a.ids,A.A.call({method:s,data:i,success:e=>{const r=[],s=e.data||[];for(let e=0,t=s.length;e<t;++e)r.push({data:s[e],context:{ID:parseInt(a.contexts[e].id,10),TYPE:a.contexts[e].type}});t(r)}})}_unsetMedia(){this._media={}}_stopPlayer(e){e="function"==typeof e?e:function(){},this._dzPlayer.trigger("audioPlayer_stop",["flashAction"]),setTimeout(e,500)}_stopReceiver(){const e=this._dzPlayer.getPosition(),t=this._dzPlayer.getIndexSong(),r=this._dzPlayer.isRadio(),a=this._dzPlayer.getTrackList(!0);let s=this._dzPlayer.getContext();void 0===s.TYPE&&(s=this._contexts[0]),"user_page"===s&&(s="user"),this._setPlayingStatus(!1),this._setLoadingStatus(!1),this._setCastingStatus(!1),this._setConnectingStatus(!1),this._clearPositionInterval(),this._stopPlayer((()=>{this.hasSession()&&(this.getSession().removeMediaListener(this.getNamespace()),this.getSession().removeMessageListener(this.getNamespace()),this.getSession().removeUpdateListener(this.getNamespace()),this.getSession().stop((()=>{}),(()=>{}))),this.hasCurrentMedia()&&(this.getMedia().removeUpdateListener(this._onCurrentMediaUpdate.bind(this)),this._unsetMedia()),window.removeEventListener("online",this._onNetworkStatusChange.bind(this)),window.removeEventListener("offline",this._onNetworkStatusChange.bind(this)),S.A.init(),this._dzPlayer._play(!0,!1,{data:r?[]:a,context:r?{}:s,offset:e,index:t,radio:r,autoplay:e>0})}))}};var w=r("WmA5"),b=r("Z64h"),M=r("LjZa"),x=r("Vynx"),U=r("YaJs"),F=r("ZoPi"),G=r("xobL"),K=r("aHAS"),V=r("w2Jm"),B=r("RuKb"),H=r("zCrf"),Y=r("ISNy"),z=r("OPhi"),X=r("34sk"),j=r("eC9Z"),W=r("4cGQ"),Q=r("IjN+"),q=r("bvZM"),$=r("7E8A"),Z=r("jaKc"),J=r("pUfN"),ee=r("Vzbh"),te=r("5G9X"),re=r("SLMx");function ae(e=self.fetch){return async(t,r)=>{const a=null!==new Headers(null==r?void 0:r.headers).get("range"),s=d()(),i=`${t}#${s}`,n=await e(i,r).catch((e=>{throw(0,U.n7)(s),e}));if(null!=n&&n.headers&&!a){const e=n.headers.get("x-deezer-client-ip")||"",t=n.status||U.yl;re.A.set(e),(0,U.qB)(s,i,t,e)}return n}}var se=r("lWgj"),ie=r("iwso"),ne=r("Uat9");function oe(e=self.fetch){return async(t,r)=>{null!==new Headers(null==r?void 0:r.headers).get("range")||x.A.markTimeToPlayAction(x.Z.START_TRACK_FETCHING);const a=await e(t,r);return null!=r&&r.size||x.A.markTimeToPlayAction(x.Z.START_BUFFERING),a}}var ce=r("2TXL"),de=r("D/zM"),le=r("+pY+"),ue=r("y7Wb");let _e,Ae;const pe=1209600;let Ee=!1;function ge(e,t){var r;if("audioPlayer_startPreview"===e){Ee=Re.isPlaying(),("pause"in _e?_e.pause:_e.audioPlayer_pause).call(_e),Ae.muted=_e.muted;const{normalized:e}="settings"in _e?_e.settings:_e,{normalizationTarget:r}="TARGET"in _e.constructor?{normalizationTarget:_e.constructor.TARGET}:_e,a=e?Math.min((0,W.K$)(t[1],r),1):1;return Ae.volume=a*_e.volume,void Ae.load(t[0])}if("audioPlayer_endPreview"===e)return Ee&&(("play"in _e?_e.play:_e.audioPlayer_play).call(_e),Ee=!1),void Ae.stop();(_e.constructor.prototype[e]||(null===(r=_e.constructor.legacy)||void 0===r?void 0:r[e])||M.A).apply(_e,t),"audioPlayer_playTracks"===e&&"next"in _e&&(_e.next={context:Re.getContextByIndex(Re.getIndexSong()+1),track:Re.getNextSong()})}function Te(e,t){let r;return r=r||"up_next_artist"!==t?r:"up_next_artist",r=r||h.default.get("log_contexts")[t]!==te.Ay.MultiFlow?r:I.Kk.MULTI_FLOW,r=r||!t.endsWith("user_radio")&&!t.endsWith("flow")&&h.default.get("log_contexts")[t]!==te.Ay.Flow?r:I.Kk.USER,r=r||"artist_smartradio"!==t?r:"artist",r=r||"dynamic_page_track"!==t?r:I.Kk.TRACK_MIX,r=r||e,r=r||"livestream",r}let he,Se={trackList:[],trackListOriginal:[],trackListIndex:0,trackListDuration:0,lyrics:{}},fe={queue:[],delayed:null,trigger:function(e,...t){null!==fe.delayed&&clearTimeout(fe.delayed),fe.queue.push({evt_name:e,args:t}),fe.delayed=setTimeout(fe.triggerAll,0)},triggerAll:function(){for(let e=0;e<fe.queue.length;e++)_.A.trigger(fe.queue[e].evt_name,...fe.queue[e].args);fe.queue=[],clearTimeout(fe.delayed),fe.delayed=null}},me={setIndex:function(e){(e<0||e>Se.trackList.length-1)&&(e=0),Se.trackListIndex=e},calculateDuration:function(){try{Se.trackListDuration=0;for(var e=0;e<Se.trackList.length;e++)Se.trackListDuration+=parseInt(Se.trackList[e].data.DURATION||0,10);return Se.trackListDuration}catch(e){u.A.error(e)}},reIndexWithMediaId:function(e){const t=Re.getMediaId();let r;for(r=0;r<Se.trackList.length;r++)if(String(Se.trackList[r].data[t])===String(e)){Se.trackListIndex=r;break}return r<Se.trackList.length},getOriginalIndexWithSngId:function(e){let t=0;for(let r=0;r<Se.trackListOriginal.length;r++)if(Se.trackListOriginal[r].data.SNG_ID===e){t=r;break}return t},order:function(e){const t=Re.getCurrentSong("MEDIA_ID"),r=Re.getMediaId();let a=[];for(let t=0;t<e.length;t++){const s=e[t];for(let e=0;e<Se.trackList.length;e++)if(String(Se.trackList[e].data[r])===String(s)){a.push(Se.trackList[e]),Se.trackList.splice(e,1);break}}return Se.trackList.length>0&&(a=a.concat(Se.trackList)),Se.trackList=a.slice(),me.reIndexWithMediaId(t),me.emitChange({type:"order"}),!0},remove:function(e,t){if(e<0||e>Se.trackList.length-1)return!1;if(void 0===t)t=1;else if(t<=0)return!1;e<Se.trackListIndex&&Se.trackListIndex--;const r=Se.trackList.splice(e,t);if(0!==r.length){const e=r[0].data.SNG_ID,a=me.getOriginalIndexWithSngId(e);Se.trackListOriginal.splice(a,t)}return me.calculateDuration(),me.emitChange({type:"remove",song:r}),!0},shuffle:function(e){-1===(e="number"==typeof e?e:Se.trackListIndex)&&(e=Math.round(Math.random()*(Se.trackList.length-1)),me.setIndex(e));const t=Re.getCurrentSong("MEDIA_ID");let r=null;return-1!==e&&(r=Se.trackList.splice(e,1),r=0===r.length?null:r[0]),Se.trackList=(0,i.A)(Se.trackList),null!==r&&Se.trackList.unshift(r),me.reIndexWithMediaId(t),me.emitChange({type:"shuffle"}),!0},unShuffle:function(){const e=Re.getCurrentSong("MEDIA_ID");return Se.trackList=Se.trackListOriginal.slice(),me.reIndexWithMediaId(e),me.emitChange({type:"unShuffle"}),!0},addNext:function(e,t,r=!0){if(t=t||"user",0===e.length)return!1;if(!Re.chromecast.isActive()){if(Re.isRadio())return!1;var a=Re.getCurrentSong("MEDIA_ID"),s=Se.trackListIndex,i=me.getOriginalIndexWithSngId(a);return Array.prototype.splice.apply(Se.trackList,[s+1,0].concat(e)),a>0?Array.prototype.splice.apply(Se.trackListOriginal,[i+1,0].concat(e)):Se.trackListOriginal=Se.trackList.slice(),me.calculateDuration(),me.emitChange({type:"addNext",song:e,caller:t,notify:r}),!0}},addToQueue:function(e,t){if(t=t||"user",0===e.length)return!1;if(!Re.chromecast.isActive()){Se.trackList=Se.trackList.concat(e),Se.trackListOriginal=Se.trackListOriginal.concat(e),me.calculateDuration();var r={type:"addToQueue",song:e,caller:t};return Re.isRadio()&&(r.type="lazyLoad"),me.emitChange(r),!0}},skipByGroup:function(){const e=Re.getCurrentSong("GROUP"),t=Re.getTrackList(!0).slice(Re.getIndexSong()+1).filter((t=>t.data.GROUP!==e));if(t.length>0){let e=Re.getTrackList(!0).slice(0,Re.getIndexSong()+1);me.set(e.concat(t))}},set:function(e,t){return t=t||{},!ye(Re.getPlayerType())&&("boolean"==typeof t.addNext&&t.addNext?me.addNext(e,t.caller,(0,n.A)(t,"notify",!0)):"boolean"==typeof t.addQueue&&t.addQueue?me.addToQueue(e,t.caller):(Se.trackListOriginal=e.slice(),Se.trackList=e,me.calculateDuration(),me.emitChange({...t,type:"set"}),!0))},save:function(e){return!e.addQueue&&!e.addNext&&(e.id!=Re.getContext("ID")||e.type!==h.default.get("log_contexts")[Re.getContext("TYPE")])&&void(me.backup={trackList:Re.getTrackList(!1),trackListIndex:Se.trackListIndex,trackOffset:Re.position,radio:Re.getPlayerType()===I.Cc.RADIO,context:Re.getContext()})},restore:function(){if(!Re.chromecast.isActive()){if(0===(0,o.A)(me.backup))return!1;if(Re.getPlayerType()===I.Cc.ADS)return _.A.subscribeOnce(_.A.player.finishAds,Re.restoreTrackList),!1;Re.play({data:me.backup.trackList,index:me.backup.trackListIndex,offset:me.backup.trackOffset,context:me.backup.context,autoplay:me.backup.trackOffset>0,radio:me.backup.radio,saveCurrentTrackList:!1}),me.backup={}}},first_list_already_set:!1,emitChange:function(e){var t;if("set"!==e.type||me.first_list_already_set||(me.first_list_already_set=!0,e.first=!0),"set"===e.type&&fe.trigger(_.A.player.tracklistReset,e),"player"!==e.caller&&("addNext"===e.type||"addToQueue"===e.type)&&"up_next_artist"!==e.contextType){const t=e.song[0].data||(0,Y.UE)(L.A.getState().entities,{id:e.song[0][0]});_.A.trigger("addNext"===e.type?_.A.player.trackAddNext:_.A.player.trackAddToQueue,{count:e.song.length,notify:(0,n.A)(e,"notify",!0),trackTitle:1===e.song.length?t.SNG_TITLE:""})}!_e||!("next"in _e)||"addToQueue"===e.type&&null!==(t=e.song)&&void 0!==t&&t.length&&"up_next_artist"===e.song[0].context.TYPE||(_e.next={context:Re.getContextByIndex(Re.getIndexSong()+1),track:Re.getNextSong()}),fe.trigger(_.A.player.tracklist_changed,{...e,contextType:Re.getContext("TYPE")})}};const ye=e=>e===I.Cc.ADS||e===I.Cc.TRITON_AD,Ie=()=>!Re.isRadio()&&!Re.chromecast.isLoading()&&[I.zu.EPISODE,I.zu.LIVE_STREAM].indexOf(Re.getMediaType())<0,Le=()=>!Re.isRadio()&&!Re.chromecast.isActive()&&[I.zu.EPISODE].indexOf(Re.getMediaType())<0,Re={LOG_INTERVAL_LIVE_STREAM:300,LOG_UID:0,SUPPORTED_CODECS:["mp3","aac"],volume:.5,cover:"",songId:0,muted:!1,paused:!1,playing:!1,loading:!1,lastPosition:0,position:0,duration:0,repeat:0,shuffle:!1,pourcentLoaded:0,nextSongInfo:[],playerType:I.Cc.MOD,previousPlayerType:I.Cc.MOD,numSong:-1,nbSongs:-1,playerLoaded:!1,audioAds:null,previousSkipAction:"",appId:0,appType:"",radioType:"",radioSkipInterval:36e5,radioSkipIntervalId:0,radioSkipCounter:0,cached:{},get chromecast(){return he||(he=function(e){const t=new N(e);if(!l.A.is("chrome")&&!l.A.is("chromium"))return t;try{window.__onGCastApiAvailable=e=>{e&&t.initGCast()}}catch(e){u.A.error(new Error("GCastSender :: _initialization - "+JSON.stringify(e)))}const r=document.getElementsByTagName("script")[0],a=document.createElement("script");return a.src="https://www.gstatic.com/cv/js/sender/v1/cast_sender.js?loadCastFramework=1",r.parentNode.insertBefore(a,r),t}(Re))},fetching:!1,context:{},currentLinkedDevice:null,logTrackTemplate:{media:{id:0,type:0},type:0,stat:{seek:0,pause:0,sync:0},lt:0,ctxt:{},payload:{},dev:{v:h.default.get("releaseNumeric"),t:0},ls:[],ts_listen:0},logTrack:{},user_status:{},renewLicense:async function(){const e=await new Promise(((e,t)=>A.A.call({method:"deezer.getUserData",success:e,error:t})));return await L.A.dispatch((0,K.b6)(e)),(0,G.Ay)(e)},renewToken:async function(e){switch(e.type){case"episode":{const t=await new Promise(((t,r)=>A.A.call({method:"episode.getData",data:{episode_id:e.id},success:t,error:r})));e.token=new ce.A(t.TRACK_TOKEN,{expire:t.TRACK_TOKEN_EXPIRE})}break;case"song":{const t=await new Promise(((t,r)=>A.A.call({method:"song.getData",data:{SNG_ID:e.id},success:t,error:r})));e.token=new ce.A(t.TRACK_TOKEN,{expire:t.TRACK_TOKEN_EXPIRE})}}},hasValidLicense:function(){return new Promise((e=>{let t=L.A.getState().user;const r=(0,G.mI)({SERVER_TIMESTAMP:t.SERVER_TIMESTAMP,clientTimestampDelta:t.clientTimestampDelta});let a=Math.floor(Date.now()/1e3),s=t.USER.OPTIONS.timestamp;a-s>pe||r-s>pe?A.A.call({method:"deezer.getUserData",success:async i=>{await L.A.dispatch((0,K.b6)(i)),t=L.A.getState().user,a=Math.floor(Date.now()/1e3),s=t.USER.OPTIONS.timestamp,a-s>pe||r-s>pe?(L.A.dispatch((0,P.qf)({name:"RENEW_LICENSE"})),e(!1)):e(!0)},error(){L.A.dispatch((0,P.qf)({name:"RENEW_LICENSE"})),e(!1)}}):e(!0)}))},_play:async function(e,t,r={}){try{if(!Re.html5.supported)return!1;if(!await Re.hasValidLicense())return!1;if(null===Re.getCurrentSong())return!1;if(e&&L.A.getState().user.USER.OPTIONS.ads_audio&&L.A.dispatch((0,ue.sS)("play")))return Re.control.pause(),!1;if(e&&L.A.getState().user.USER.OPTIONS.ads_audio){const e=new URLSearchParams(window.location.search).get("forceAdBlocker");if(L.A.getState().app.hasAdBlock||e)return L.A.dispatch((0,P.qf)({name:"ADBLOCK_DETECTION",size:"small"})),Re.control.pause(),!1}if(!0===Re.hasAudioAds&&Re.isAdvertisingAllowed()&&L.A.getState().user.USER.OPTIONS.ads_audio)return Re.eventAudio||(_.A.trigger(_.A.ads.callAudio),Re.eventAudio=!0),!1;const a=(0,V.qx)(Re.getMediaType());if(null!==a&&!("OFFSET"in Se.trackList[Se.trackListIndex].data)){const e=(0,V.Dp)(Se.trackList[Se.trackListIndex].data,a);if(e){const r=(0,B.v6)(L.A.getState().bookmarks,a,e),s=null!==r&&r.played,i=null===r?0:r.offset;if(t&&s)return Re.isLastSong()?Re.control.pause():Re.control.nextSong();Se.trackList[Se.trackListIndex].data.OFFSET=i}}if(0===Re.getNbSongs())return!1;if("boolean"!=typeof e&&(e=!0),"boolean"!=typeof t&&(t=!1),Re.getPlayerType()===I.Cc.JINGLE||ye(Re.getPlayerType()))return!1;if(e)Re.LOG_UID=(0,q.A)(),Re.logManager(),Re.trigger("audioPlayer_playTracks",[[Re.getCurrentSong()],0,e,{context:Re.getContext(),offset:r.offset}]),_.A.trigger(_.A.player.notify,"start"),_.A.trigger(_.A.player.play,{value:Re.getCurrentSong()}),Re.duration=Re.isLimited()?30:Re.getCurrentSong("DURATION"),_.A.trigger(_.A.player.duration,Re.duration);else{if(!e&&t){const e=Re.getCurrentSong();return Re.trigger("audioPlayer_playTracks",[[e],0,!1,{context:Re.getContext()}]),fe.trigger(_.A.player.playing,!1),fe.trigger(_.A.player.displayCurrentSong,e,r),fe.trigger(_.A.player.updateCurrentTrack,e),!1}Re.trigger("audioPlayer_stop",[!0])}return delete Se.trackList[Se.trackListIndex].data.OFFSET,fe.trigger(_.A.player.displayCurrentSong,Re.getCurrentSong(),r),Se.trackList.length-Se.trackListIndex<=4&&!1!==r.sync&&!Re.isFetching()&&(Re.isRadio()?Re.loadTracks({id:Re.getRadioId(),type:Re.getRadioType(),radio:!0,addQueue:!0,context:Re.getContext()}):Re.getContext("TYPE")===I.Kk.SHUFFLED_COLLECTION&&Re.loadTracks({id:Re.getContext("ID"),type:I.Kk.SHUFFLED_COLLECTION,addQueue:!0,context:Re.getContext()})),Re.getMediaType()===I.zu.LIVE_STREAM&&Re.fingerprintSubscribe(),!0}catch(e){return u.A.error(e),!1}},onInterstitialAdsReady:function(){window.addEventListener(_.A.ads.adBegin,Re._startAudioAds),window.addEventListener(_.A.ads.adEnd,Re.stopAudioAds),window.addEventListener(_.A.ads.adError,Re.noAudioAds)},onAudioAdsReady:function(){Re.hasAudioAds=!0,window.removeEventListener(_.A.ads.adBegin,Re._startAudioAds),window.removeEventListener(_.A.ads.adEnd,Re.stopAudioAds),window.removeEventListener(_.A.ads.adDuration,Re._setAudioAdsProgression),window.removeEventListener(_.A.ads.adError,Re.noAudioAds),window.addEventListener(_.A.ads.adBegin,Re._startAudioAds),window.addEventListener(_.A.ads.adDuration,Re._setAudioAdsProgression),window.addEventListener(_.A.ads.adError,Re.noAudioAds),window.addEventListener(_.A.ads.adEnd,Re.stopAudioAds)},noAudioAds:function(){window.removeEventListener(_.A.ads.adBegin,Re._startAudioAds),window.removeEventListener(_.A.ads.adEnd,Re.stopAudioAds),window.removeEventListener(_.A.ads.adDuration,Re._setAudioAdsProgression),window.removeEventListener(_.A.ads.adError,Re.noAudioAds),Re.hasAudioAds=!1,Re.eventAudio=!1,Se.trackListIndex--,Re.control.nextSong()},_startAudioAds:function(){window.removeEventListener(_.A.ads.adBegin,Re._startAudioAds),Re.control.pause(),Se.trackListIndex--,Re.previousPlayerType=Re.getPlayerType(),Re.setPlayerType(I.Cc.ADS)},stopAudioAds:function(e=!0){window.removeEventListener(_.A.ads.adEnd,Re.stopAudioAds),window.removeEventListener(_.A.ads.adError,Re.noAudioAds),Re.hasAudioAds=!1,Re.eventAudio=!1,Re.setPlayerType(Re.previousPlayerType),e||Se.trackListIndex--,Re.control.nextSong(!0),_e&&"audioPlayer_play"in _e&&Re.control.play(),clearInterval(Re._adsPosInterval)},_setAudioAdsProgression:function(e){window.removeEventListener(_.A.ads.adDuration,Re._setAudioAdsProgression);var t=e.videoDuration,r=0;Re.setPropValue("duration",t),Re._adsPosInterval=setInterval((function(){Re.setPropValue("position",r),(r+=.5)>=t&&clearInterval(Re._adsPosInterval)}),500)},_adsPosInterval:null,hasAudioAds:!1,setTriforceIndex(e){const t=Se.trackList[e],r=Re.helper.getTrackTypeByIndex(e);if(r===I.Cc.RADIO){const e=Te(void 0,t.context.TYPE);Re.radioStartListen(t.context.ID,e)}Re.playTrackAtIndex(e,!1,r,{sync:!1}),Re.duration=Re.isLimited()?30:Re.getCurrentSong("DURATION")||0,_.A.trigger(_.A.player.duration,Re.duration),_.A.trigger(_.A.player.updateCurrentTrack)},setTriforceState(e){if(e.tracks.filter((e=>"livestream"===e.data.__TYPE__)).forEach((e=>e.data=Re.getLivestreamData(e.data)[0])),[...e.tracks,...e.recommended].filter((e=>e.data.FALLBACK)).forEach((e=>{e.data.SNG_ID_ORIGIN=e.data.SNG_ID,e.data={...e.data,...e.data.FALLBACK}})),e.radio){Re.setPlayerType(I.Cc.RADIO);const t=[...e.tracks,...e.recommended].shift(),r=Te(e.radio,t.context.TYPE);Re.radioStartListen(t.context.ID,r)}else Re.setPlayerType(I.Cc.MOD);Se.trackList=[...e.tracks,...e.recommended],Se.trackListOriginal=[...e.original],Se.nbSongsTotal=Se.trackList.length,me.setIndex("index"in e?e.index:Se.trackListIndex),me.calculateDuration(),me.emitChange({sync:!1,type:"set"}),Re.isPlaying()||(Re.paused=!1,_.A.trigger(_.A.player.paused,!1,{sync:!1}),Re.setPropValue("playing",!1)),Re.position=0,_.A.trigger(_.A.player.position,0),Re.duration=Re.isLimited()?30:Re.getCurrentSong("DURATION")||0,_.A.trigger(_.A.player.duration,Re.duration),e.shuffled!==Re.shuffle&&(Re.shuffle=e.shuffled,_.A.trigger(_.A.player.shuffle_changed,Re.shuffle))},setUserLogged:function(e){Re.trigger("audioPlayer_setToken",[e])},setUserUnlogged:function(){try{return Re.trigger("audioPlayer_setToken",[""]),!0}catch(e){u.A.error(e)}},setEmptyPlayer:function(){try{if(Re.chromecast.isActive())return;return ye(Re.getPlayerType())||Re.getPlayerType()===I.Cc.JINGLE||(Se.trackList=[],Se.trackListOriginal=[],Se.trackListIndex=0,Re.trigger("audioPlayer_playTracks",[[],0,!1]),fe.trigger(_.A.player.displayEmptyPlayer)),!1}catch(e){u.A.error(e)}},play:async function(e){try{if(!await Re.hasValidLicense())return!1;if(Re.chromecast.isLoading())return!1;if("object"==typeof e.context&&0!==Object.keys(e.context).length||F.A.log(new Error("Empty context"),e),(e=s().extend(!0,{},{type:"",id:0,radio:!1,index:-1,autoplay:!0,context:{ID:"",TYPE:"",CONTEXT_ID:""},data:[],offset:0,addNext:!1,addQueue:!1,saveCurrentTrackList:!0,callbackTrack:function(){}},e)).forceAsFirstTrack&&(e.index=0),_e&&e.autoplay&&(("autoplay"in _e?_e:_e.element).autoplay=!0),ye(Re.getPlayerType())||Re.getPlayerType()===I.Cc.JINGLE)return!1;if(0===e.data.length){if(e.initializing&&Se.trackList.length)return;return Re.loadTracks(e),!1}const{filteredTrack:t,unavailableTrackCode:r}=Re._getFilteredTrackListData(e);if("function"==typeof e.callbackTrack&&e.callbackTrack(t),0===t.length)return r.every((e=>e===g.A.EXPLICIT_LYRICS))&&(0,G.UJ)(L.A.getState().user)&&L.A.dispatch((0,O.S7)(C.I6,{onLinkClick:()=>L.A.dispatch((0,O.Hd)(C.I6))})),!1;Number(Re.appId)>0&&"inapp"===Re.appType&&(e.context.ID=Re.appId,e.context.TYPE=Re.appType),e.saveCurrentTrackList&&me.save(e);const a=w.A.location.query.sng_id;return a&&(e.index=Math.max(e.data.findIndex((e=>(e.SNG_ID||e.EPISODE_ID||e.id)===a)),0)),e.index>e.data.length&&(e.index=0),Re.setPlayerType(e.radio?I.Cc.RADIO:I.Cc.MOD),!0===e.radio&&!1===e.addQueue&&!1===e.addNext&&Re.radioStartListen(e.id,e.type),Re.chromecast.isCasting()&&(e.playOnChromecast=!0),Re.liveStreamChannel&&(S.A.deleteChannel(Re.liveStreamChannel),_.A.unsubscribe(_.A.live.livestream,Re.onGetLiveStreamTrack),Re.liveStreamChannel=!1),e.type===I.Kk.LIVESTREAM&&(Re.setPlayerType(I.Cc.RADIO),e.data=Re.getLivestreamData(e.data[0])),e.type!==I.Kk.TRACK_MIX||(0,G.ki)(L.A.getState().user)||Re.setPlayerType(I.Cc.RADIO),Re.setNbSongsTotal(e.total),Re.setTrackList(e,e.addQueue,e.addNext),Re.setTrackListType(e.type),!0}catch(e){return u.A.error(e),!1}},loadTracks:function(e){try{e.id||F.A.log(new Error("Play without id"),e),e.type||F.A.log(new Error("Play without type"),e);var t=e.start||0;let r={[I.Kk.LIVESTREAM]:{api_method:"livestream.getData",api_param:{livestream_id:e.id,supported_codecs:["mp3","aac"]}},[I.Kk.PLAYLIST]:String(e.id)===(0,G.G8)(L.A.getState().user)&&R.A.isAllowed("unlimited_favorite_tracks")?()=>(0,X.G5)(te.Ay.Song)(L.A.dispatch,L.A.getState).then((()=>{(0,H.bm)({start:t,nb:(0,z.pp)(L.A.getState().feedbacks,te.Ay.Song,!1)},{cacheUsage:p.u.READ_ONLY})(L.A.dispatch,L.A.getState).then((()=>{Re.onLoadedTracks((0,Y.VL)(L.A.getState()),e)}))})):{api_method:"playlist.getSongs",api_param:{playlist_id:e.id,start:t,nb:2e3}},[I.Kk.PERSONAL_LOVED]:R.A.isAllowed("unlimited_favorite_tracks")?()=>(0,X.G5)(te.Ay.Song)(L.A.dispatch,L.A.getState).then((()=>{(0,H.bm)({start:t,nb:(0,z.pp)(L.A.getState().feedbacks,te.Ay.Song,!1)},{cacheUsage:p.u.READ_ONLY})(L.A.dispatch,L.A.getState).then((()=>{Re.onLoadedTracks((0,Y.VL)(L.A.getState()),e)}))})):{api_method:"playlist.getSongs",api_param:{playlist_id:e.id,start:t,nb:2e3}},[I.Kk.SMARTTRACKLIST]:{api_method:"smartTracklist.getSongs",api_param:{smartTracklist_id:e.id}},[I.Kk.ALBUM]:{api_method:"song.getListByAlbum",api_param:{alb_id:e.id,start:t,nb:500}},[I.Kk.TRACK]:{api_method:"song.getListData",api_param:{sng_ids:Array.isArray(e.id)?e.id:[e.id]}},[I.Kk.TRACK_MIX]:{api_method:"song.getSearchTrackMix",api_param:{sng_id:e.id,start_with_input_track:e.forceAsFirstTrack}},[I.Kk.RADIO]:{api_method:"radio.getSongs",api_param:{radio_id:e.id}},[I.Kk.ARTIST]:{api_method:!0===e.radio?"smart.getSmartRadio":"song.getTopArtist",api_param:{art_id:e.id}},[I.Kk.USER]:{api_method:"radio.getUserRadio",api_param:{user_id:e.id,tuner:e.tuner}},[I.Kk.MULTI_FLOW]:{api_method:"radio.getUserRadio",api_param:{config_id:e.id,user_id:(0,G.F6)(L.A.getState().user),tuner:e.tuner}},[I.Kk.SHOW]:{api_method:"episode.getListByShow",api_param:{show_id:e.id,start:t,nb:1e3}},[I.Kk.EPISODE]:{api_method:"episode.getData",api_param:{episode_id:e.id}},[I.Kk.HISTORY]:{api_method:"user.getSongsHistory",api_param:{start:t,nb:1e3}},[I.Kk.PERSONAL_SONG]:{api_method:"personal_song.getList",api_param:{start:t,nb:1e3}},[I.Kk.SHUFFLED_COLLECTION]:{api_method:"tracklist.getShuffledCollection",api_param:{start:t,nb:50}},[I.Kk.SEARCH]:{api_method:"search.music",api_param:{query:e.id,start:t,nb:1e3,filter:"ALL",output:Re.getOutputByContextPage(e.context&&e.context.TYPE||"")}},[I.Kk.SEARCH_TAG]:{api_method:"search.music",api_param:{query:e.id,start:t,nb:1e3,filter:"TAG",output:Re.getOutputByContextPage(e.context&&e.context.TYPE||"")}},[I.Kk.TOP_ARTIST]:{api_method:"artist.getTopTrack",api_param:{art_id:e.id,start:t,nb:100}}};r.talkShow=r.show,r.collaborativePlaylist=r.playlist,r.curatedChartsPlaylist=r.playlist,r.curatorPlaylist=r.playlist,r.personalPlaylist=r.playlist,r.loved=r.playlist,r.favorite=r.personalLoved,r.topArtist=r.topArtistFull,r.discographyArtist=r.album,r.personalSong=r.personal_song,r.flow=r.user,r.chartsPlaylist=r.playlist,"object"==typeof r[e.type]?(Re.fetching=!0,A.A.call({method:r[e.type].api_method,data:r[e.type].api_param,success:Re.onLoadedTracks,error:()=>{Re.fetching=!1},callback_parameters:e})):"function"==typeof r[e.type]&&r[e.type]()}catch(e){u.A.error(e)}},onLoadedTracks:function(e,t){Re.fetching=!1;try{if(t&&t.initializing&&Se.trackList.length)return;if(e.data?t.data=e.data:Array.isArray(e)?t.data=e:t.data=[e],"player_default_playlist"!==(0,n.A)(t,"context.TYPE")&&0===t.data.length&&!t.addQueue&&!t.addNext){const e=L.A.getState().user.PLAYLIST_WELCOME_ID,r="player_default_playlist";return void Re.play({autoplay:t.autoplay,context:{ID:e,TYPE:r},id:e,radio:!1,sync:!1,type:h.default.get("log_contexts")[r]})}if(e.tuner&&e.tuner!==L.A.getState().user.USER.OPTIONS.tuner&&L.A.dispatch((0,K.mZ)("tuner",e.tuner)),0===t.data.length)return;t.offset>0&&t.data.length>0&&(t.data[0].OFFSET=t.offset),e.clearRemainingTracks&&me.remove(Re.getIndexSong()+1,Re.getNbSongs()),Re.play(t)}catch(e){F.A.log(e,t)}},playTrackAtIndex:async function(e,t=!0,r=Re.helper.getTrackTypeByIndex(e),a={}){try{return!(ye(Re.getPlayerType())||!await Re.hasValidLicense()||(Re.chromecast.isCasting()?(Re.chromecast.executeAction("playAtIndex",[e]),0):(me.setIndex(e),Re.setPlayerType(r),Re._play(t,!1,a),Re.getRepeat()===I.EV.SINGLE&&Re.control.setRepeat(I.EV.ALL),t||(Re.setPropValue("paused",!1),Re.setPropValue("playing",!1)),0)))}catch(e){return u.A.error(e),!1}},setIndexSong:function(e){try{me.setIndex(e)}catch(e){u.A.error(e)}},setTrackList:function(e,t,r){try{if(ye(Re.getPlayerType()))return!1;t=t||!1,r=r||!1;const{filteredTrack:a,futureIndex:s}=Re._getFilteredTrackListData(e);return!(0===a.length||(Re.chromecast.isCasting()||!t&&!r?(me.set(a,e),me.setIndex(s),e.index=s,e.offset>0&&(e.data[e.index].OFFSET=e.offset),Re.getRepeat()===I.EV.SINGLE&&Re.control.setRepeat(I.EV.ALL),Re.isShuffle()&&Re.getPlayerType()===I.Cc.MOD&&!Re.chromecast.isCasting()&&me.shuffle(e.index),Re.isMuted()&&Re.control.mute(!1),Re.chromecast.isCasting()?e.playOnChromecast?(Re.chromecast.executeAction("playTracks"),0):(_.A.trigger(_.A.player.displayCurrentSong,Re.getCurrentSong(),e),_.A.trigger(_.A.player.play,{value:Re.getCurrentSong()}),0):(void 0!==e.context&&e.context.TYPE.indexOf("adsTracking")>-1&&_.A.trigger(_.A.ads.playMusic,"interaction_play"),Re._play(e.autoplay,!1,{sync:e.sync}),0)):(me.set(a,{addQueue:t,addNext:r,caller:e.caller,notify:(0,n.A)(e,"notify",!0)}),void 0!==e.context&&e.context.TYPE.indexOf("adsTracking")>-1&&_.A.trigger(_.A.ads.addToQueueList,"interaction_queuelist"),_.A.trigger(_.A.player.displayCurrentSong,Re.getCurrentSong(),e),0)))}catch(e){return u.A.error(e),!1}},getTrackList:function(e,t){if(!0===e)return!0===t&&Re.isShuffle()?Se.trackListOriginal:Se.trackList;for(var r=[],a=0;a<Se.trackList.length;a++)!0===t&&Re.isShuffle()&&Se.trackListOriginal[a]?r.push(Se.trackListOriginal[a].data):Se.trackList[a]&&r.push(Se.trackList[a].data);return r},_getFilteredTrackListData(e){let t=e.index,r=[],a=[];for(let i=0;i<e.data.length;i++){if("object"!=typeof e.data[i])continue;let n=!1;if(Re.chromecast.isCasting()&&e.chromecast)r.push({data:e.data[i].data,context:e.data[i].context}),n=!0;else{const t=g.A.checkSongAvailable(e.data[i]);e.data[i].UID=(0,q.A)();const o=(0,V.qx)(Re.getMediaType(e.data[i]));if(t===g.A.READABLE&&null!==o){const t=(0,V.Dp)(e.data[i],o);if(t){const r=(0,B.v6)(L.A.getState().bookmarks,o,t);r&&(e.data[i].OFFSET=r.offset)}r.push({data:e.data[i],context:e.context});continue}if(e.radio&&t===g.A.EXPLICIT_LYRICS)continue;t===g.A.READABLE?(r.push({data:e.data[i],context:e.context}),n=!0):"object"==typeof e.data[i].FALLBACK&&g.A.checkSongAvailable(e.data[i].FALLBACK)===g.A.READABLE?(e.data[i].SNG_ID_ORIGIN=e.data[i].SNG_ID,r.push({data:s().extend({},e.data[i],e.data[i].FALLBACK),context:e.context}),n=!0):a.push(t)}i===t&&(t=n?r.length-1:r.length)}return{filteredTrack:r,futureIndex:t,unavailableTrackCode:a}},getTrackListType:function(){return Se.trackListType},setTrackListType:function(e){Se.trackListType=e},getTrackListIndex:function(){return Se.trackListIndex},getTrackListDuration:function(){return Se.trackListDuration||0},fetchRecommendations:function(e){if(!L.A.getState().user.id||!L.A.getState().user.hasUpNext||0!==Number(Re.appId)||Re.getMediaType()===I.zu.LIVE_STREAM||Re.getMediaType()===I.zu.EPISODE)return e();if("up_next_artist"!==Re.getTrackListType()){for(var t,r=Se.trackList.length-1;r>=0;r--)if(Se.trackList[r].data.SNG_ID>0){t=Se.trackList[r].data;break}t&&(Se.recommendationsSngId=t.SNG_ID,Se.recommendationsArtId=t.ART_ID)}A.A.call({method:"radio.getUpNext",data:{sng_id:Se.recommendationsSngId,art_id:Se.recommendationsArtId,limit:10},success:function(t){e(t.data)},error:function(){e()}})},getLivestreamData:function(e){const t={id:Number(e.LIVESTREAM_ID),title:e.LIVESTREAM_TITLE,picture:e.LIVESTREAM_IMAGE_MD5,isFingerprinted:Number(e.LIVESTREAM_IS_FINGERPRINTED)||0,codec:null,url:null},r=Object.keys(e.LIVESTREAM_URLS.data).sort((function(e,t){return Number(t)-Number(e)}));for(let a=0,s=r.length;a<s;a++){const s=r[a];for(let r in e.LIVESTREAM_URLS.data[s])if(-1!==Re.SUPPORTED_CODECS.indexOf(r)){t.codec=r,t.url=e.LIVESTREAM_URLS.data[s][r];break}if(null!==t.codec&&null!==t.url)break}return 1===Number(e.LIVESTREAM_IS_FINGERPRINTED)&&(Re.liveStreamChannel="-1_0_LIVESTREAM_"+e.LIVESTREAM_ID,S.A.addChannel(Re.liveStreamChannel),_.A.subscribe(_.A.live.livestream,Re.onGetLiveStreamTrack)),[{MD5_ORIGIN:t.url,LIVESTREAM_IMAGE_MD5:t.picture,LIVE_STREAM:!0,EXTERNAL:!0,FORMAT:t.codec,TYPE:1,LIVESTREAM_TITLE:t.title,LIVE_ID:t.id,IS_FINGERPRINTED:t.isFingerprinted}]},fingerprintSubscribe:function(){var e=Re.getCurrentSong();0!==e.IS_FINGERPRINTED&&(Re.liveStreamChannel="-1_0_LIVESTREAM_"+e.LIVE_ID,S.A.addChannel(Re.liveStreamChannel),_.A.subscribe(_.A.live.livestream,Re.onGetLiveStreamTrack),A.A.call({method:"livestream.getMedia",data:{LIVESTREAM_ID:e.LIVE_ID},success:function(e){!1!==e&&_.A.trigger(_.A.player.displayRecognizedTrack,e)}}))},onGetLiveStreamTrack:function(e,t){null!==t[0].VALUE.MEDIA?A.A.call({method:"song.getData",data:{SNG_ID:t[0].VALUE.MEDIA.ID},success:function(e){_.A.trigger(_.A.player.displayRecognizedTrack,e)}}):_.A.trigger(_.A.player.displayRecognizedTrack,null)},enqueueTracks:function(e,t){try{Re.setTrackList({data:e,context:t},!0,!1)}catch(e){u.A.error(e)}},addNextTracks:function(e,t){try{Re.setTrackList({data:e,context:t},!1,!0)}catch(e){u.A.error(e)}},isRadio:function(){return Re.getPlayerType()===I.Cc.RADIO},isWidget:function(){return"widget"===Re.appType},getIndexSong:function(){return Se.trackListIndex},getNbSongs:function(){return Se.trackList.length},getNbSongsTotal:function(){return Se.nbSongsTotal},setNbSongsTotal:function(e){Se.nbSongsTotal=e},isLastSong:function(){return!(Re.getRepeat()>0)&&Se.trackListIndex>=Re.getNbSongs()-1&&(!Re.chromecast.isCasting()||null===Re.chromecast.getChunksInfo().next)},getTotalDuration:function(){let e=0;for(let t=0;t<Se.trackList.length;t++)isNaN(Se.trackList[t].data.DURATION)||(e+=parseInt(Se.trackList[t].data.DURATION,10));return e},getNextSong:function(){let e=null;if(0==Re.repeat||Re.isRadio())e=Se.trackListIndex+1<Re.getNbSongs()?Se.trackList[Se.trackListIndex+1].data:null;else if(1==Re.repeat){const t=Se.trackListIndex==Se.trackList.length-1?0:Se.trackListIndex+1;e=Se.trackList[t]?Se.trackList[t].data:null}else 2==Re.repeat&&(e=Re.getCurrentSong());return null===e&&Re.chromecast.isCasting()&&null!==Re.chromecast.getChunksInfo().next&&(e={}),e},getPrevSong:function(){let e=null;if(0==Re.getRepeat()||Re.isRadio())e=Se.trackListIndex>0?Se.trackList[Se.trackListIndex-1].data:null;else if(1==Re.getRepeat()){const t=0==Se.trackListIndex?Se.trackList.length-1:Se.trackListIndex-1;e=Se.trackList[t]?Se.trackList[t].data:null}else 2==Re.getRepeat()&&(e=Re.getCurrentSong());if(null===e&&Re.chromecast.isCasting()){const t=Re.chromecast.getChunksInfo();null!=t&&void 0!==t.prev&&null!==t.prev&&(e={})}return e},getCurrentSong:function(e=""){try{e="MEDIA_ID"===e?Re.getMediaId():e;const t={SNG_ID:0,ART_ID:0,ALB_ID:0,ALB_PICTURE:"",URL:"",DURATION:0},r=Se.trackList[Se.trackListIndex],a=Re.getPlayerType();return void 0!==r&&void 0!==r.data&&a!==I.Cc.ADS&&a!==I.Cc.JINGLE?""===e?new E.A(r.data):r.data[e]||t[e]:""===e?null:t[e]}catch(e){u.A.error(e)}},isAdvertisingAllowed:function(){return!([I.zu.EPISODE].indexOf(Re.getMediaType())>-1&&!Number(Re.getCurrentSong("SHOW_IS_ADVERTISING_ALLOWED")))},getMediaType:function(e=Re.getCurrentSong()){return null===e?ye(Re.getPlayerType())?I.zu.ADS:null:void 0!==e.EPISODE_ID?I.zu.EPISODE:e.LIVE_STREAM?I.zu.LIVE_STREAM:e.EXTERNAL?I.zu.EXTERNAL:I.zu.SONG},getMediaId:function(e=Re.getCurrentSong()){if(null===e)return!1;switch(Re.getMediaType(e)){case I.zu.EPISODE:return"EPISODE_ID";case I.zu.LIVE_STREAM:return"LIVE_ID";case I.zu.EXTERNAL:return"EXTERNAL_ID";default:return"SNG_ID"}},getContext:function(e){try{const t={ID:"",TYPE:"",CONTEXT_ID:""};return ye(Re.getPlayerType())?t:void 0!==Se.trackList[Se.trackListIndex]&&void 0!==Se.trackList[Se.trackListIndex].context?"string"!=typeof e?Se.trackList[Se.trackListIndex].context:Se.trackList[Se.trackListIndex].context[e]:"string"!=typeof e?null:t[e]}catch(e){u.A.error(e)}},getContextByIndex:function(e){return(Se.trackList[e]||{}).context||{ID:"",TYPE:"",CONTEXT_ID:""}},getContextByIndexFromOriginal:function(e){return(Re.getTrackList(!0,!0)[e]||{}).context||{ID:"",TYPE:"",CONTEXT_ID:""}},getRepeat:function(){return Ie()?("string"==typeof Re.repeat&&Re.repeat.length>1&&(Re.repeat=0),parseInt(Re.repeat,10)):0},getPosition:function(){return Re.position},getExactPosition:function(){return Re.trigger("audioPlayer_getPosition",[])},getDuration:function(){return Re.duration||(Re.getCurrentSong()||{}).DURATION},getRemainingTime:function(){return Re.duration-Re.position},getVolume:function(){return Re.volume},isShuffle:function(){return!!Le()&&Re.shuffle},removeTracks:function(e,t){if(parseInt(e,10)!=e||e<0){const e=new Error("removeTracks: index param must be a positive integer");throw e.name="DZPLAYER",e}if(void 0===t)t=1;else if(parseInt(t,10)!=t||t<=0){const e=new Error("removeTracks: length param must be a strictly positive integer");throw e.name="DZPLAYER",e}if(Re.getIndexSong()==e){if(1===Se.trackList.length)return!1;const r=me.remove(e,t),a=Se.trackList.length>1?e%(Se.trackList.length-1):0;return Re.playTrackAtIndex(a,Re.isPlaying()),r}return me.remove(e,t)},replaceTracks:function(e,t,r){Re.removeTracks(e,Re.getNbSongs()-e),Re.enqueueTracks(t,r)},orderTracks:function(e){return me.order(e)},isMuted:function(){return Re.muted},isPlaying:function(){return Re.playing},isPaused:function(){return Re.paused},isFetching:function(){return Re.fetching},getArtistName:function(){return Re.getCurrentSong("ART_NAME")},getAlbumTitle:function(){return Re.getCurrentSong("ALB_TITLE")},getSongTitle:function(){return Re.getCurrentSong("SNG_TITLE")},getPlayerType:function(){return Re.playerType},getPlayerTypeId:function(){return Re.playerType===I.Cc.RADIO?1:0},setPlayerType:function(e){Re.getPlayerType()!==e&&(Re.playerType=e,e===I.Cc.RADIO&&Re.radioSkipSetTimer(),Re.trigger("audioPlayer_setType",[e])),fe.trigger(_.A.player.changePlayerType,Re.playerType)},getSongId:function(){return Re.getCurrentSong("MEDIA_ID")},isLoading:function(){return Re.loading},getCover:function(){return Re.getCurrentSong("ALB_PICTURE")},setOffline:function(e){Re.trigger("audioPlayer_setOffline",[e])},sendFile:function(e){Re.trigger("audioPlayer_sendFile",[e])},isLimited:function(){return(0,o.A)(Re.user_status)>0&&(void 0===Re.user_status.limited||Re.user_status.limited)},getRadioType:function(){return Re.radioType},getRadioId:function(){return Re.radioId},radioStartListen:function(e,t){Re.radioType=t,Re.radioId=e,fe.trigger(_.A.radio.start,{type:t,id:e})},radioSkipSetTimer:function(e=!1){clearTimeout(Re.radioSkipIntervalId),Re.radioSkipIntervalId=0,!0===e&&(Re.radioSkipCounter=0),Re.isRadio()&&(Re.radioSkipIntervalId=setTimeout(Re.radioSkipSetTimer,Re.radioSkipInterval,!0))},helper:{isPlayingFlow:function(){const e=Re.getContext();return(0,n.A)(Re.chromecast.getMedia(),"customData.playingFlow")||null!==e&&/user_radio|flow_tab_flow|flow_config/.test(e.TYPE)},isPlayingUserFlow:function(){const e=Re.getContext();return(0,n.A)(Re.chromecast.getMedia(),"customData.playingFlow")||null!==e&&/user_radio|flow_tab_flow/.test(e.TYPE)&&String(L.A.getState().user.id)===String(Re.getContext("ID"))},getTrackTypeByIndex:function(e){if(e>Se.trackList.length)return Re.getPlayerType();const t=Se.trackList[e];return["dynamic_page_track","track_mix_contextual","search_track","track_page"].includes(t.context.TYPE)?(0,G.ki)(L.A.getState().user)?I.Cc.MOD:I.Cc.RADIO:/radio(s)?$|^(smart)?radio|livestream|mix|up_next_artist|flow/.test(t.context.TYPE)?I.Cc.RADIO:I.Cc.MOD}},control:{canSeek:function(){return!(Re.chromecast.isLoading()||Re.getMediaType()===I.zu.LIVE_STREAM||(!Re.isRadio()||!(0,G.ki)(L.A.getState().user))&&Re.getPlayerType()!==I.Cc.MOD)},play:async function(){try{if(Re.chromecast.isLoading())return!1;if(!1===Re.isPlaying()&&!1===Re.isPaused()){if(!await Re.hasValidLicense())return!1;0!==Re.getCurrentSong("MEDIA_ID")&&(Re._play(!0),Re.getNbSongs()<Re.getNbSongsTotal()&&Re.loadTracks({id:Re.getContext("ID"),type:Re.getTrackListType(),start:Re.getNbSongs(),radio:Re.isRadio(),context:Re.getContext(),addQueue:!0,caller:"player"}))}else fe.trigger(_.A.player.resume,{value:Re.getCurrentSong()}),Re.trigger("audioPlayer_play",["resume",Re.getPosition()]);return!0}catch(e){return u.A.error(e),!1}},pause:function(){try{if(Re.chromecast.isLoading())return!1;if(ye(Re.getPlayerType()))return!1;Re.trigger("audioPlayer_pause"),(0,o.A)(Re.logTrack)>0&&void 0!==Re.logTrack.stat&&Re.logTrack.stat.pause++}catch(e){u.A.error(e)}},stop:function(){let e=!0;Re.chromecast.isLoading()&&(e=!1),Re.chromecast.isCasting()&&Re.getMediaType()===I.zu.LIVE_STREAM&&Re.chromecast.executeAction("stop"),ye(Re.getPlayerType())&&(e=!1),Re.getMediaType()!==I.zu.LIVE_STREAM&&Re.getMediaType()!==I.zu.EPISODE&&(e=!1),Re.getMediaType()===I.zu.EPISODE&&(e=!1),Re.liveStreamChannel&&_.A.trigger(_.A.player.displayRecognizedTrack,null),Re.trigger("audioPlayer_stop",[!1]),e&&Re.logManager(!1)},nextSong:async function(e){try{if(x.A.intent(x.A.TIME_TO_NEXT),!await Re.hasValidLicense())return!1;if(Re.chromecast.isLoading())return!1;if(ye(Re.getPlayerType()))return!1;if(Re.getMediaType()===I.zu.LIVE_STREAM)return!1;"boolean"!=typeof e&&(e=!1),e||(Re.chromecast.isCasting()||(0===(0,o.A)(Re.logTrack)&&Re.logManager(!1),(0,o.A)(Re.logTrack)>0&&void 0!==Re.logTrack.stat&&(Re.logTrack.stat.next=!0)),Re.isRadio()&&Re.radioSkipCounter++);var t=!0;if(e&&Re.playerType===I.Cc.MOD&&(t=!Re.isLimited()),Re.previousSkipAction="next",Re.chromecast.isCasting())return Re.chromecast.executeAction("nextSong"),!0;if(e||_.A.trigger(_.A.player.trackSkipped,Re.getCurrentSong()),Re.isRadio()&&Re.getCurrentSong("GROUP")){const e=Re.getCurrentSong("GROUP");null!==Re.getNextSong()&&Re.getNextSong().GROUP===e&&me.skipByGroup()}if(Re.getRepeat()!==I.EV.SINGLE||e||Re.control.setRepeat(I.EV.ALL),Re.getRepeat()===I.EV.OFF&&Se.trackListIndex<Se.trackList.length-1)Se.trackListIndex++;else if(Re.getRepeat()===I.EV.ALL&&Se.trackListIndex<Se.trackList.length-1)Se.trackListIndex++;else if(Re.getRepeat()===I.EV.ALL&&Se.trackListIndex==Se.trackList.length-1)Se.trackListIndex=0;else if(Re.getRepeat()!==I.EV.SINGLE&&!Re.helper.isPlayingFlow())return Re.fetchRecommendations((function(r){r&&r.length?"up_next_artist"===Re.getTrackListType()?(Re.setTrackList({data:r,context:{TYPE:"up_next_artist",ID:Number(Se.recommendationsSngId)}},!0,!1),Se.trackListIndex++,Re._play(t,e)):(Re.setTrackList({data:r,context:{TYPE:"up_next_artist",ID:Number(Se.recommendationsArtId)},index:0},!1,!1),Re.setTrackListType("up_next_artist"),Re.radioStartListen(Number(Se.recommendationsSngId),"up_next_artist"),me.setIndex(0),Re.setPlayerType(I.Cc.RADIO),Re._play(t,e)):(Re.playing=!1,Re.logManager(!1),Re.setPlayerType(I.Cc.MOD),Se.trackListIndex=0,Re._play(!1,!0),fe.trigger(_.A.player.finishTrackList))})),!1;return await Re._play(t,e)}catch(e){return u.A.error(e),!1}},prevSong:async function(){try{if(x.A.intent(x.A.TIME_TO_PREVIOUS),!await Re.hasValidLicense())return!1;if(Re.chromecast.isLoading())return!1;if(ye(Re.getPlayerType()))return!1;if(Re.getMediaType()===I.zu.LIVE_STREAM)return!1;if(!Re.chromecast.isCasting()&&(0,o.A)(Re.logTrack)>0&&void 0!==Re.logTrack.stat&&(Re.logTrack.stat.prev=!0),Re.previousSkipAction="prev",Re.chromecast.isCasting())return Re.chromecast.executeAction("prevSong"),!0;if(_.A.trigger(_.A.player.trackSkipped,Re.getCurrentSong()),Re.getRepeat()===I.EV.SINGLE&&Re.control.setRepeat(I.EV.ALL),Re.getRepeat()===I.EV.OFF&&Se.trackListIndex>0)Se.trackListIndex--;else if(Re.getRepeat()===I.EV.ALL&&Se.trackListIndex>0)Se.trackListIndex--;else{if(Re.getRepeat()!==I.EV.ALL||0!=Se.trackListIndex)return!1;Se.trackListIndex=Se.trackList.length-1}return await Re._play(!0)}catch(e){return u.A.error(e),!1}},togglePause:function(){try{if(Re.chromecast.isLoading())return!1;Re.isPlaying()?(x.A.intent(x.A.TIME_TO_PAUSE),Re.control.pause()):(x.A.intent(x.A.TIME_TO_PLAY),Re.control.play())}catch(e){u.A.error(e)}},setRepeat:function(e,t){try{return!!Ie()&&(Re.repeat=e,_.A.trigger(_.A.player.repeat_changed,Re.repeat,t),f.A.set({site:{player_repeat:Re.repeat}}),Re.chromecast.isCasting()&&Re.chromecast.executeAction("repeatChanged",[Re.repeat]),!0)}catch(e){return u.A.error(e),!1}},setVolume:function(e,t){try{if(Re.chromecast.isLoading())return!1;if(ye(Re.getPlayerType()))return!1;t=t||!1,Re.volume=e,Re.trigger("audioPlayer_setVolume",[e]),_.A.trigger(_.A.player.volume_changed,Math.round(100*e)),Re.isMuted()&&e>0&&Re.control.mute(!1),Re.isMuted()||0!==e||Re.control.mute(!0),t&&T.default.set("volume",Re.volume)}catch(e){u.A.error(e)}},setShuffle:function(e){try{if(!Le())return;Re.shuffle=e,!Re.chromecast.isCasting()&&Re.getCurrentSong()&&(Re.shuffle?me.shuffle():me.unShuffle()),fe.trigger(_.A.player.shuffle_changed,Re.shuffle)}catch(e){u.A.error(e)}},mute:function(e){try{if(Re.chromecast.isLoading())return!1;if(ye(Re.getPlayerType()))return!1;if(0===Re.volume&&Re.muted)return!1;Re.muted=!Re.muted,Re.trigger("audioPlayer_mute",[e]),_.A.trigger(_.A.player.mute_changed,Re.muted)}catch(e){u.A.error(e)}},setSmartNotLike:function(){try{Re.chromecast.isCasting()||A.A.call({method:"smart_notLikeSong",data:{sng_id:Re.getCurrentSong("MEDIA_ID")}}),Re.control.nextSong()}catch(e){u.A.error(e)}},seek:function(e){x.A.intent(x.A.TIME_TO_SEEK);try{if(!Re.control.canSeek()||Re.chromecast.isCasting()&&!(0,G.ki)(L.A.getState().user))return!1;Re.trigger("audioPlayer_seek",[e]),(0,o.A)(Re.logTrack)>0&&void 0!==Re.logTrack.stat&&Re.logTrack.stat.seek++,_.A.trigger(_.A.player.seek,e)}catch(e){u.A.error(e)}},setAudioQuality:function(e){try{if(!Object.values(ee.en).includes(e))throw new Error(`Invalid quality : ${e}`);_e.quality=e}catch(e){u.A.error(e)}},getAudioQuality:function(){return _e.quality},setNormalized:function(e){const t=Boolean(e);("settings"in _e?_e.settings:_e).normalized=t,_.A.trigger(_.A.player.normalizedChanged,t)},loadLyrics:function(){if(Re.hasLyrics())if(Re.hasLoadedLyrics())_.A.trigger(_.A.lyrics.load);else{const e=Re.getCurrentSong("MEDIA_ID"),t=Re.getCurrentSong("LYRICS_ID");A.A.call({method:"song.getLyrics",data:{SNG_ID:e},success:function(e){e.LYRICS_TEXT&&(e.LYRICS_TEXT=e.LYRICS_TEXT.split(/\r\n|\r|\n/g)),Se.lyrics["LYRICS_"+t]=e,_.A.trigger(_.A.lyrics.load)}})}}},getLinkedDevice:function(){return Re.currentLinkedDevice},setLinkedDevice:function(e){if(!e)return void(Re.currentLinkedDevice=null);const{type:t,device_type:r,name:a}=e;Re.currentLinkedDevice={device_type:r,name:a,type:t}},getLyrics:function(){if(Re.hasLoadedLyrics()){const e="LYRICS_"+Re.getCurrentSong("LYRICS_ID");if(Re.hasSyncLyrics())return Se.lyrics[e].LYRICS_SYNC_JSON;const t=Se.lyrics[e].LYRICS_TEXT;return t&&t.length?t:[]}return null},getLyricsMetadata:function(){if(Re.hasLoadedLyrics()){const e="LYRICS_"+Re.getCurrentSong("LYRICS_ID");return{copyrights:Se.lyrics[e].LYRICS_COPYRIGHTS,writers:Se.lyrics[e].LYRICS_WRITERS}}return null},hasLyrics:function(){const e=Re.getCurrentSong("LYRICS_ID");return void 0!==e&&0!==e},hasLoadedLyrics:function(){if(!Re.hasLyrics())return!1;const e="LYRICS_"+Re.getCurrentSong("LYRICS_ID");return void 0!==Se.lyrics[e]},hasSyncLyrics:function(){if(!Re.hasLoadedLyrics())return!1;const e="LYRICS_"+Re.getCurrentSong("LYRICS_ID"),t=Se.lyrics[e].LYRICS_SYNC_JSON,r=(L.A.getState().user.USER.ABTEST.lyrics||{}).behaviour,a="full"!==r&&void 0!==r;return void 0!==t&&0!==t.length&&!a},logManager:function(e){try{if(Re.chromecast.isActive())return;if(void 0===e&&(e=!0),(0,o.A)(Re.logTrack)>0){let t={};if(e&&(0,o.A)(Re.logStartedTrack())>0&&(t=Re.logStartedTrack()),void 0!==Re.user_status.timestamp&&(Re.logTrack.timestamp=Re.user_status.timestamp),Re.logTrack.sng_id>0&&Re.getPlayerType()===I.Cc.MOD&&_.A.trigger(_.A.player.updateRestrictTime,Re.logTrack.lt),Re.sendLog(Re.logTrack,t),!e)return void(Re.logTrack={})}else(0,o.A)(Re.logStartedTrack())&&e&&Re.sendLog(Re.logTrack,Re.logStartedTrack());Re.logTrack=s().extend(!0,{},Re.logTrackTemplate),Re.isLimited()&&(Re.logTrack.l_30sec=1),Re.getLinkedDevice()&&(Re.logTrack.linked_devices=[Re.getLinkedDevice()]),Re.logTrack.media.id=Re.getCurrentSong("MEDIA_ID"),Re.logTrack.media.type=Re.getLogType();const t=Re.getCurrentSong("__PAYLOAD__");(0,o.A)(t)>0&&(Re.logTrack.payload=t),"inapp"===Re.getContext("TYPE")?Re.logTrack.app={id:Re.getContext("ID"),t:Re.getContext("TYPE")}:0!==Number(Re.appId)&&(Re.logTrack.app={id:Re.appId,t:Re.appType}),""!=Re.getContext("TYPE")&&(Re.logTrack.ctxt.t=Re.getContext("TYPE")),""!=Re.getContext("ID")&&(Re.logTrack.ctxt.id=Re.getContext("ID")),""!=Re.getContext("CONTEXT_ID")&&(Re.logTrack.ctxt.c=Re.getContext("CONTEXT_ID")),Re.logTrack.ts_listen=(0,G.mI)(L.A.getState().user),"live"===Re.getLogType()&&(Re.logTrack.session_id=Re.LOG_UID),Re.logTrack.type=Re.getPlayerTypeId()}catch(e){u.A.error(e)}},logStartedTrack:function(){try{let e={};return null!==Re.getCurrentSong()&&L.A.getState().user.id>0&&(e={id:Re.getCurrentSong("MEDIA_ID"),type:Re.getLogType()}),e}catch(e){u.A.error(e)}},getLogType:function(){let e=Re.getMediaType();return e===I.zu.LIVE_STREAM&&Re.getCurrentSong("MEDIA_ID")>0&&(e="live"),e===I.zu.EPISODE&&(e="talk"),e},sendLog:function(e,t){try{if(Re.chromecast.isActive())return;let r={};if((0,o.A)(e)>0)switch(!1===Re.isPaused()&&_.A.trigger(_.A.player.trackChange,{previousTrack:{id:e.media.id,type:e.media.type,offset:Re.getPosition(),duration:Re.getDuration()}}),r.params=e,r.params.is_shuffle=Re.shuffle,r.params.stream_id=d()(),Re.getRepeat()){case I.EV.ALL:r.params.repeat_type="repeat_all";break;case I.EV.SINGLE:r.params.repeat_type="repeat_one"}(0,o.A)(t)>0&&(r.next_media={media:t});const a=["MP3_128","MP3_320","MP3_64","MP3_MISC","AAC_96","FLAC","MP4_RA1","MP4_RA2","MP4_RA3"];if(r.params&&!a.includes(r.params.media.format)){const{format:e,id:t,type:a}=r.params.media||{},{id:s,t:i}=r.params.ctxt||{},n=(0,G.F6)(L.A.getState().user),o=new de.A({id:le.Ps.DEBUG_LOG_LISTEN,tags:{contextId:String(s),contextType:String(i),mediaFormat:String(e),mediaID:String(t),mediaType:String(a),userID:String(n)}});o.increment(),o.send()}return A.A.call({method:"log.listen",data:r,success:function(e){Re.token=e,!1!==Re.token&&Re.trigger("audioPlayer_setToken",[Re.token])},error:()=>{const e=A.A.getRequest({method:"log.listen",data:r});_.A.trigger(I.JW.PLAY_LOG_FAILED,{request:e})}}),!0}catch(e){u.A.error(e)}},setLogQuality(e){Re.logTrack&&Re.logTrack.media&&(Re.logTrack.media.format=e)},setLogCacheStatus(e){Re.logTrack&&Re.logTrack.stat&&(Re.logTrack.stat.sync=e?1:0)},restoreSetting:function(e){try{if(0==(0,o.A)(e))return!1;const t=Re.chromecast.isCasting()?L.A.getState().user.currentCastAudioQuality:L.A.getState().user.currentAudioQuality;return Re.volume=T.default.get("volume",.5),void 0!==e.site.player_repeat&&(Re.repeat=e.site.player_repeat),_.A.trigger(_.A.player.volume,Re.volume),_.A.trigger(_.A.player.shuffle_changed,Re.shuffle),_.A.trigger(_.A.player.repeat_changed,Re.repeat,{sync:!1}),Re.control.setVolume(Re.volume),Re.control.setAudioQuality(t),!0}catch(e){u.A.error(e)}},setAppId:function(e){try{Re.appId=e}catch(e){u.A.error(e)}},setApp:function(e){try{Re.appId=e.id,Re.appType=e.type}catch(e){u.A.error(e)}},setPropValue:function(e,t){try{if("onError"===e)return Re.control.stop(),L.A.dispatch({type:Z.f.SHOW_MODAL,name:"PLAYER_ERROR",props:{error:t,retry:()=>Re.control.play()}}),A.A.call({method:"deezer.playerLoadingError",data:{id:Re.getCurrentSong("MEDIA_ID"),type:Re.getLogType()}}),!1;if("qualityChanged"===e)return _.A.trigger(_.A.player.qualityChanged,t),!1;if("preloadComplete"===e||"preloadAborted"===e)return _.A.trigger(_.A.player[e],t),"preloadComplete"===e?Re.cached[t]=!0:delete Re.cached[t],!1;if("duration"==e&&0==t)return!1;if("loadingStats"==e)return t.partIndex<=2&&t.sngId>0&&t.sngId==Re.getCurrentSong("MEDIA_ID")&&(Re.logTrack.ls[t.partIndex]={duration:t.loadingTime,size:t.size,host:t.hostname}),!1;if("position"==e&&t>0){if(!Number.isFinite(t))return!1;if(Re.lastPosition!=Math.floor(t)&&(Re.logTrack.lt+=1,Re.getMediaType()===I.zu.LIVE_STREAM&&Re.logTrack.lt%Re.LOG_INTERVAL_LIVE_STREAM==0&&Re.logManager()),Re.lastPosition=Math.floor(t),ye(Re.getPlayerType())&&void 0!==t&&_.A.trigger(_.A.player.adsVastPlaying,{position:t}),Math.floor(t)==Re.getDuration()-20&&!Re.isLimited()&&ye(Re.getPlayerType())&&Re.getPlayerType()!==I.Cc.JINGLE){const e=Re.getNextSong();null!==e&&void 0!==e.DURATION&&e.DURATION>60&&void 0===Re.cached[e.SNG_ID]&&(Re.cached[e.SNG_ID]=!1,Re.trigger("audioPlayer_preloadTrack",[[Re.getNextSong()]]))}}if("finish"==e&&_.A.trigger(_.A.player.track_end,t),Re[e]=t,"user_status"===e){const{audio_qualities:e,license_token:r}=t,a=[ee.en.STANDARD,ee.en.HIGH];if(Re.html5.flac&&a.push(ee.en.LOSSLESS),_.A.trigger(_.A.player.licenseChanged,t),L.A.dispatch((0,K.mZ)("license_token",r)),L.A.dispatch((0,K.Ju)(e,a)),Re.user_status.limited&&L.A.getState().user.id>0&&(0,G.ki)(L.A.getState().user)){const e=new Error("user_status limited:"+Re.token);throw e.name="DZPLAYER",e}}if("string"!=typeof _.A.player[e]){const e=new Error("Unknown Event : "+JSON.stringify(arguments));throw e.name="DZPLAYER",e}_.A.trigger(_.A.player[e],t)}catch(e){u.A.error(e)}},trigger:function(e,t=[]){try{if(!1===Re.user_status.preview)return;if(Re.playerLoaded){if(Re.chromecast.isLoading())return;if(Re.chromecast.isCasting()){switch(t[0]){case"flashAction":ge(e,t);break;case"resume":Re.chromecast.executeAction("resume",t);break;default:Re.chromecast.executeAction(e,t)}return}ge(e,t)}else"audioPlayer_playTracks"===e&&_e.ready.then((()=>Re.trigger(e,t)))}catch(e){u.A.error(e)}},getOutputByContextPage:function(e){switch(e){case $.CONTEXT_PAGE_SEARCH_TAB_EPISODE:return"EPISODE";case $.CONTEXT_PAGE_SEARCH_TAB_LYRICS:return"LYRICS";default:return"TRACK"}},setForbiddenListen:function(){}};Re.html5={async init(){if(!Re.html5.supported||_e||Ae)return;if(R.A.isAllowed("cdn_metrics")&&(0,U.Ts)(),Ae=new m.A(Re),R.A.isAllowed("gapless_playback")){var e;const{default:t,DEFAULT_NORMALIZATION_TARGET:a}=await Promise.all([r.e(6005),r.e(247),r.e(7396),r.e(3831),r.e(8538)]).then(r.bind(r,"mwoR")),{isRadio:s,isWidget:i,setLogCacheStatus:n,setLogQuality:o,setPropValue:c}=Re,{user:d}=L.A.getState();return _e=new t({license:(0,G.Ay)(d),logger:(0,j.WV)({itemType:J.Wi.FEATURE,itemName:"player-logger"})?console:void 0,muted:Re.muted,normalizationTarget:null!==(e=(0,G.nd)(d))&&void 0!==e?e:a,normalized:(0,G.ZR)(d),quality:(0,G.z2)(d),volume:Re.volume,cdn:/^https/.test(self.location.origin)?`https://${h.default.get("template_host_stream_cdn_url_ssl")}`:`http://${h.default.get("template_host_stream_cdn_url")}`,fetch:ae(oe(self.fetch)),getCurrentTimestamp:()=>(0,G.mI)(d),isConnected:()=>(0,G.UJ)(d),isRadio:s,isWidget:i,mediaServiceURL:(0,j.WV)({itemType:J.Wi.CONFIG,itemName:"media-service"})||(0,G.zJ)(d),renewLicense:()=>Re.renewLicense(),renewToken:e=>Re.renewToken(e),setPropValue:(e,t)=>{var r;const[a=[]]="loading"===e?t:(null===(r=_e)||void 0===r?void 0:r.loaded.current)||[],[,s]=a;if(a.length&&(function([[{track:e},t]],{property:r,value:a}){e.type===ie.xh&&t.format===se.a_&&("loading"===r&&ne.Ay.mark(ne.ts.FETCH_REQUEST),"metadata"===r&&(ne.Ay.mark(ne.ts.FETCH_RESPONSE),ne.Ay.log({episodeId:e.id,podcastId:e.parent.id,response:206,url:t.sources[0].url||"unknown"})),"onError"===r&&(ne.Ay.mark(ne.ts.FETCH_RESPONSE),ne.Ay.log({episodeId:e.id,podcastId:e.parent.id,response:"cause"in a&&a.cause instanceof MediaError?a.cause:666,url:t.sources[0].url||"unknown"})))}([a],{property:e,value:t}),function(e,{property:t,value:r}){const[[{context:a,track:s},i]]=e;if((0,W.bU)(i))return;const n={...a,format:i.format.name,id:s.id,type:s.type};"paused"===t&&!0===r&&x.A.measure(x.A.TIME_TO_PAUSE,n),"playing"===t&&!0===r&&(x.A.measure(x.A.TIME_TO_NEXT,n),x.A.measure(x.A.TIME_TO_PLAY,n),x.A.measure(x.A.TIME_TO_PREVIOUS,n),x.A.measure(x.A.TIME_TO_RESUME,n)),"seekCompleted"===t&&x.A.measure(x.A.TIME_TO_SEEK,n)}([a],{property:e,value:t})),"loading"===e)return o(s.format.name),c("pourcentLoaded",100),c("qualityChanged",(0,Q.Nc)(s.format)),void c(e,!1);var i;"metadata"===e&&n(null===(i=_e._source)||void 0===i?void 0:i.fromCache),["metadata","muted","normalized"].includes(e)||c(e,t)}}),await _e.ready,c("playerLoaded",!0),void _.A.trigger(_.A.player.normalizedChanged,(0,G.ZR)(d))}const{default:t}=await Promise.all([r.e(247),r.e(3831),r.e(6034)]).then(r.bind(r,"lnC4"));t.TARGET=(0,G.nd)(L.A.getState().user)||t.TARGET,_e=new t(Re),Re.control.setNormalized(((e=!0)=>Boolean(e))(L.A.getState().user.USER.SETTING.site.player_normalize))},flac:(!l.A.is("safari")||l.A.satisfies({safari:">=14"}))&&self.MediaSource&&self.MediaSource.isTypeSupported&&new self.MediaSource&&(self.MediaSource.isTypeSupported(ee.bH.FLAC_IN_MP4)||self.MediaSource.isTypeSupported(ee.bH.FLAC_IN_MP4_CASE)),supported:b.$.HTML5Renderer},window.dzPlayer=Re;const Oe=Re},uDSo:(e,t,r)=>{"use strict";r.d(t,{y:()=>a});let a=function(e){return e.INIT_FEEDBACKS="feedbacks/INIT_FEEDBACKS",e.PRELOAD_FEEDBACKS="feedbacks/PRELOAD_FEEDBACKS",e.REFRESH_FAVORITES="feedbacks/REFRESH_FAVORITES",e.ADD_FEEDBACK="feedbacks/ADD_FEEDBACK",e.ADD_MULTIPLE_FEEDBACKS="feedbacks/ADD_MULTIPLE_FEEDBACKS",e.REMOVE_FEEDBACK="feedbacks/REMOVE_FEEDBACK",e.REMOVE_MULTIPLE_FEEDBACKS="feedbacks/REMOVE_MULTIPLE_FEEDBACKS",e.REMOVE_SOFT_FEEDBACK="feedbacks/REMOVE_SOFT_FEEDBACK",e.RESTORE_FEEDBACK="feedbacks/RESTORE_FEEDBACK",e.REPLACE_FEEDBACK="feedbacks/REPLACE_FEEDBACK",e.UPDATE_LAST_SEEN_DATE="feedbacks/UPDATE_LAST_SEEN_DATE",e.REORDER_FAVORITES="feedbacks/REORDER_FAVORITES",e.RESTORE_FAVORITES_ORDER="feedbacks/RESTORE_FAVORITES_ORDER",e}({})},vXsw:(e,t,r)=>{"use strict";r.d(t,{g:()=>u});var a=r("EVdn"),s=r.n(a),i=r("z+LD"),n=r("Vsul"),o=r("WmA5"),c=r("WKgy"),d=r("9yOc"),l=r("bvZM");const u={drawFormResult:function(e,t,r){try{s()("#"+e).html(r).removeClass().addClass(t).show()}catch(e){i.A.error(e)}},navigate:function(e,t){if("/"!==e.charAt(0)){if(e.includes("http")&&!0===t.externalLink)return void(0,n.A)(e,"_blank");i.A.error("NAVIGATION","path not valid",{description:"loadBox: / is missing in your path "+e}),e="/"+e}"object"!=typeof t&&(t={}),"/login.php"!==e.substr(0,10)&&"/register.php"!==e.substr(0,13)&&"/payment/paypal_unsubscribe.php"!==e&&"/confirm.php"!==e&&"/facebook.php"!==e?(s()("#ads_expand").hide().text(""),s()(".tipsy").remove(),!1!==t.forceFaceboxClose&&(s()("#sharebox").remove(),s()("#facebox_overlay").fadeOut(),void 0!==s().facebox&&s().facebox.close()),o.A.push(e)):function(e){s()("#ads_expand").hide().text(""),s()(".tipsy").remove(),s()("#sharebox").remove(),s()("#facebox_overlay").fadeOut();var t=e.split("?"),r="";void 0!==t[1]&&(r=t[1]);var a="/"+t[0]+"?checkForm="+encodeURIComponent(c.A.getState().user.checkForm)+"&"+r;if(d.A.is("mobile")||d.A.is("tablet"))return s().get(a,(function(e){s()("body").html(e)})),!0;var i=(0,l.A)();s().facebox({ajax:a}),s()("#facebox").data("uniqid",i)}(e)},goToConnection:function(){o.A.push("/login")},parseRedirectParams:function(e,t){if(window.location.search.indexOf("redirect_link")>-1&&window.location.search.indexOf("redirect_type")>-1)return window.location.search;let r="";return"object"==typeof e?("string"==typeof e.redirect_type&&(r+=`?redirect_type=${e.redirect_type}`),"string"==typeof e.redirect_link&&(r+=`&redirect_link=${e.redirect_link}`)):"/"===u.getCurrentPath()||/(login|register|signout)/.test(u.getCurrentPath())||(r=`?redirect_type=page&redirect_link=${encodeURIComponent(u.getCurrentPath(t))}`),r},getCurrentPath:function(e=!1){return o.A.location.pathname}}},vbKs:(e,t,r)=>{"use strict";r.d(t,{AT:()=>n,B6:()=>s,I6:()=>o,IV:()=>p,Iv:()=>i,KE:()=>l,aC:()=>_,cn:()=>u,h5:()=>A,jE:()=>E,mu:()=>c,ts:()=>a,v4:()=>d});const a="AppOffline",s="AppRestart",i="EndOfFlash",n="FlowSkip",o="FullExplicitContent",c="NoLogged",d="PreviewNotAllowed",l="RadioNotAllowed",u="StreamingDesktopNotAllowed",_="StreamingLimitedDuration",A="StreamingNotAllowed",p="UpdateEmail",E="WelcomeNewApp"},w2Jm:(e,t,r)=>{"use strict";r.d(t,{Dp:()=>o,YX:()=>d,qx:()=>n,r3:()=>c});var a=r("oB8A"),s=r("5G9X"),i=r("AfN5");const n=e=>e===i.zu.EPISODE?a.x.EPISODE:null,o=(e,t)=>{let r;return t===a.x.EPISODE?(r=s.vn[s.Ay.Episode],e[r]):null},c=(e,t)=>Math.ceil((t-e)/60),d=(e,t)=>Math.round(100*e/t)},xSQY:(e,t,r)=>{"use strict";r.d(t,{A:()=>j}),r("/eM8");var a=r("Oqsq"),s=r("yJX9"),i=r("JTKS");const n=[i.v.ALBUMS,i.v.ARTISTS,i.v.CHANNELS,i.v.PLAYLISTS,i.v.RADIOS,i.v.SHOWS,i.v.SONGS],o=[i.v.ARTISTS,i.v.SONGS];let c=function(e){return e.NotModified="Not modified",e}({});var d=r("g+IT"),l=r("5G9X");const u=e=>"object"==typeof e&&null!==e&&{}.hasOwnProperty.call(e,"__TYPE__")&&{}.hasOwnProperty.call(e,"DATE_FAVORITE")&&{}.hasOwnProperty.call(e,"ART_ID")&&e.__TYPE__===l.Ay.Artist&&(0,d.A)(e.DATE_FAVORITE),_=e=>"object"==typeof e&&null!==e&&{}.hasOwnProperty.call(e,"__TYPE__")&&{}.hasOwnProperty.call(e,"SNG_ID")&&e.__TYPE__===l.Ay.Song;var A=r("WBQ7");function p(e){return"object"==typeof e&&null!==e&&{}.hasOwnProperty.call(e,s.Z.favorites)&&{}.hasOwnProperty.call(e,s.Z.dislikes)}var E=r("xhuf");const g=(e,t)=>0===(0,E.A)(Object.keys(e),t).length&&0===(0,E.A)(t,Object.keys(e)).length,T=(e,t)=>`${e}_${t}`,h=(e,t)=>`${e}_${t}_order`,S=(e,t)=>{const r=A.default.get(T(e,t),null);if(function(e){if("object"!=typeof e||null===e)return!1;const t=e;return Object.keys(t).every((e=>{const r=t[e];return!!function(e){return"object"==typeof e&&null!==e&&{}.hasOwnProperty.call(e,"id")&&{}.hasOwnProperty.call(e,"timestamp")}(r)&&r.id===e}))}(r))return r;throw new Error("No (valid) feedbacks stored in local storage")},f=(e,t)=>{const r=A.default.get(h(e,t),null);if(a=r,Array.isArray(a)&&a.every((e=>"string"==typeof e)))return r;var a;throw new Error("No (valid) feedbacks order stored in local storage")},m=(e,t)=>{try{const r=S(e,t),a=f(e,t);return g(r,a)?{feedbacks:r,order:a}:{feedbacks:{},order:[]}}catch(e){return{feedbacks:{},order:[]}}},y=(e,t,r,a)=>{if(!1===g(r,a))throw new Error("Could not persist inconsistent feedbacks and order");A.default.set(T(e,t),r),A.default.set(h(e,t),a)},I=(e,t)=>{try{const r=S(e,t),a=f(e,t);return g(r,a)}catch(e){return!1}},L="feedback_checksums",R=()=>{let e;if(A.default.isset(L)&&(e=A.default.get(L)),!p(e))return null;const t={[s.Z.favorites]:{},[s.Z.dislikes]:{}};for(const r of[s.Z.favorites,s.Z.dislikes])for(const a in e[r])I(r,a)&&(t[r][a]=e[r][a]);return A.default.set(L,t),t},O=R,v=(e,t,r)=>{let a=A.default.get(L);p(a)||(a={[s.Z.favorites]:{},[s.Z.dislikes]:{}}),a[e][t]=r,A.default.set(L,a)};var C=r("mKPD");const D=e=>Date.parse(e.replace(" ","T")+".000Z")/1e3,F={[l.Ay.Album]:e=>(e=>{if("object"==typeof(t=e)&&null!==t&&{}.hasOwnProperty.call(t,"__TYPE__")&&{}.hasOwnProperty.call(t,"DATE_FAVORITE")&&{}.hasOwnProperty.call(t,"ALB_ID")&&t.__TYPE__===l.Ay.Album&&(0,d.A)(t.DATE_FAVORITE))return{id:e.ALB_ID,timestamp:D(e.DATE_FAVORITE)};var t;throw new Error("Could not normalize api feedback as an album feedback")})(e),[l.Ay.Artist]:e=>(e=>{if(u(e)||(e=>u(e))(e))return{id:e.ART_ID,timestamp:D(e.DATE_FAVORITE)};throw new Error("Could not normalize api feedback as an artist feedback")})(e),[l.Ay.Channel]:e=>(e=>{if("object"==typeof(t=e)&&null!==t&&{}.hasOwnProperty.call(t,"__TYPE__")&&{}.hasOwnProperty.call(t,"DATE_FAVORITE")&&{}.hasOwnProperty.call(t,"ID")&&t.__TYPE__===l.Ay.Channel&&(0,d.A)(t.DATE_FAVORITE))return{id:e.ID,timestamp:D(e.DATE_FAVORITE)};var t;throw new Error("Could not normalize api feedback as a channel feedback")})(e),[l.Ay.Playlist]:e=>(e=>{if("object"==typeof(t=e)&&null!==t&&{}.hasOwnProperty.call(t,"__TYPE__")&&{}.hasOwnProperty.call(t,"DATE_FAVORITE")&&{}.hasOwnProperty.call(t,"PLAYLIST_ID")&&(!1==={}.hasOwnProperty.call(t,"LAST_SEEN")||(0,d.A)(t.LAST_SEEN))&&(0,d.A)(t.DATE_FAVORITE)&&t.__TYPE__===l.Ay.Playlist)return{id:e.PLAYLIST_ID,timestamp:D(e.DATE_FAVORITE),lastSeen:D(e.LAST_SEEN||e.DATE_FAVORITE)};var t;throw new Error("Could not normalize api feedback as a playlist feedback")})(e),[l.Ay.Radio]:e=>(e=>{if("object"==typeof(t=e)&&null!==t&&{}.hasOwnProperty.call(t,"__TYPE__")&&{}.hasOwnProperty.call(t,"DATE_FAVORITE")&&{}.hasOwnProperty.call(t,"RADIO_ID")&&t.__TYPE__===l.Ay.Radio&&(0,d.A)(t.DATE_FAVORITE))return{id:e.RADIO_ID,timestamp:D(e.DATE_FAVORITE)};var t;throw new Error("Could not normalize api feedback as a radio feedback")})(e),[l.Ay.Show]:e=>(e=>{if("object"==typeof(t=e)&&null!==t&&{}.hasOwnProperty.call(t,"__TYPE__")&&{}.hasOwnProperty.call(t,"DATE_FAVORITE")&&{}.hasOwnProperty.call(t,"SHOW_ID")&&t.__TYPE__===l.Ay.Show&&(0,d.A)(t.DATE_FAVORITE))return{id:e.SHOW_ID,timestamp:D(e.DATE_FAVORITE)};var t;throw new Error("Could not normalize api feedback as a show feedback")})(e),[l.Ay.Song]:e=>(e=>{if(_(t=e)&&{}.hasOwnProperty.call(t,"DATE_FAVORITE")&&Number.isInteger(t.DATE_FAVORITE))return{id:e.SNG_ID,timestamp:e.DATE_FAVORITE};var t;if((e=>_(e)&&{}.hasOwnProperty.call(e,"DATE_FAVORITE")&&(0,d.A)(e.DATE_FAVORITE))(e))return{id:e.SNG_ID,timestamp:D(e.DATE_FAVORITE)};throw new Error("Could not normalize api feedback as a song feedback")})(e)},G=(e,t)=>{if(F[t])try{return F[t](e)}catch(e){return null}return null},K=(e,t)=>{const r={},a=[];for(const s of e){const e=G(s,t);e&&(r[e.id]=e,a.push(e.id))}return{feedbacks:r,order:a}};var V=r("nrKQ");const B=(e,t=0,r=null)=>new Promise(((a,s)=>{e!==l.Ay.Song&&s(new Error(`Fetching favorites of type ${e} is not supported`)),V.A.batch({method:"song.getFavoriteIds",data:{checksum:r},batchSize:1e4,offsetStart:t}).run().then((e=>{a(e)}))}));var H=r("tZCQ");const Y=e=>{const t={[i.A.FAVORITES]:{},[i.A.DISLIKES]:{}};for(const[r,a]of Object.entries(e[s.Z.favorites])){const e=(0,C.or)(r);t[i.A.FAVORITES][e]=a}for(const[r,a]of Object.entries(e[s.Z.dislikes])){const e=(0,C.or)(r);t[i.A.DISLIKES][e]=a}return t},z=(e,t)=>{if(!(e=>n.includes(e))(t))return{feedbacks:{},order:[]};const r=(0,C.Yh)(t);if(void 0===r)return{feedbacks:{},order:[]};const a=e[i.A.FAVORITES][t];if(void 0===a)return{feedbacks:{},order:[]};if(a===c.NotModified)return m(s.Z.favorites,r);const o=K(a.data,r);try{y(s.Z.favorites,r,o.feedbacks,o.order)}catch(e){return{feedbacks:{},order:[]}}return v(s.Z.favorites,r,a.checksum),o},X=(e,t)=>{if(!(e=>o.includes(e))(t))return{feedbacks:{},order:[]};const r=(0,C.Yh)(t);if(void 0===r)return{feedbacks:{},order:[]};const a=e[i.A.DISLIKES][t];if(void 0===a)return{feedbacks:{},order:[]};if(a===c.NotModified)return m(s.Z.dislikes,r);const n=K(a.data,r);try{y(s.Z.dislikes,r,n.feedbacks,n.order)}catch(e){return{feedbacks:{},order:[]}}return v(s.Z.dislikes,r,a.checksum),n},j={getUserFeedbacks:()=>new Promise(((e,t)=>{(()=>{const e=O();return new Promise(((t,r)=>{V.A.call({method:"user.getAllFeedbacks",data:{checksums:e?Y(e):null},success:e=>{if(H.A.isAllowed("unlimited_favorite_tracks")){const s=e[i.A.FAVORITES][i.v.SONGS];if(!s||s===c.NotModified)return void t(e);const{count:n,filtered_count:o,total:d}=s;n+o<d?B(l.Ay.Song,n+o).then((r=>{if(r===c.NotModified)return void t(e);const n={count:s.count+r.count,total:s.total,filtered_count:s.filtered_count+r.count,data:s.data.concat(r.data),checksum:s.checksum};(0,a.A)(e,`${i.A.FAVORITES}.${i.v.SONGS}`,n),t(e)})).catch((e=>r(e))):t(e)}else t(e)},error:()=>r(new Error("Failed to retrieve user feedbacks"))})}))})().then((t=>{e((e=>{const t={[s.Z.favorites]:{},[s.Z.dislikes]:{}};for(const r of n){const a=(0,C.Yh)(r);void 0!==a&&(t[s.Z.favorites][a]=z(e,r))}for(const r of o){const a=(0,C.Yh)(r);void 0!==a&&(t[s.Z.dislikes][a]=X(e,r))}return t})(t))})).catch((e=>t(e)))})),getFavorites:e=>new Promise(((t,r)=>{const a=((e,t)=>{const r=R();return r&&r[e]&&r[e][t]?r[e][t]:null})(s.Z.favorites,e);B(e,0,a).then((i=>{if(i===c.NotModified){if(null===a)return void r(new Error(`Cannot resolve favorites of type ${e}, list seems not modified, but checksum is null`));const i=m(s.Z.favorites,e);return void t(i)}const n=K(i.data,e);try{y(s.Z.favorites,e,n.feedbacks,n.order)}catch(e){r(e)}v(s.Z.favorites,e,i.checksum),t(n)})).catch((e=>r(e)))})),saveFavorite:(e,t,r)=>new Promise(((a,s)=>{let i;try{i=((e,t,r)=>{switch(t){case l.Ay.Album:return{method:"album.addFavorite",data:{ALB_ID:e,CTXT:r}};case l.Ay.Artist:return{method:"artist.addFavorite",data:{ART_ID:e,CTXT:r}};case l.Ay.Channel:return{method:"favorite_channel.add",data:{CHANNEL_ID:e,CTXT:r}};case l.Ay.Playlist:return{method:"playlist.addFavorite",data:{PARENT_PLAYLIST_ID:e,CTXT:r}};case l.Ay.Radio:return{method:"radio.addFavorite",data:{RADIO_ID:e,CTXT:r}};case l.Ay.Show:return{method:"show.addFavorite",data:{SHOW_ID:e,CTXT:r}};case l.Ay.Song:return H.A.isAllowed("unlimited_favorite_tracks")?{method:"song.addFavorites",data:{IDS:[e],CTXT:r}}:{method:"favorite_song.add",data:{SNG_ID:e,CTXT:r}};case l.Ay.User:return{method:"friend.follow",data:{friend_id:e,ctxt:r}};default:throw new Error(`Not supported favorite type "${t}"`)}})(e,t,r)}catch(e){return void s(e)}V.A.call({...i,success:r=>{!1===r&&s(new Error(`Failed to add ${t} "${e}" to user favorites`)),a()},error:r=>{r.message=`Failed to add ${t} "${e}" to user favorites`,s(r)}})})),saveMultipleFavorites:(e,t,r)=>new Promise(((a,s)=>{let i;try{i=((e,t,r)=>{if(t===l.Ay.Song){if(!H.A.isAllowed("unlimited_favorite_tracks"))throw new Error(`Not supported favorite type "${t}"`);return{method:"song.addFavorites",data:{IDS:e,CTXT:r}}}throw new Error(`Not supported favorite type "${t}"`)})(e,t,r)}catch(e){return void s(e)}V.A.call({...i,success:e=>{!1===e&&s(new Error(`Failed to add multiple ${t} to user favorites`)),a()},error:e=>{e.message=`Failed to add multiple ${t} to user favorites`,s(e)}})})),removeFavorite:(e,t,r)=>new Promise(((a,s)=>{let i;try{i=((e,t,r)=>{switch(t){case l.Ay.Album:return{method:"album.deleteFavorite",data:{ALB_ID:e,CTXT:r}};case l.Ay.Artist:return{method:"artist.deleteFavorite",data:{ART_ID:e,CTXT:r}};case l.Ay.Channel:return{method:"favorite_channel.remove",data:{CHANNEL_ID:e,CTXT:r}};case l.Ay.Playlist:return{method:"playlist.deleteFavorite",data:{PLAYLIST_ID:e,CTXT:r}};case l.Ay.Radio:return{method:"radio.deleteFavorite",data:{RADIO_ID:e,CTXT:r}};case l.Ay.Show:return{method:"show.deleteFavorite",data:{SHOW_ID:e,CTXT:r}};case l.Ay.Song:return H.A.isAllowed("unlimited_favorite_tracks")?{method:"song.removeFavorites",data:{IDS:[e],CTXT:r}}:{method:"favorite_song.remove",data:{SNG_ID:e,CTXT:r}};case l.Ay.User:return{method:"friend.unfollow",data:{friend_id:e,ctxt:r}};default:throw new Error(`Not supported favorite type "${t}"`)}})(e,t,r)}catch(e){return void s(e)}V.A.call({...i,success:r=>{!1===r&&s(new Error(`Failed to remove ${t} "${e}" from user favorites`)),a()},error:()=>s(new Error(`Failed to remove ${t} "${e}" from user favorites`))})})),removeMultipleFavorites:(e,t,r)=>new Promise(((a,s)=>{let i;try{i=((e,t,r)=>{if(t===l.Ay.Song)return H.A.isAllowed("unlimited_favorite_tracks")?{method:"song.removeFavorites",data:{IDS:e,CTXT:r}}:{method:"favorite_song.removeMulti",data:{SNG_IDS:e,CTXT:r}};throw new Error(`Not supported favorite type "${t}"`)})(e,t,r)}catch(e){return void s(e)}V.A.call({...i,success:e=>{!1===e&&s(new Error(`Failed to remove multiple ${t} from user favorites`)),a()},error:()=>s(new Error(`Failed to remove multiple ${t} from user favorites`))})})),replaceFavorite:(e,t,r)=>new Promise(((a,s)=>{let i;try{i=((e,t,r)=>{if(e!==l.Ay.Song)throw new Error(`Cannot replace favorite of type ${e}`);return{method:"favorite_song.recoverSong",data:{old_sng_id:t,new_sng_id:r}}})(e,t,r)}catch(e){return void s(e)}V.A.call({...i,success:i=>{!1===i&&s(new Error(`Failed to replace ${e} "${t}" by ${r} in user's favorites`)),a()},error:()=>s(new Error(`Failed to replace ${e} "${t}" by ${r} in user's favorites`))})})),saveDislike:(e,t,r)=>new Promise(((a,s)=>{let i;try{i=((e,t,r)=>({method:"favorite_dislike.add",data:{ID:e,TYPE:t,CTXT:r}}))(e,t,r)}catch(e){return void s(e)}V.A.call({...i,success:r=>{!1===r&&s(new Error(`Failed to add ${t} "${e}" to user dislikes`)),a()},error:r=>{r.message=`Failed to add ${t} "${e}" to user dislikes`,s(r)}})})),removeDislike:(e,t,r)=>new Promise(((a,s)=>{let i;try{i=((e,t,r)=>({method:"favorite_dislike.remove",data:{ID:e,TYPE:t,CTXT:r}}))(e,t,r)}catch(e){return void s(e)}V.A.call({...i,success:r=>{!1===r&&s(new Error(`Failed to remove ${t} "${e}" from user dislikes`)),a()},error:()=>s(new Error(`Failed to remove ${t} "${e}" from user dislikes`))})})),removeMultipleDislikes:(e,t)=>new Promise(((r,a)=>{let s;try{s=((e,t)=>({method:"favorite_dislike.removeMulti",data:{IDS:e,TYPE:t}}))(e,t)}catch(e){return void a(e)}V.A.call({...s,success:e=>{!1===e&&a(new Error(`Failed to remove multiple ${t} from user dislikes`)),r()},error:()=>a(new Error(`Failed to remove multiple ${t} from user dislikes`))})})),reorderFavorites:(e,t)=>new Promise(((r,a)=>{let s;try{s=((e,t)=>{if(e!==l.Ay.Song)throw new Error(`Cannot reorder favorites of type ${e}`);return{method:"song.reorderFavorites",data:{order:t}}})(e,t)}catch(e){return void a(e)}V.A.call({...s,success:t=>{!1===t&&a(new Error(`Failed to reorder favorites of type ${e}`)),r()},error:()=>a(new Error(`Failed to reorder favorites of type ${e}`))})})),updateFavoriteLastSeenDate:(e,t)=>new Promise(((r,a)=>{let s;try{s=((e,t)=>{if(e!==l.Ay.Playlist)throw new Error(`Cannot replace favorite of type ${e}`);return{method:"playlist.setSeen",data:{playlist_id:t}}})(e,t)}catch(e){return void a(e)}V.A.call({...s,success:s=>{!1===s&&a(new Error(`Failed to update last seen date of ${e} "${t}"`)),r()},error:()=>a(new Error(`Failed to update last seen date of ${e} "${t}"`))})})),normalize:K}},y7Wb:(e,t,r)=>{"use strict";r.d(t,{UZ:()=>d,in:()=>c,j$:()=>l,mx:()=>u,sS:()=>_});var a=r("WeLa"),s=r("HvqQ"),i=r("VakI"),n=r("p2PB");const o=e=>({type:i.S.SET_CURRENT_EVENT,eventName:e}),c=()=>({type:i.S.REMOVE_CURRENT_EVENT}),d=()=>({type:i.S.APP_CUSTO_AS_LAUNCHED}),l=()=>(e,t)=>{const{appCusto:{launched:r}}=t();r&&e(u())},u=()=>(e,t)=>{(0,a.Cn)((r=>{const{appCusto:{launched:a}}=t();var s;e((e=>({type:i.S.EVENTS_UPDATED,response:e}))(r)),e((s=!a,(e,t)=>{const{appCusto:{launched:r}}=t();r&&!s||e(o(n.Sc.APP_LAUNCH))}))}))},_=e=>(t,r)=>{const{appCusto:a}=r(),n=(0,s.lm)({appCusto:a},e)&&(0,s.Oe)({appCusto:a},e);return n&&t(o(e)),t((e=>({type:i.S.UPDATE_EVENT_RULE,eventName:e}))(e)),n}},y7xR:(e,t,r)=>{"use strict";r.d(t,{D:()=>d});var a=r("nKUr"),s=r("p1Zg"),i=r("8EFB"),n=r("xi32"),o=r("JFGw"),c=r("IRKz");const d=(0,n.R)((function(e,t){const r=(0,o.V)("Heading",e),{className:n,...d}=(0,s.M)(e);return(0,a.jsx)(c.B.h2,{ref:t,className:(0,i.cx)("chakra-heading",e.className),...d,__css:r})}));d.displayName="Heading"},yJX9:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});let a=function(e){return e.favorites="favorites",e.dislikes="dislikes",e}({})},yiM3:(e,t,r)=>{"use strict";r.d(t,{L:()=>i,t:()=>n}),r("EV0h"),r("gS5K");var a=r("Q8Ug"),s=r("Vd8Q");const i=e=>{const r=new URL(`https://${s.default.get("host_account")}`);r.pathname=`/en${e}`,window.open(r.href)};function n({route:e,redirect:t,comeback:r=!1,query:i}){const n=location.pathname.split("/")[1];if(t&&!/https?:\/\//.test(t)){const[e,r]=t.split("?"),a=new URL(location.href);a.pathname=e,new URLSearchParams(r).forEach(((e,t)=>a.searchParams.append(t,e))),t=a.href}const o=new URL(`https://${s.default.get("host_account")}`);i&&Object.entries(i).forEach((([e,t])=>o.searchParams.set(e,t))),t&&o.searchParams.set("redirect_uri",t),r&&o.searchParams.set("redirect_uri",location.href);const c=2===n.length?(0,a._C)(n):"en";return o.pathname=`/${c}/${"login"===e?e:"signup"}`,o.href}},yyc2:(e,t,r)=>{"use strict";r.d(t,{A:()=>c});var a=r("H/eQ"),s=r("Vd8Q"),i=r("z+LD"),n=r("WKgy");const o={initialized:!1,socket:null,channels:[],connected:!1,ticker_nb:0,server_timestamp:0,online_count:0,lastFeed:"",ws_close_codes:{normal:1e3},ws_ready_state:{connecting:0,open:1,closing:2,closed:3},init:function(){a.A.ready(a.A.store.ready,(()=>"undefined"==typeof window||!("WebSocket"in window)||2!==window.WebSocket.CLOSING||(o.initialized=!0,o.checkConnectionScheduler(),!0)))},checkConnectionScheduler:function(){o.checkConnection(),setTimeout(o.checkConnectionScheduler,1e4)},checkConnection:function(){void 0!==n.A.getState().user.USER_TOKEN&&(null!==o.socket&&o.socket.readyState!==o.ws_ready_state.closed||o.connect())},connect:function(){null!==o.socket&&(o.close(),delete o.socket);const e="https:"===window.location.protocol||!0,t=`${e?"wss://":"ws://"}${e?s.default.get("host_live_ssl"):s.default.get("host_live")}/ws/${n.A.getState().user.USER_TOKEN}?version=${s.default.get("releaseNumeric")}`;return o.socket=new WebSocket(t),o.socket.onopen=function(){for(var e in o.connected=!0,o.channels)({}).hasOwnProperty.call(o.channels,e)&&o.subscribe(e);a.A.trigger(a.A.live.connected)},o.socket.onclose=function(){o.connected=!1},o.socket.onmessage=function(e){o.onMsg(e.data)},o.socket.onerror=function(){},!0},disconnect:function(){return!o.connected||(o.channels=[],o.connected=!1,o.close(),!0)},close:function(){try{o.socket.close(o.ws_close_codes.normal)}catch(e){i.A.error(e)}},addChannel:function(e){return void 0!==e&&""!==e&&(o.addInternalChannel(e),o.subscribe(e),!0)},addInternalChannel:function(e){return void 0!==e&&""!==e&&(o.channels[e]=!0,!0)},deleteChannel:function(e){return void 0!==e&&""!==e&&void 0!==o.channels[e]&&(delete o.channels[e],o.unsubscribe(e))},subscribe:function(e){return!!o.initialized&&!!o.connected&&o.socket.send(JSON.stringify(["sub",e]))},unsubscribe:function(e){return!!o.initialized&&!!o.connected&&o.socket.send(JSON.stringify(["unsub",e]))},publish:function(e,t){return!!o.initialized&&!!o.connected&&o.socket.send(JSON.stringify(["send",e,t]))},onMsg:function(e){try{if(void 0===e||0===e.length)return!1;if("msg"!==(e=JSON.parse(e))[0])return!1;o.dispatch([e[2],0])}catch(e){i.A.error(e)}return!0},dispatch:function(e){try{if("object"!=typeof e||0===e.length)return i.A.error({message:"live.dispatch: Message not valid",description:e||null}),!1;if("newCloudId"in e[0]&&"previousCloudId"in e[0])return a.A.trigger(a.A.live.cbql,e),!0;if(void 0===e[0].APP)return!1;var t=e[0].APP.toLowerCase();if("string"!=typeof a.A.live[t])return!1;a.A.trigger(a.A.live[t],e)}catch(e){i.A.error(e)}return!0}},c=o},zCrf:(e,t,r)=>{"use strict";r.d(t,{SM:()=>h,bm:()=>m,d0:()=>f,lj:()=>T,mF:()=>g,w8:()=>y}),r("WpbS"),r("/eM8");var a=r("XiPH"),s=r("7+7Q"),i=r("3R0U"),n=r("qlH3"),o=r("nrKQ"),c=r("tZCQ"),d=r("5G9X"),l=r("HGOC"),u=r("OPhi"),_=r("ISNy");let A=!1;const p=[];function E(e){return{...e.DATA,...e}}const g=e=>t=>new Promise(((r,s)=>{A=!0;const i=o.A.call({method:"deezer.pageTrack",data:{sng_id:e.id},success:s=>{const i=(0,a.S8)(E({...s,partial:!1}),l.A);t({type:n.z.FETCHED_TRACK,id:e.id,data:i}),A=!1,r()},error:e=>{A=!1,s(e)}});p.push(i)})),T=e=>({type:n.z.UPDATE_PERSONAL_TRACK,data:e}),h=e=>async(t,r)=>{const s=(0,_.UE)(r().entities,e);!s||s.partial?e.rehydrateData?t({type:n.z.REHYDRATED_TRACK,id:e.id,data:(0,a.S8)(E({...e.rehydrateData,partial:!1}),l.A)}):A||await t(g(e)):t({type:n.z.FETCHED_TRACK_FROM_CACHE,id:e.id})},S=(e,t,r,i)=>n=>new Promise(((d,u)=>{if(c.A.isAllowed("unlimited_favorite_tracks_parallel_fetch")){let n=[];for(;e.length>0;){const r=e.splice(0,t);n.push(o.A.callAsync({method:"song.getListData",data:{sng_ids:r},cachingPolicy:i}).catch((e=>{u(e)})))}return void Promise.all(n).then((e=>{const t=e.reduce(((e,t)=>(0,s.A)(e,...((null==t?void 0:t.data)||[]).map((e=>r?{...e,DATE_ADD:r}:{...e})).map((e=>(0,a.S8)(E(e),l.A))))),{});d(t)}))}const _=e.splice(0,t);0===_.length&&d();const A=o.A.call({method:"song.getListData",data:{sng_ids:_},cachingPolicy:i,error:e=>{u(e)},success:o=>{const c=(0,s.A)({},...o.data.map((e=>r?{...e,DATE_ADD:r}:{...e})).map((e=>(0,a.S8)(E(e),l.A))));e.length>0?n(S(e,t,r,i)).then((e=>{d((0,s.A)({},c,e))})).catch((e=>u(e))):d(c)}});p.push(A)})),f=(e,t=null)=>(r,a)=>new Promise(((s,i)=>{const o=a().entities,c=null!==t?e.ids:e.ids.map((e=>(!(0,_.UE)(o,{id:e})||!(0,_.UE)(o,{id:e}).ALB_ID)&&e)).filter(Boolean).filter(((e,t,r)=>r.indexOf(e)===t));return c.length?(r({id:c,type:n.z.FETCH_TRACKS}),r(S(c.slice(),500,e.DATE_ADD||null,t)).then((e=>{r({type:n.z.FETCH_TRACKS_SUCCESS,id:c,data:e}),s()})).catch((e=>{r({type:n.z.FETCH_TRACKS_FAILURE,id:c,error:e}),i(e)}))):s()})),m=({start:e,nb:t},r={cacheUsage:i.u.READ_ONLY})=>async(a,s)=>{const i=(0,u.ZL)(s().feedbacks,d.Ay.Song).slice(e,e+t);return await a(f({ids:i},r)),i};function y(){p.forEach(o.A.cancel),A=!1}}}]);