"use strict";(self.webpackJsonpDeezer=self.webpackJsonpDeezer||[]).push([[2943],{"/k3D":(e,t,a)=>{a.d(t,{A:()=>y});var l=a("q1tI"),i=a("TRpf"),r=a("juqV"),s=a("oB8A"),n=a("RuKb"),o=a("xobL"),c=a("Wp0Y"),d=a("/5X2"),u=a("x4+n"),m=a("BJtZ");const p={root:"DqHx5","is-active":"fK3zp",isActive:"fK3zp",label:"TtjAg","is-disabled":"fRaWU",isDisabled:"fRaWU","is-restricted":"LjckW",isRestricted:"LjckW",date:"PTTQH",remaining:"wdZ0W",progress:"OaVz_","progress-inner":"BFn78",progressInner:"BFn78"};var E=a("iiSH"),A=a("w2Jm");const y=({date:e,duration:t})=>{const{id:a}=l.useContext(d.gy),[y,h]=(0,i.d4)((e=>[(0,n.v6)(e.bookmarks,s.x.EPISODE,a),(0,o.mI)({SERVER_TIMESTAMP:(0,o.mS)(e.user),clientTimestampDelta:(0,o.gE)(e.user)})])),g=(0,r.A)(p.root,(0,m.A)(p));return l.createElement("div",{className:g},l.createElement("div",{className:p.date,"data-testid":"added"},(0,u.E)(e,h)||E.fs),(()=>{if(y&&!(t<=0)&&(y.ongoing||y.played))return l.createElement("div",{className:p.remaining},(()=>{if(!y||!y.ongoing||t<=0)return;const e=(0,A.r3)(y.offset,t);return l.createElement("div",{"data-testid":"duration-left"},(0,c.WI)("timecounter_text_XminleftUPP_web","timecounter_text_XminleftUPP_web",{sprintf:[e],count:e}))})(),(()=>{if(!y||y.notPlayed||t<=0)return;if(y.played)return l.createElement("div",null,(0,c.AP)("podcastpage_title_playedUPP_web"));const e=(0,A.YX)(y.offset,t);return l.createElement("div",{"data-testid":"progress",className:p.progress},l.createElement("div",{className:p.progressInner,style:{width:`${e}%`}}))})())})())}},"145D":(e,t,a)=>{a.d(t,{c:()=>i});var l=a("STEc");const i={TITLE:{SIZE:l.uq.Full},PARENT:{SIZE:l.uq.xxl},DATE:{BREAKPOINT:l.x1.xs,SIZE:l.uq.xxl},DURATION:{SIZE:l.uq.sm}}},"3AbJ":(e,t,a)=>{a.d(t,{A:()=>s}),a("/eM8");var l=a("q1tI"),i=a("iiSH"),r=a("t08u");const s=(e,t,a,s,n,o=i.XQ,c=i.ww)=>{const[d,u]=(0,l.useState)(!1),[m,p]=(0,l.useState)(!1),{triggerTracking:E}=(0,r.A)(n.TYPE),A=(0,l.useCallback)((async()=>{a||d||m||(p(!0),await e({id:t,start:s,nb:c}),p(!1),E({action:"fetch",eventaction:"fetch-"+(c>i.ww?"all":"next")}))}),[c,t,a,d,m,s,e,E]),y=(0,l.useCallback)((async()=>{a||(u(!0),await e({id:t,start:s,nb:o}),u(!1),E({action:"fetch",eventaction:"fetch-all"}))}),[t,a,o,s,e,E]);return{loadingStatus:{isLoadingNext:m,isLoadingAll:d,isFullyFetched:a},fetchNext:A,fetchAll:y}}},"4Rw2":(e,t,a)=>{a.d(t,{T:()=>i,c:()=>r});const l=a("Vd8Q").default.get("log_contexts"),i=e=>null!=e&&("number"==typeof e.ID||"string"==typeof e.ID)&&"string"==typeof e.TYPE,r=(e,t)=>String(e.ID)===String(t.ID)&&l[e.TYPE]===l[t.TYPE]},"7u2F":(e,t,a)=>{a.d(t,{A:()=>n}),a("/eM8");var l=a("q1tI"),i=a("xhuf"),r=a("LWGD"),s=a("t08u");const n=(e,t,a)=>{const{triggerTracking:n}=(0,s.A)(t.TYPE),[o,c]=(0,l.useState)([]),d=(0,l.useRef)(!1),u=(0,l.useMemo)((()=>{const t={};return e.toDisplay.forEach((e=>t[e.uuid]=e)),t}),[e.toDisplay]),m=Object.keys(u),p=(0,l.useMemo)((()=>{const e=(0,i.A)(o,m);return e.length>0?(0,r.A)(o,...e):o}),[m,o]);d.current&&0===o.length&&(d.current=!1),d.current&&m.length>o.length&&c(m),p.length!==o.length&&c(p);const E=(0,l.useCallback)((()=>o.map((e=>u[e]))),[u,o]),A=(0,l.useCallback)((()=>o.length),[o.length]),y=(0,l.useCallback)((()=>{const e={},t=E(),a=[];return t.forEach((t=>{const l=t.item.id;void 0===e[l]&&(a.push(l),e[l]=!0)})),a}),[E]),h=(0,l.useCallback)((e=>o.includes(e)),[o]),g=(0,l.useCallback)(((e,t,a,l=0)=>{h(a)?(d.current=!1,c(o.filter((e=>e!==a)))):(m.length===o.length+1&&(d.current=!0),c([...o,a])),n({action:"select",item:{id:e,rank:l,type:t}})}),[m.length,h,o,n]),v=(0,l.useCallback)((async()=>{o.length>0?(d.current=!1,c([])):("function"==typeof a&&await a(),d.current=!0,c(m)),n({action:"select",eventaction:"select-all"})}),[m,a,o.length,n]);return{getSelectedItems:E,getSelectedItemsCount:A,getSelectedTrackIds:y,isSelected:h,toggleSelect:g,toggleSelectAll:v}}},BP9I:(e,t,a)=>{a.d(t,{A:()=>y});var l=a("q1tI"),i=a("HmE0"),r=a("PF77"),s=a("5Loq"),n=a("6R6N"),o=a("iuq8"),c=a("xCFc"),d=a("t08u"),u=a("5G9X"),m=a("1Pdy");var A;const y=({rowCount:e})=>{const{container:t,context:a,options:y,isPersonalFavoritesSongs:h,select:g}=(0,c.$A)(),{triggerTracking:v}=(0,d.A)(a.TYPE),_=g&&g.getSelectedItemsCount()||0,b=g&&g.getSelectedTrackIds()||[],I=1===_?g&&g.getSelectedItems()[0].item.legacy:{},S=(0,l.useCallback)((()=>{g&&g.toggleSelectAll()}),[g]),T=(0,l.useCallback)((()=>{v({action:"menu",eventaction:`menu-multi-${_}`})}),[_,v]),P={anchor:l.createElement(i.K0,{"aria-label":"open-menu","aria-haspopup":!0,icon:A||(A=l.createElement(s.j,null)),onClick:T,size:"sm",variant:"ghost"}),context:a,data:{...I,[u.vn[t.type]]:t.id,IS_DELETABLE:y.includes(m.Rj.Delete)&&!h},hasHeader:!0,id:b};return l.createElement("div",{className:"kjb5O"},_>0&&l.createElement("div",{className:"l5ll1"},l.createElement(o.A,P)),l.createElement(n.A,null,l.createElement(r.S,{isChecked:_>0,onChange:S,isIndeterminate:_>0&&_<e})))}},D6Uc:(e,t,a)=>{a.d(t,{A:()=>p}),a("/eM8");var l=a("q1tI"),i=a("TRpf"),r=a("Wp0Y"),s=a("e2eG"),n=a("WmA5"),o=a("GkjM"),c=a("MG7B"),d=a("4liH"),u=a("ntT5");class m extends l.Component{render(){const e=(0,r.AP)("Aucun résultat pour «<strong>%s</strong>»",{sprintf:[" "+(0,c.A)(this._getQueryTitle(this.props.query))+" "]});return l.createElement("div",{className:"page-naboo-search",id:"page_search_noresult"},l.createElement("div",{className:"search-header"},l.createElement("div",{className:"container"},l.createElement("h1",{className:"heading-1 ellipsis",dangerouslySetInnerHTML:{__html:e}}),this._renderSubtitle())),this._renderResults())}_renderSubtitle(){const{query:e,revisedQuery:t,alternativeQueries:a}=this.props;if(t)return l.createElement("h2",{className:"heading-4 ellipsis"},(0,r.AP)("Afficher les résultats pour :")+" ",l.createElement(o.A,{key:t,className:"link-primary",to:"/search/"+encodeURIComponent(t),onClick:this._onSearchWithoutRevision.bind(this,t,e,u.FU)},t));if(a.length){let t=a.map((t=>{const a=t.REVISED_QUERY;return l.createElement(o.A,{key:e,className:"link-primary",to:"/search/"+encodeURIComponent(a),onClick:this._onSearchWithoutRevision.bind(this,a,e,u.SC)},a)}));return l.createElement("h2",{className:"heading-4 ellipsis"},(0,r.AP)("Essayez quand même avec")+" "," ",t)}return l.createElement("h2",{className:"heading-2"},(0,r.AP)("search_subtitle_whynotexploresomeotheroptions_web"))}_renderResults(){const e=l.lazy((()=>Promise.all([a.e(4201),a.e(9537),a.e(21),a.e(6491),a.e(5310),a.e(18),a.e(7805),a.e(7477),a.e(1421),a.e(737),a.e(555),a.e(5665),a.e(9842),a.e(5950),a.e(7827),a.e(2838),a.e(5348),a.e(7450),a.e(1550)]).then(a.bind(a,"fXUk"))));return l.createElement("div",{className:"search-results"},l.createElement(l.Suspense,{fallback:null},l.createElement(e,{location:n.A.location})))}_onSearchWithoutRevision(e,t,a){(0,u.Uw)(t,e,a,d.d0),this.props.isAuth&&s.A.addSearchHistory(e)}_getQueryTitle(e){return e?0===e.indexOf("+")&&e.length>1?e.substr(1,e.length):e:null}}m.defaultProps={alternativeQueries:[]};const p=(0,i.Ng)((({user:e})=>({isAuth:e.isAuth})))(m)},EZyQ:(e,t,a)=>{a.d(t,{A:()=>f});var l,i,r,s=a("q1tI"),n=a("fSLK"),o=a("lXQd"),c=a("o+h5"),d=a("Qdkb"),u=a("xCFc"),m=a("pQlO"),p=a("0oF4"),E=a("r4LN"),A=a("wkd/"),y=a("PJQK"),h=a("1Uwb"),g=a("tgyz"),v=a("Wp0Y"),_=a("CxZw"),b=a("5G9X"),I=a("SehT"),S=a("0JBE"),T=a("GjdC"),P=a("A2sV"),C=a("tZCQ");const f=(0,s.memo)((0,S.S2)((({data:e,index:t,style:a})=>{const{context:n,container:S,shouldExplicitBeHidden:f}=(0,u.$A)(),{playerStatus:k,play:R,isItemLoadedInPlayer:x}=(0,g.A)(n,S,!0),w=(0,T.A)(),[L]=(0,P.ovp)(),[N]=(0,P.kuS)(),[D]=(0,P.QNb)(),U=e.toDisplay[t],O=U.item.hasExplicitLyrics&&f,B=(0,s.useCallback)((e=>{e&&!k.isPaused||w("grid_play"),C.A.isAllowed("search_refacto_2024")&&L({variables:{trackId:U.item.id}}),R({isTrackActive:e,playIndex:0,playItems:[U.item],playTrackMix:!0})}),[R,U.item,w,k.isPaused,L]),F=(0,s.useCallback)((()=>{R({notify:!1,playIndex:0,playItems:[U.item],playOneTrack:!0,playLyrics:!0})}),[R,U.item]);return s.createElement(h.A.Row,{style:a,uuid:U.uuid,id:U.item.id,index:U.index,isActive:x(U.item)&&k.isSameContext,isReadable:U.item.right===_.A.READABLE,isRestrictedByExplicit:O,type:U.item.type,isDraggable:!0},s.createElement(y.A,{size:d.c.TITLE.SIZE},s.createElement(y.A.Play,{ariaLabel:(0,v.AP)("generic_action_playsongXbyartistX_web",{sprintf:[U.item.title,(0,o.A)(U,"item.artists[0].name","")]}),hasExplicitCover:U.item.parent.hasExplicitCover,onPlayItems:B,pictureUrl:U.item.cover(c.r4).url}),l||(l=s.createElement(y.A.Download,null)),s.createElement(y.A.PlayableLabel,{hasExplicitLyrics:U.item.hasExplicitLyrics,label:U.item.title,onPlayItems:B,tooltipText:(0,I.Y)(U.item,f)}),s.createElement(h.A.IconGroup,null,s.createElement(y.A.ShowLyrics,{item:U.item,lyricsId:U.item.lyricsId,onPlayLyrics:F}),i||(i=s.createElement(y.A.AddToFavorite,null)),s.createElement(y.A.OpenContextMenu,{item:U.item}))),s.createElement(h.A.CellBody,{size:d.c.ARTIST.SIZE},s.createElement(E.A,{links:U.item.artists.map((e=>({...e,type:b.Ay.Artist}))),onClick:e=>C.A.isAllowed("search_refacto_2024")&&N({variables:{artistId:e.id}})})),s.createElement(h.A.CellBody,{breakpoint:d.c.PARENT.BREAKPOINT,size:d.c.PARENT.SIZE},s.createElement(E.A,{links:[{...U.item.parent,type:b.Ay.Album}],onClick:e=>C.A.isAllowed("search_refacto_2024")&&D({variables:{albumId:e.id}})})),s.createElement(h.A.CellBody,{size:d.c.DURATION.SIZE},s.createElement(m.A,{duration:U.item.duration})),s.createElement(h.A.CellBody,{breakpoint:d.c.POPULARITY.BREAKPOINT,size:d.c.POPULARITY.SIZE},s.createElement(p.A,{rank:U.item.popularity})),s.createElement(h.A.CellBody,{align:d.c.SELECT.ALIGN,size:d.c.SELECT.SIZE},r||(r=s.createElement(A.A,null))))}),(({index:e,data:t})=>({item:b.Ay.Track,itemIndex:e,itemId:t.toDisplay[e].item.id}))),n.t7)},Kc87:(e,t,a)=>{a.d(t,{A:()=>S}),a("aRRr");var l,i=a("q1tI"),r=a("fSLK"),s=a("Wp0Y"),n=a("CxZw"),o=a("5G9X"),c=a("o+h5"),d=a("xCFc"),u=a("/k3D"),m=a("pQlO"),p=a("r4LN"),E=a("1Uwb"),A=a("PJQK"),y=a("145D"),h=a("tgyz"),g=a("SehT"),v=a("0JBE"),_=a("GjdC"),b=a("A2sV"),I=a("tZCQ");const S=i.memo((0,v.S2)((({data:e,index:t,style:a})=>{const r=e.toDisplay[t],{context:v,container:S,shouldExplicitBeHidden:T}=i.useContext(d.Gt),{playerStatus:P,play:C,isItemLoadedInPlayer:f}=(0,h.A)(v,S,!0),k=(0,_.A)(),[R]=(0,b.RsC)(),[x]=(0,b.mcr)(),w=r.item.hasExplicitLyrics&&T,L=(t,a)=>{t&&!P.isPaused||k("grid_play"),I.A.isAllowed("search_refacto_2024")&&x({variables:{episodeId:r.item.id}}),C({playIndex:a,playItems:e.toPlay,isTrackActive:t})};return i.createElement(E.A.Row,{style:a,uuid:r.uuid,id:r.item.id,index:r.index,isActive:f(r.item)&&P.isSameContext,isReadable:r.item.right===n.A.READABLE,isRestrictedByExplicit:w,type:r.item.type},i.createElement(A.A,{size:y.c.TITLE.SIZE},i.createElement(A.A.Play,{ariaLabel:(0,s.AP)("generic_action_playsongXbyartistX_web",{sprintf:[r.item.title,r.item.parent.name]}),hasExplicitCover:r.item.parent.hasExplicitCover,onPlayItems:L,pictureUrl:r.item.cover(c.r8).url}),l||(l=i.createElement(A.A.Download,null)),i.createElement(A.A.PlayableLabel,{description:r.item.description,hasExplicitLyrics:r.item.hasExplicitLyrics,label:r.item.title,onPlayItems:L,tooltipText:(0,g.Y)(r.item,T)}),i.createElement(E.A.IconGroup,null,i.createElement(A.A.OpenContextMenu,{item:r.item}))),i.createElement(E.A.CellBody,{size:y.c.PARENT.SIZE},i.createElement(p.A,{links:[{...r.item.parent,type:o.Ay.Show}],onClick:({id:e})=>I.A.isAllowed("search_refacto_2024")&&R({variables:{podcastId:e}})})),i.createElement(E.A.CellBody,{breakpoint:y.c.DATE.BREAKPOINT,size:y.c.DATE.SIZE},i.createElement(u.A,{date:1e3*r.item.date,duration:r.item.duration})),i.createElement(E.A.CellBody,{size:y.c.DURATION.SIZE},i.createElement(m.A,{duration:r.item.duration})))}),(({index:e,data:t})=>({item:o.Ay.Track,itemIndex:e,itemId:t.toDisplay[e].item.id}))),r.t7)},LePI:(e,t,a)=>{a.d(t,{A:()=>w});var l=a("q1tI"),i=a("8m9I"),r=a("1Pdy"),s=a("AfN5"),n=a("STEc");const o={TITLE:{SIZE:n.uq.Full},PARENT:{SIZE:n.uq.xxl},DATE:{BREAKPOINT:n.x1.xs,SIZE:n.uq.xxl},DURATION:{SIZE:n.uq.sm}};var c,d=a("xCFc"),u=a("1Uwb"),m=(a("aRRr"),a("fSLK")),p=a("Wp0Y"),E=a("CxZw"),A=a("5G9X"),y=a("o+h5"),h=a("/k3D"),g=a("pQlO"),v=a("r4LN"),_=a("PJQK"),b=a("tgyz"),I=a("SehT"),S=a("0JBE"),T=a("GjdC"),P=a("A2sV"),C=a("tZCQ");const f=l.memo((0,S.S2)((({data:e,index:t,style:a})=>{const i=e.toDisplay[t],{context:r,container:s,shouldExplicitBeHidden:n}=l.useContext(d.Gt),{playerStatus:m,play:S,isItemLoadedInPlayer:f}=(0,b.A)(r,s,!0),k=(0,T.A)(),[R]=(0,P.RsC)(),[x]=(0,P.mcr)(),w=i.item.hasExplicitLyrics&&n,L=(t,a)=>{t&&!m.isPaused||k("grid_play"),C.A.isAllowed("search_refacto_2024")&&x({variables:{episodeId:i.item.id}}),S({playIndex:a,playItems:e.toPlay,isTrackActive:t})};return l.createElement(u.A.Row,{style:a,uuid:i.uuid,id:i.item.id,index:i.index,isActive:f(i.item)&&m.isSameContext,isReadable:i.item.right===E.A.READABLE,isRestrictedByExplicit:w,type:i.item.type},l.createElement(_.A,{size:o.TITLE.SIZE},l.createElement(_.A.Play,{ariaLabel:(0,p.AP)("generic_action_playsongXbyartistX_web",{sprintf:[i.item.title,i.item.parent.name]}),hasExplicitCover:i.item.parent.hasExplicitCover,onPlayItems:L,pictureUrl:i.item.cover(y.r8).url}),c||(c=l.createElement(_.A.Download,null)),l.createElement(_.A.PlayableLabel,{description:i.item.description,hasExplicitLyrics:i.item.hasExplicitLyrics,label:i.item.title,onPlayItems:L,tooltipText:(0,I.Y)(i.item,n)}),l.createElement(u.A.IconGroup,null,l.createElement(_.A.OpenContextMenu,{item:i.item}))),l.createElement(u.A.CellBody,{size:o.PARENT.SIZE},l.createElement(v.A,{links:[{...i.item.parent,type:A.Ay.Show}],onClick:({id:e})=>C.A.isAllowed("search_refacto_2024")&&R({variables:{podcastId:e}})})),l.createElement(u.A.CellBody,{breakpoint:o.DATE.BREAKPOINT,size:o.DATE.SIZE},l.createElement(h.A,{date:1e3*i.item.date,duration:i.item.duration})),l.createElement(u.A.CellBody,{size:o.DURATION.SIZE},l.createElement(g.A,{duration:i.item.duration})))}),(({index:e,data:t})=>({item:A.Ay.Episode,itemIndex:e,itemId:t.toDisplay[e].item.id}))),m.t7);var k,R=a("ftFY"),x=a("p/gB");const w=({items:e,query:t,shouldExplicitBeHidden:a=!1})=>{const n={ID:t,TYPE:(0,x.TU)(A.Ay.Episode)},c={id:t,type:s.Kk.SEARCH},{manageItems:m,tableItems:E}=(0,R.A)(t,e,n),{playerStatus:y}=(0,b.A)(n,c,!0),h=r.F4.lg,g=(0,d.Ay)({container:c,context:n,manageItems:m,playerStatus:y,rowHeight:h,shouldExplicitBeHidden:a});return l.createElement(d.ru,{value:g},l.createElement(u.A,{rowCount:E.toDisplay.length},l.createElement(u.A.Header,null,l.createElement(u.A.CellHead,{size:o.TITLE.SIZE,sortPath:"item.title",dataTestId:"episode_sort"},(0,p.AP)("datagrid_title_episodeUPP_web")),l.createElement(u.A.CellHead,{size:o.PARENT.SIZE,sortPath:"item.parent.name",dataTestId:"podcast_sort"},(0,p.AP)("datagrid_title_podcastUPP_web")),l.createElement(u.A.CellHead,{breakpoint:o.DATE.BREAKPOINT,size:o.DATE.SIZE,sortPath:"item.date",dataTestId:"added_sort"},(0,p.AP)("datagrid_title_addedtrackUPP_web")),l.createElement(u.A.CellHead,{ariaLabel:(0,p.AP)("sortingmenu_title_duration_web"),size:o.DURATION.SIZE,sortPath:"item.duration",dataTestId:"duration_sort"},k||(k=l.createElement(i.m,null)))),l.createElement(u.A.Body,null,E.toDisplay.map(((e,t)=>l.createElement(f,{data:E,key:e.uuid,index:t,style:{height:h}}))))))}},MG7B:(e,t,a)=>{function l(e){const t=document.createElement("div");return t.textContent=e,t.innerHTML}a.d(t,{A:()=>l})},MTsA:(e,t,a)=>{a.d(t,{A:()=>p});var l,i,r=a("q1tI"),s=a("juqV"),n=a("Wp0Y"),o=a("H/eQ"),c=a("yCtO"),d=a("GPus"),u=a("pVdW");class m extends r.Component{constructor(e){super(e),this._onClickOutsideDropDown=e=>{this._navbarLinks.contains(e.target)||(this.setState({isOpenDropDown:!1}),document.removeEventListener("click",this._onClickOutsideDropDown))},this._onResize=this._onResize.bind(this),this._onToggleDropDown=this._onToggleDropDown.bind(this),this.state={items:e.items,lastVisibleElementIndex:1/0,isOpenDropDown:!1}}componentDidMount(){this._getTabWidth(),o.A.subscribe(o.A.layout.resize,this._onResize),o.A.subscribe(o.A.layout.adsBackground,this._onResize),o.A.trigger(o.A.navigation.tab_displayed,{type:this.props.active})}UNSAFE_componentWillReceiveProps(e){this.setState({lastVisibleElementIndex:1/0,items:e.items},this._getTabWidth)}componentWillUnmount(){o.A.unsubscribe(o.A.layout.resize,this._onResize),o.A.unsubscribe(o.A.layout.adsBackground,this._onResize)}render(){const e=(0,s.A)({navbar:!0,"navbar-center":"center"===this.props.align});return r.createElement("nav",{className:e},r.createElement("div",{style:this.props.style,className:"container"},r.createElement("ul",{className:"navbar-nav",ref:e=>this._navbarLinks=e,role:"tablist"},this._renderList())))}_renderList(){const e=[],{items:t,lastVisibleElementIndex:a}=this.state;for(let l=0,i=t.length;l<i;l++)if(!t[l].disabled){if(!(l<a)){e.push(this._renderViewMore(l));break}e.push(this._renderItem(l))}return e}_renderItem(e,t=!1){const{active:a,textSize:l}=this.props,i=this.state.items[e],n=(0,s.A)({"navbar-item":!t,"dropdown-item":t,active:a===i.id}),o=i.isButton&&a!==i.id,c=(0,s.A)({"navbar-link":!t,"navbar-button":o}),d=a===i.id?void 0:this._onItemClick.bind(this,i);return r.createElement("li",{key:i.id,className:n},r.createElement(u.E,{as:"a",color:o?"text.accent.onDark.default":"text.neutral.secondary.default",fontWeight:a===i.id?"semibold":"normal",_hover:{color:o?"text.accent.onDark.default":"text.neutral.secondary.hovered"},className:c,role:"tab",tabIndex:"0","aria-selected":a===i.id,onClick:d,onKeyDown:d,"data-testid":`${i.id}-tab`,variant:{large:"body.l.default",medium:"body.m.default"}[l]},i.label))}_renderViewMore(e){const{isOpenDropDown:t,items:a,lastVisibleElementIndex:o}=this.state,m=(0,s.A)("navbar-item","navbar-dropdown",{"dropdown-active":t}),p=[];for(let t=e,l=a.length;t<l;t++)a[t].disabled||p.push(this._renderItem(t,!0));return r.createElement("li",{className:m,key:"viewmore_"+o},r.createElement(u.E,{as:"button",color:"text.neutral.secondary.default",_hover:{color:"text.neutral.secondary.hovered"},className:"navbar-link",type:"button","data-testid":"more_button",onClick:this._onToggleDropDown},(0,n.AP)("Plus"),t?l||(l=r.createElement(d.o,{marginStart:"5px",marginTop:"3px"})):i||(i=r.createElement(c.e,{marginStart:"5px",marginTop:"3px"}))),r.createElement("ul",{className:"dropdown-menu is-right"},p))}_onToggleDropDown(e){if(e.stopPropagation(),void 0!==e.keyCode&&13!==e.keyCode)return;const t=!this.state.isOpenDropDown;this.setState({isOpenDropDown:t}),t&&document.addEventListener("click",this._onClickOutsideDropDown,{once:!0,capture:!0})}_onItemClick(e,t){void 0!==t.keyCode&&13!==t.keyCode||(e.action&&e.action(e),this.setState({isOpenDropDown:!1}),o.A.trigger(o.A.navigation.tab_displayed,{type:e.id}))}_onResize(){let e=1/0,t=0,a=0;const l=this._navbarLinks.offsetWidth,i=this._linksWidth.entries();for(const[r,s]of i){if(t+=s,t>l){e=a;break}a=r}this.state.lastVisibleElementIndex!==e&&this.setState({lastVisibleElementIndex:e})}_getTabWidth(){this._linksWidth=[],Array.from(this._navbarLinks.childNodes).forEach(((e,t)=>{this._linksWidth[t]=e.getBoundingClientRect().width})),this._onResize()}}m.defaultProps={align:"left",textSize:"large"};const p=m},"Po/P":(e,t,a)=>{a.r(t),a.d(t,{default:()=>nt});var l=a("q1tI"),i=a("TRpf"),r=a("X6oL"),s=a("WmA5"),n=a("d6Kh"),o=a("7E8A"),c=a("17x9"),d=a.n(c),u=a("Ty5D"),m=a("Wp0Y"),p=a("5G9X"),E=a("tZCQ"),A=a("xobL"),y=(a("/eM8"),a("nrKQ"));const h="search/SEARCH_RESULTS_RECEIVED",g="search/SEARCH_RESULTS_BY_TYPE_RECEIVED",v="search/SEARCH_RESULTS_REINITIALIZED",I="CHANNEL",L=e=>({type:h,payload:e}),N=[];var D,U,O=a("ntT5"),B=a("MTsA"),F=a("55Ip"),q=a("e2eG"),H=a("juqV"),Y=a("vXsw"),Q=a("H/eQ"),M=a("7Gye"),z=a("7bxg");class Z extends l.Component{constructor(e){super(e),this._onClick=this._onClick.bind(this),this._onRemoveClick=this._onRemoveClick.bind(this)}shouldComponentUpdate(e){return this.props.selected!==e.selected}render(){const{type:e,link:t,selected:a,selectable:i,disabled:r,label:s}=this.props,n={"btn btn-tag":"button"===e,"txt-tag":"text"===e,"txt-tag-hover":"text"===e&&t,"tag-link":t&&!r,selected:a,selectable:i||r},o=(0,H.A)(n);return i||a?l.createElement("div",{className:o},l.createElement("span",{className:"tag-label"},s),i?this._renderSelectableButton():null,a?this._renderSelectedButton():null):t&&!r?l.createElement("button",{className:o,onClick:this._onClick,onKeyDown:this._onClick},l.createElement("span",{className:"tag-label"},s)):l.createElement("div",{className:o},l.createElement("span",{className:"tag-label"},s))}_renderSelectableButton(){return l.createElement("button",{className:"tag-action",type:"button","aria-label":(0,m.AP)("generic_action_add_web"),onClick:this._onClick},D||(D=l.createElement("span",{className:"icon"},l.createElement(M.c,null))))}_renderSelectedButton(){return l.createElement("button",{className:"tag-action",type:"button","aria-label":(0,m.AP)("Supprimer"),onClick:this._onRemoveClick},U||(U=l.createElement("span",{className:"icon"},l.createElement(z.w,null))))}_onRemoveClick(e){e.stopPropagation(),this.props.onRemove(this.props.label)}_onClick(e){if(void 0!==e.keyCode&&13!==e.keyCode)return;const{link:t,label:a,query:l}=this.props;if(t){let e=a.replace(/^#/,"");l&&(e=l+" "+e),Y.g.navigate("/tags/"+e)}Q.A.trigger(Q.A.tag.select,{source:this,tag:a})}}Z.defaultProps={query:void 0,link:!0,type:"button",selected:!1,selectable:!1,disabled:!1,onRemove:()=>{}};const K=Z;class $ extends l.Component{constructor(e){super(e),this._onRemove=this._onRemove.bind(this),this.state={tags:e.tags,onRemove:e.onRemove||this._onRemove}}UNSAFE_componentWillReceiveProps(e){this.setState({tags:e.tags,onRemove:e.onRemove||this._onRemove})}render(){const{selected:e,disabled:t,type:a,overflowHidden:i,selectable:r,query:s,link:n}=this.props,o=this.state.tags.slice(0,this.props.max);if(!o.length)return null;const c=(0,H.A)({"tag-list":!0,textual:"text"===a,"overflow-hidden":i,selected:e,clearfix:!0});return l.createElement("ul",{className:c,"aria-live":"polite"},this._renderLabel(),o.map((i=>l.createElement("li",{key:"panel-tag-"+i.LABEL},l.createElement(K,{label:i.LABEL||i,query:s,link:n,type:a,selectable:r,selected:e,disabled:t,onRemove:this.state.onRemove})))))}_renderLabel(){const{showLabel:e,selectable:t}=this.props;if(!e)return null;const a=t?(0,m.AP)("Combiner avec :"):(0,m.AP)("Résultats de recherche pour")+" ",i=(0,H.A)({"heading-1":!t});return l.createElement("li",{"aria-hidden":!t},l.createElement("div",{className:"tag"},l.createElement("span",{className:"tag-title"},l.createElement("span",{className:i},a))))}_onRemove(e){if(!e)return;let{tags:t}=this.state;t.length>this.props.min?(t=t.filter((t=>t.LABEL!==e)),this.setState({tags:t},this._navigate)):this._openSearchPanel()}_navigate(){if(!this.props.link)return;let e="";this.state.tags.forEach((t=>{e+=t.LABEL.substr(1)+" "})),Y.g.navigate("/tags/"+e.trim())}_openSearchPanel(){if(!this.props.link)return;const e=document.getElementById("menu_search");e.click(),e.focus()}}$.defaultProps={max:15,min:0,showLabel:!1,query:"",link:!0,selected:!1,selectable:!1,disabled:!1,overflowHidden:!0,type:void 0,onRemove:void 0};const W=$;var G=a("hIIJ"),V=a("4liH");class X extends l.Component{render(){const{filter:e,querySubTitle:t}=this.props;return e===O.mQ?this._renderTag():""!==t?this._renderAutoCorrect():null}_renderTag(){const{queryTitle:e,tags:t}=this.props,a=e.split(" ").map((e=>({LABEL:"#"+e,selected:!0})));return l.createElement("div",{className:"search-header"},l.createElement("div",{className:"container"},E.A.isAllowed("revamp2023")?l.createElement(G.A,{as:"h1",className:"sr-only",title:(0,m.AP)("search_title_searchresultsfor_web",{sprintf:[e]})}):l.createElement("h1",{className:"sr-only"},(0,m.AP)("search_title_searchresultsfor_web",{sprintf:[e]})),l.createElement(W,{tags:a,selected:a.length>1,disabled:a.length<=1,min:1,showLabel:!0,overflowHidden:!1}),l.createElement(W,{tags:t,query:e,showLabel:!0,selectable:!0})))}_renderAutoCorrect(){const{autocorrect:e,queryTitle:t,querySubTitle:a,forcedQuery:i}=this.props,r=i?a:"+"+a,s=e?(0,m.AP)("Essayez quand même avec"):(0,m.AP)("Afficher les résultats pour :");return l.createElement("div",{className:"search-header has-subtitle"},l.createElement("div",{className:"container"},l.createElement("h1",{className:"heading-1",key:"query-title"},(0,m.AP)("Résultats de recherche pour %s",{sprintf:[`« ${t} »`]})),l.createElement("h2",{className:"heading-4 ellipsis",key:"query-subtitle"},s+" ",l.createElement(F.N_,{className:"link-primary",to:"/search/"+encodeURIComponent(r),onClick:this._onSearchWithoutRevision.bind(this,"all")},a))))}_onSearchWithoutRevision(){const{queryTitle:e,querySubTitle:t,forcedQuery:a,autocorrect:l,isAuth:i}=this.props,r=a?t:"+"+t;(0,O.Uw)(e,t,l?O.F9:O.FU,V.d0),i&&q.A.addSearchHistory(r,e,l?O.F9:O.FU)}}X.defaultProps={querySubTitle:"",forcedQuery:!1,autocorrect:!1};const J=(0,i.Ng)((({user:e})=>({isAuth:e.isAuth})))(X);var j,ee,te,ae=a("D6Uc"),le=a("p/gB"),ie=a("0bYo"),re=a("M3gt"),se=a("8m9I"),ne=a("1Pdy"),oe=a("iiSH"),ce=a("AfN5"),de=a("145D"),ue=a("xCFc"),me=a("1Uwb"),pe=a("XLml"),Ee=a("Kc87"),Ae=a("3AbJ"),ye=a("ftFY"),he=a("tgyz");const ge=({context:e,isFullyFetched:t,items:a,nextFetchDataIndex:i,onFetch:r,query:s,shouldExplicitBeHidden:n=!1,total:o})=>{const c={id:s,type:ce.Kk.SEARCH},d=(0,l.useRef)(null),{loadingStatus:u,fetchNext:p,fetchAll:E}=(0,Ae.A)(r,s,t,i,e),{manageItems:A,tableItems:y}=(0,ye.A)(s,a,e,{fetchAll:E}),{playerStatus:h}=(0,he.A)(e,c,t),g=ne.F4.lg,v=(0,ue.Ay)({container:c,context:e,loadingStatus:u,manageItems:A,playerStatus:h,rowHeight:g,shouldExplicitBeHidden:n});return l.createElement(ue.ru,{value:v},l.createElement(me.A,{tableRef:d,rowCount:o},l.createElement(me.A.Header,null,l.createElement(me.A.CellHead,{size:de.c.TITLE.SIZE,sortPath:"item.title"},(0,m.AP)("datagrid_title_episodeUPP_web")),l.createElement(me.A.CellHead,{size:de.c.PARENT.SIZE,sortPath:"item.parent.name"},(0,m.AP)("datagrid_title_podcastUPP_web")),l.createElement(me.A.CellHead,{breakpoint:de.c.DATE.BREAKPOINT,size:de.c.DATE.SIZE,sortPath:"item.date"},(0,m.AP)("datagrid_title_addedtrackUPP_web")),l.createElement(me.A.CellHead,{ariaLabel:(0,m.AP)("sortingmenu_title_duration_web"),size:de.c.DURATION.SIZE,sortPath:"item.duration"},j||(j=l.createElement(se.m,null)))),l.createElement(me.A.Body,null,l.createElement(re.A,{isItemLoaded:e=>e<a.length-oe.Hs,itemCount:y.toDisplay.length,loadMoreItems:p,threshold:oe.Hs},(({onItemsRendered:e,ref:t})=>l.createElement(pe.A,{onItemsRendered:e,tableRef:d,items:y,ref:t,rowHeight:g},Ee.A))),ee||(ee=l.createElement(me.A.RowLoader,null)))),0===y.toDisplay.length&&(te||(te=l.createElement(me.A.EmptyContent,null))))};var ve,_e,be,Ie=a("Qdkb"),Se=a("BP9I"),Te=a("EZyQ"),Pe=a("7u2F");const Ce=({context:e,isFullyFetched:t,items:a,nextFetchDataIndex:i,onFetch:r,query:s,shouldExplicitBeHidden:n=!1,total:o})=>{const c={id:s,type:ce.Kk.SEARCH},d=(0,l.useRef)(null),{loadingStatus:u,fetchNext:p,fetchAll:E}=(0,Ae.A)(r,s,t,i,e),{manageItems:A,tableItems:y}=(0,ye.A)(s,a,e,{fetchAll:E}),{playerStatus:h}=(0,he.A)(e,c,t),g=(0,Pe.A)(y,e,E),v=(0,ue.Ay)({container:c,context:e,loadingStatus:u,manageItems:A,playerStatus:h,select:g,shouldExplicitBeHidden:n});return l.createElement(ue.ru,{value:v},l.createElement(me.A,{tableRef:d,rowCount:o},l.createElement(me.A.Header,null,l.createElement(me.A.CellHead,{size:Ie.c.TITLE.SIZE,sortPath:"item.title"},(0,m.AP)("datagrid_title_trackUPP_web")),l.createElement(me.A.CellHead,{size:Ie.c.ARTIST.SIZE,sortPath:"item.artist.name"},(0,m.AP)("datagrid_title_artistUPP_web")),l.createElement(me.A.CellHead,{breakpoint:Ie.c.PARENT.BREAKPOINT,size:Ie.c.PARENT.SIZE,sortPath:"item.parent.name"},(0,m.AP)("datagrid_title_albumUPP_web")),l.createElement(me.A.CellHead,{ariaLabel:(0,m.AP)("sortingmenu_title_duration_web"),size:Ie.c.DURATION.SIZE,sortPath:"item.duration"},ve||(ve=l.createElement(se.m,null))),l.createElement(me.A.CellHead,{breakpoint:Ie.c.POPULARITY.BREAKPOINT,size:Ie.c.POPULARITY.SIZE,sortPath:"item.popularity"},(0,m.AP)("datagrid_title_popularityabbrevUPP_web")),l.createElement(me.A.CellHead,{align:Ie.c.SELECT.ALIGN,size:Ie.c.SELECT.SIZE},l.createElement(Se.A,{rowCount:y.toDisplay.length}))),l.createElement(me.A.Body,null,l.createElement(re.A,{isItemLoaded:e=>e<a.length-oe.Hs,itemCount:y.toDisplay.length,loadMoreItems:p,threshold:oe.Hs},(({onItemsRendered:e,ref:t})=>l.createElement(pe.A,{onItemsRendered:e,tableRef:d,items:y,ref:t},Te.A))),_e||(_e=l.createElement(me.A.RowLoader,null)))),0===y.toDisplay.length&&(be||(be=l.createElement(me.A.EmptyContent,null))))};var fe=a("AY3M");class ke extends l.Component{constructor(e){super(e),this._fetchData=this._fetchData.bind(this)}get pageContext(){return o[`CONTEXT_PAGE_SEARCH_TAB_${this.props.tab.toUpperCase()}`]}_renderEpisodes(){const{item:e,query:t,shouldExplicitBeHidden:a}=this.props,{data:i,displayTotal:r,next:s,total:n}=e,o=(0,m.WI)("masthead_text_Xepisodes_web","masthead_text_Xepisodes_web",{sprintf:[r],count:r});return l.createElement("div",{className:"container","data-testid":"episodes"},this._renderTitle(o),l.createElement(ge,{context:{ID:t,TYPE:(0,le.TU)(p.Ay.Episode)},isFullyFetched:s>n,items:i,nextFetchDataIndex:s,onFetch:this._fetchData,query:t,total:n,shouldExplicitBeHidden:a}))}_renderTitle(e){return E.A.isAllowed("revamp2023")?l.createElement(G.A,{title:e,mb:"spacing.2xl"}):l.createElement("div",{className:"thumbnail-grid-title heading-1 "},e)}_renderTracks(){const{item:e,query:t,shouldExplicitBeHidden:a}=this.props,{data:i,displayTotal:r,next:s,total:n}=e,o=(0,m.WI)("%s titre","%s titres",{sprintf:[r],count:r});return l.createElement("div",{className:"container","data-testid":"songs"},this._renderTitle(o),l.createElement(Ce,{context:{ID:t,TYPE:(0,le.TU)(p.Ay.Track)},isFullyFetched:s>n,items:i,nextFetchDataIndex:s,onFetch:this._fetchData,query:t,total:n,shouldExplicitBeHidden:a}))}_renderTracksWithLyrics(){const{item:e,query:t,shouldExplicitBeHidden:a}=this.props,{data:i,displayTotal:r,next:s,total:n}=e,o=(0,m.WI)("searchresult_title_Xlyricsmatches_web","searchresult_title_Xlyricsmatches_web",{sprintf:[r],count:r});return l.createElement("div",{className:"container","data-testid":"songs"},this._renderTitle(o),l.createElement(Ce,{context:{ID:t,TYPE:ie.A[fe.le]},isFullyFetched:s>n,items:i,nextFetchDataIndex:s,onFetch:this._fetchData,query:t,total:n,shouldExplicitBeHidden:a}))}async _fetchData(e){const{query:t,item:a,tab:l,filter:i}=this.props;e.nb<=0||await this.props.fetchData({...e,query:t,filter:i,start:a.next,output:l.toUpperCase()})}render(){const{tab:e}=this.props;switch(e){case p.Ay.Track:return this._renderTracks();case p.Ay.Episode:return this._renderEpisodes();case n.TV:return this._renderTracksWithLyrics();default:return null}}}ke.contextTypes={searchType:d().string};const Re=ke;var xe=a("YVUD");class we extends l.Component{constructor(e,t){super(e,t),this._fetchData=this._fetchData.bind(this),this.isFullLoaded=!1}componentDidMount(){this.props.item.isFullLoaded&&(this.isFullLoaded=!0)}get pageContext(){return o[`CONTEXT_PAGE_SEARCH_TAB_${this.props.tab.toUpperCase()}`]}get title(){const e={sprintf:[this.props.item.displayTotal],count:this.props.item.displayTotal};switch(this.props.tab){case p.Ay.Artist:return(0,m.WI)("%s artiste","%s artistes",e);case p.Ay.Album:return(0,m.WI)("%s album","%s albums",e);case p.Ay.Playlist:return(0,m.WI)("%s playlist","%s playlists",e);case p.Ay.Radio:return(0,m.WI)("%s mix","%s mix",e);case p.Ay.Channel:return(0,m.WI)("%s univers","%s univers",e);case p.Ay.Show:return(0,m.WI)("%s podcast","%s podcasts",e);case p.Ay.Livestream:return(0,m.WI)("%s radio","%s radios",e);case p.Ay.User:return(0,m.WI)("%s profil","%s profils",e);case p.Ay.FlowConfig:return(0,m.AP)("Flow");default:return""}}render(){const{query:e,tab:t,item:a,filter:i}=this.props,r={id:e,pageContext:this.pageContext,type:"search",title:this.title,fetchData:this._fetchData,data:a.data,total:a.total,filter:i,progressiveDisplay:this.isFullLoaded,gridAttributes:{type:t,pageContext:this.pageContext,context:`search_${t}`}};return l.createElement("div",{className:"search-results"},l.createElement(xe.A,r))}_fetchData(e){const{query:t,item:a,filter:l,tab:i}=this.props;a.isFullLoaded||this.props.fetchData({...e,query:t,filter:l,start:a.next,output:i.toUpperCase()})}}const Le=we;var Ne,De=a("lpJY"),Ue=a("934x"),Oe=a("QOhT"),Be=a("GkjM"),Fe=a("23Qi");const qe=(0,r.Ay)()(Ne=class extends l.Component{render(){const{items:e}=this.props;if(0===e.length)return null;const t=e[0],a=t.__TYPE__,i=t[p.vn[a]],{link:r,title:s,subtitle:n,type:c}=this._getInfo(t),d=a===p.Ay.Artist,u=a===p.Ay.Livestream;return l.createElement("div",{className:"container search-top-result-container",key:c},l.createElement(G.A,{pb:"spacing.xl",title:(0,m.WI)("searchresult_title_topresults_web","searchresult_title_topresults_web",{count:1})}),l.createElement("div",{className:"search-top-result"},l.createElement(Oe.A,{type:a,data:t,halfRounded:u,rounded:d,height:162,width:162,context:{ID:i,TYPE:(0,le.Pe)(a,fe._v)},pageContext:o[`CONTEXT_PAGE_SEARCH_TOP_${a.toUpperCase()}`],alt:s,onClick:this._triggerTracking.bind(this,{type:a,id:i})}),l.createElement("div",{className:"search-top-result-info"},l.createElement("div",{className:"heading-3 ellipsis"},r),l.createElement("div",{className:"heading-3-sub ellipsis"},n),l.createElement("span",{className:"sticker sticker-default"},c))))}_triggerTracking(e){const{tracking:t}=this.props,a=this.props.tracking.getTrackingData(),l=a.pagecategory||a.pagename;l&&t.trackEvent({eventaction:`click-best-${e.type}-${l}`,event:"click",eventcategory:l,eventlabel:`${e.type}-${l}`,item:{rank:0,id:e.id,type:e.type}})}_getInfo(e){let t="",a="",i="",r="";switch(e.__TYPE__){case p.Ay.Artist:r=(0,m.AP)("Artiste"),i=e.ART_NAME,t=l.createElement(Be.A,{to:`/artist/${e.ART_ID}`,onClick:this._triggerTracking.bind(this,{type:e.__TYPE__,id:e.ART_ID})},i),a=(0,m.WI)("%s fan","%s fans",{sprintf:[(0,Fe.A)(e.NB_FAN)],count:e.NB_FAN});break;case p.Ay.Album:r=(0,m.AP)("generic_title_album_web"),i=e.ALB_TITLE,t=l.createElement(Be.A,{to:`/album/${e.ALB_ID}`,onClick:this._triggerTracking.bind(this,{type:e.__TYPE__,id:e.ALB_ID})},i),a=l.createElement(l.Fragment,null,`${(0,m.AP)("par")} `,e.ARTISTS.map((({ROLE_ID:e,ART_NAME:t,ART_ID:a},i)=>0===Number(e)||5===Number(e)?[i>0?", ":"",l.createElement(Be.A,{key:`/artist/${a}`,to:`/artist/${a}`,onClick:this._triggerTracking.bind(this,{type:p.Ay.Artist,id:a})},t)]:"")),` - ${(0,m.WI)("%s titre","%s titres",{sprintf:[(0,Fe.A)(e.NUMBER_TRACK)],count:e.NUMBER_TRACK})}`);break;case p.Ay.Playlist:r=(0,m.AP)("Playlist"),i=e.TITLE,t=l.createElement(Be.A,{to:`/playlist/${e.PLAYLIST_ID}`,onClick:this._triggerTracking.bind(this,{type:e.__TYPE__,id:e.PLAYLIST_ID})},i),a=`${(0,m.AP)("par")} ${e.PARENT_USERNAME} - ${(0,m.WI)("%s titre","%s titres",{sprintf:[e.NB_SONG],count:e.NB_SONG})}`;break;case p.Ay.Show:r=(0,m.AP)("Podcast"),i=e.SHOW_NAME,t=l.createElement(Be.A,{to:`/show/${e.SHOW_ID}`,onClick:this._triggerTracking.bind(this,{type:e.__TYPE__,id:e.SHOW_ID})},i);break;case p.Ay.Livestream:r=(0,m.AP)("Radio"),i=t=e.LIVESTREAM_TITLE}return{link:t,title:i,subtitle:a,type:r}}})||Ne;var He=a("LePI"),Ye=a("mqk7");class Qe extends l.Component{constructor(e){super(e),this._renderItems=this._renderItems.bind(this)}render(){const{ORDER:e}=this.props.items;return l.createElement("div",{className:"search-results"},e.filter((e=>n.Dh[e.toLowerCase()])).map(this._renderItems))}_renderItems(e){const{items:t}=this.props;if(t[e]&&!1===t[e].enabled)return null;switch(e.toLowerCase()){case n.mK:return l.createElement(qe,{items:t[e],key:e});case n.TV:case p.Ay.Track:case p.Ay.Episode:return this._renderTracklist(t[e],e.toLowerCase());default:return this._renderThumbnailGrid(t[e],e.toLowerCase())}}_renderThumbnailGrid(e,t){return t!==p.Ay.Show||E.A.isAllowed("talk")?l.createElement("div",{className:"container",key:t},this._renderTitle(t),l.createElement(De.A,{key:t,nbLines:1,data:e.data.slice(0,5),context:`search_${t}`,pageContext:o.CONTEXT_PAGE_SEARCH})):null}_renderTracklist(e,t){const{query:a,shouldExplicitBeHidden:i}=this.props;return t===p.Ay.Episode?E.A.isAllowed("talk")?l.createElement("div",{className:"container","data-testid":"episodes",key:t},this._renderTitle(t),l.createElement(He.A,{query:a,items:e.data.slice(0,6),shouldExplicitBeHidden:i})):null:l.createElement("div",{className:"container","data-testid":"songs",key:t},this._renderTitle(t),l.createElement(Ye.A,{query:a,items:e.data.slice(0,6),shouldExplicitBeHidden:i}))}_renderTitle(e){return E.A.isAllowed("revamp2023")?l.createElement(G.A,{title:n.gj[e],href:`/search/${encodeURIComponent(this.props.query)}/${e}`,onClick:this._onViewAll.bind(this,e),pb:"spacing.xl"}):l.createElement("h2",{className:"heading-2 search-title"},l.createElement(Ue.A,{href:`/search/${encodeURIComponent(this.props.query)}/${e}`,onClick:this._onViewAll.bind(this,e)},n.gj[e]))}_onViewAll(e){(0,O.Uw)(this.props.query,"",O.mJ,V.d0,0,O.UG[e])}}const Me=Qe;var ze=a("sAMA");class Ze extends l.Component{constructor(e){super(e),this._onTabClick=this._onTabClick.bind(this)}getChildContext(){return{id:this._getQuery(),userId:this.props.userID,name:o.CONTEXT_PAGE_SEARCH,searchType:this.props.data.FILTER===O.mQ?O.nD:O.Sj}}componentDidMount(){this._handleUpdate()}componentDidUpdate(){this._handleUpdate()}shouldComponentUpdate(e){return e.data.QUERY===decodeURIComponent(e.match.params.query)}render(){const{QUERY:e,REVISED_QUERY:t,IS_FORCED_QUERY:a,TAG:i,FILTER:r,HAS_RESULTS:s,AUTOCORRECT:n}=this.props.data;return!1===s?this._renderNoResult():l.createElement("div",{className:"page-naboo-search",id:"page_naboo_search"},l.createElement(J,{queryTitle:this._getQueryTitle(e,a),querySubTitle:t,forcedQuery:a,autocorrect:n,tags:i,filter:r}),l.createElement("div",{className:"search-navbar"},l.createElement(B.A,{items:this._getTabList(),active:this.props.tab})),this._renderTab())}_renderNoResult(){const{QUERY:e,REVISED_QUERY:t,ALTERNATIVE_QUERIES:a}=this.props.data,i={query:e,revisedQuery:t};return a.length&&(i.alternativeQueries=a),l.createElement(ae.A,i)}_renderTab(){const{data:e,shouldExplicitBeHidden:t,tab:a}=this.props,{IS_FORCED_QUERY:i,FILTER:r}=e,s=this._getQuery(i);switch(a){case n.mK:return l.createElement(Me,{items:e,query:s,shouldExplicitBeHidden:t});case p.Ay.Track:case p.Ay.Episode:case n.TV:return l.createElement(Re,{key:a,tab:a,item:e[a.toUpperCase()],query:s,filter:r,fetchData:this.props.loadQueryResultsByType,shouldExplicitBeHidden:t});default:return l.createElement(Le,{key:a,tab:a,item:e[a.toUpperCase()],query:s,filter:r,fetchData:this.props.loadQueryResultsByType})}}_onTabClick(e){const{data:t}=this.props;let a=`/${t.FILTER===O.mQ?O.xX:O.Sj}/${encodeURIComponent(t.QUERY)}`;const l=t.FUZZINNESS?O.fO:O.mJ;let i=O.P$;e.id!==n.mK&&(a+=`/${e.id}`,i=O.UG[e.id]),(0,O.Uw)(t.QUERY,"",l,V.d0,0,i),this.props.history.push(a)}_getTabList(){const{ORDER:e}=this.props.data,t=(e||Object.keys(n.gj)).filter((e=>n.gj[e.toLowerCase()]&&!this._isTabDisabled(e))).map((e=>({id:e.toLowerCase(),label:n.gj[e.toLowerCase()],action:this._onTabClick,disabled:!1})));return 1===t.length?t:[{id:n.mK.toLowerCase(),label:(0,m.AP)("Tout"),action:this._onTabClick,disabled:!1}].concat(t)}_isTabDisabled(e){const{data:t}=this.props;switch(e.toLowerCase()){case p.Ay.Show:return!E.A.isAllowed("talk")||!t[e.toUpperCase()].enabled;case n.mK:return!1;default:return!t[e.toUpperCase()]||!t[e.toUpperCase()].enabled}}_getQueryTitle(e,t){return e?!0===t&&0===e.indexOf("+")&&e.length>1?e.substr(1,e.length):e:null}_getQuery(e=!1){const{QUERY:t,REVISED_QUERY:a,AUTOCORRECT:l}=this.props.data,i=l&&a||t;return e&&!i.startsWith("+")?"+"+i:i}_handleUpdate(){const{tab:e,data:t}=this.props,a=encodeURIComponent(this._getQuery(t.IS_FORCED_QUERY));if(e!==n.mK&&this._isTabDisabled(e))return void this.props.history.replace(`/search/${a}`);const l=this._getTabList();e===n.mK&&1===l.length&&l[0].id!==n.mK&&this.props.history.replace(`/search/${a}/${l[0].id}`)}}Ze.childContextTypes={id:d().string,userId:d().number,name:d().string.isRequired,searchType:d().string},Ze.defaultProps={tab:n.mK,data:{}};const Ke=(0,u.y)((0,i.Ng)((({user:e})=>({userID:e.id,shouldExplicitBeHidden:(0,A.Uw)(e)===ze.g})),{loadQueryResultsByType:({query:e,start:t,nb:a,filter:l,output:i})=>r=>new Promise(((s,n)=>{const o=y.A.call({method:"search.music",data:{query:e,start:t,nb:a,filter:l,output:i},success:e=>{r(((e,t)=>({type:g,payload:{...e,output:t}}))(e,i)),s(e)},error:n});N.push(o)}))})(Ze));var $e=a("FSqQ"),We=a("WKgy");a("WpbS");const Ge={data:[],next:0,total:0,filteredCount:0},Ve={AUTOCORRECT:"",FUZZINNESS:!1,ORDER:[],QUERY:"",REVISED_QUERY:"",TOP_RESULT:[],ELEMENTS:{ALBUM:Ge,ARTIST:Ge,CHANNEL:Ge,LIVESTREAM:Ge,PLAYLIST:Ge,RADIO:Ge,SHOW:Ge,TRACK:Ge,USER:Ge,EPISODE:Ge,LYRICS:Ge,FLOW_CONFIG:Ge}},Xe={search:(e=Ve,t)=>{switch(t.type){case h:return{AUTOCORRECT:t.payload.AUTOCORRECT,FUZZINNESS:t.payload.FUZZINNESS,ORDER:t.payload.ORDER,QUERY:t.payload.QUERY,REVISED_QUERY:t.payload.REVISED_QUERY,TOP_RESULT:t.payload.TOP_RESULT,ELEMENTS:Object.keys(Ve.ELEMENTS).reduce(((e,a)=>(a===I&&(t.payload.CHANNEL={...t.payload.CHANNEL,filtered_count:0,next:t.payload.CHANNEL.count}),t.payload[a]?{...e,[a]:{data:t.payload[a].data,next:t.payload[a].next,total:t.payload[a].total,filteredCount:t.payload[a].filtered_count}}:{...e,[a]:{data:[],next:0,total:0,filteredCount:0}})),{})};case g:return t.payload.output===I&&(t={...t,payload:{...t.payload,filtered_count:0,next:t.count}}),{...e,ELEMENTS:{...e.ELEMENTS,[t.payload.output]:{data:[...e.ELEMENTS[t.payload.output].data,...t.payload.data],next:t.payload.next,total:t.payload.total+t.payload.filtered_count,filteredCount:e.ELEMENTS[t.payload.output].filteredCount+t.payload.filtered_count}}};case v:return Ve;default:return e}}};var Je=a("G4qV"),je=a("nLzw");const et=e=>{let t=e.QUERY||"",a=e.REVISED_QUERY||"";return"true"===(e.AUTOCORRECT||"false")?t:a},tt=(e,t)=>{const a=e.ELEMENTS[t];if(a){const{data:e,next:t,total:l,filteredCount:i}=a,r=l<=(null!=t?t:l);return{data:e,next:null!=t?t:l,total:l,isFullLoaded:r,enabled:l>0,displayTotal:r?e.length:l-(null!=i?i:0)}}return{data:[],next:0,total:0,isFullLoaded:!0,enabled:!1,displayTotal:0}},at=(0,Je.Ad)(Je.UI,je.A)([e=>{const t=(e=>{let t=e.QUERY||"",a=e.REVISED_QUERY||"";return"true"===(e.AUTOCORRECT||"false")&&""!==a?a:t})(e);return{QUERY:t,REVISED_QUERY:et(e),ALTERNATIVE_QUERIES:e.ALTERNATIVE_QUERIES||[],TAG:e.TAG||[],FILTER:e.FILTER||"all",IS_FORCED_QUERY:"+"===t.charAt(0)&&t.length>1,AUTOCORRECT:!(!e.AUTOCORRECT||!e.REVISED_QUERY||"true"!==e.AUTOCORRECT&&!0!==e.AUTOCORRECT),FUZZINNESS:!(!e.FUZZINNESS||"true"!==e.FUZZINNESS&&!0!==e.FUZZINNESS)}},e=>e.ORDER||[],e=>e.TOP_RESULT||[],e=>tt(e,"ALBUM"),e=>tt(e,"ARTIST"),e=>tt(e,I),e=>tt(e,"LIVESTREAM"),e=>tt(e,"PLAYLIST"),e=>tt(e,"RADIO"),e=>tt(e,"SHOW"),e=>tt(e,"TRACK"),e=>tt(e,"USER"),e=>tt(e,"EPISODE"),e=>tt(e,"LYRICS"),e=>tt(e,"FLOW_CONFIG")],((e,t,a,l,i,r,s,n,o,c,d,u,m,p,A)=>{const y=[a.length,d.total,i.total,l.total,n.total,o.total,r.total,u.total,p.total,A.total,s.total];return E.A.isAllowed("talk")&&(y.push(c.total),y.push(m.total)),{...e,HAS_RESULTS:y.some((e=>e>0)),ORDER:t,TOP_RESULT:a,ALBUM:l,ARTIST:i,CHANNEL:r,LIVESTREAM:s,PLAYLIST:n,RADIO:o,SHOW:c,TRACK:d,USER:u,EPISODE:m,LYRICS:p,FLOW_CONFIG:A}}));var lt,it,rt;let st=(0,r.Ay)((({data:e})=>({event:"updatepage",pagename:e.QUERY&&e.QUERY.length?e.QUERY:o.CONTEXT_PAGE_SEARCH,pagecategory:o.CONTEXT_PAGE_SEARCH})))(((it=class extends l.Component{constructor(...e){super(...e),this.state={isLoading:!0,error:!1}}componentDidMount(){const{appState:e,match:{params:t}}=this.props;!t.tab||Object.keys(n.gj).includes(t.tab.toLowerCase())?this.props.loadQueryResults({query:decodeURIComponent(t.query||t.tags),isTagQuery:t.tags,rehydrateData:e}).then((()=>this.setState({isLoading:!1}))).catch((e=>this.setState({error:e}))):s.A.replace(`/search/${t.query} ${t.tab}`)}componentDidUpdate(e){const{match:{params:t}}=this.props;e.match.params.query===t.query&&e.match.params.tags===t.tags||(this.setState({isLoading:!0}),this.props.loadQueryResults({query:decodeURIComponent(t.query||t.tags),isTagQuery:t.tags}).then((()=>this.setState({isLoading:!1}))).catch((e=>this.setState({error:e}))))}componentWillUnmount(){this.props.reinitializeSearchResults(),N.forEach(y.A.cancel)}render(){const{data:e,match:{params:t}}=this.props;if(this.state.error)throw this.state.error;return this.state.isLoading&&""===e.QUERY?rt||(rt=l.createElement($e.A,null)):l.createElement(Ke,{data:e,tab:t.tab})}}).displayName="search",it.defaultProps={appState:void 0},lt=it))||lt;We.A.addReducers(Xe);const nt=(0,i.Ng)((({search:e},{match:{params:t}})=>({data:at(e,t)})),{loadQueryResults:e=>t=>e.rehydrateData&&e.rehydrateData.QUERY===e.query?Promise.resolve(t(L(e.rehydrateData))):t((e=>t=>new Promise(((a,l)=>{const i=y.A.call({method:e.isTagQuery?"deezer.tagSearch":"deezer.pageSearch",data:{query:e.query,start:0,nb:40,suggest:!0,artist_suggest:!0,top_tracks:!0},success:e=>{t(L(e)),a(e)},error:l});N.push(i)})))(e)),reinitializeSearchResults:()=>({type:v})})(st)},Qdkb:(e,t,a)=>{a.d(t,{c:()=>i});var l=a("STEc");const i={TITLE:{SIZE:l.uq.Full},ARTIST:{SIZE:l.uq.PercentXs},PARENT:{BREAKPOINT:l.x1.md,SIZE:l.uq.PercentXs},DURATION:{SIZE:l.uq.sm},POPULARITY:{BREAKPOINT:l.x1.xl,SIZE:l.uq.sm},SELECT:{ALIGN:l.uP.Right,SIZE:l.uq.sm}}},XLml:(e,t,a)=>{a.d(t,{A:()=>p});var l=a("+9dH"),i=a("q1tI"),r=a("fSLK"),s=a("pkJ8"),n=a("TRpf"),o=a("xobL"),c=a("a9NY");const d=(e,t,a=150)=>{const l=i.useRef(null),{height:r}=(0,c.A)(),d=(0,n.d4)((e=>(0,o.iJ)(e.user)));return i.useEffect((()=>{const l=(0,s.A)((a=>{a.stopPropagation(),(()=>{const{y:a=0}=t.current?t.current.getBoundingClientRect():{},l=a+window.scrollY;e.current&&l>0&&e.current.scrollTo(window.pageYOffset-l)})()}),a);return document.addEventListener("scroll",l,{passive:!0}),()=>{l.cancel(),document.removeEventListener("scroll",l)}})),{direction:d,outerRef:l,height:r||0,style:{overflow:"hidden",height:"100%"},width:"100%"}};var u=a("1Pdy");const m=i.forwardRef((({children:e,items:t,onItemsRendered:a,rowHeight:s=u.F4.md,tableRef:n},o)=>{const c=i.useRef(null),m=d(c,n);return i.createElement(r.Y1,(0,l.A)({},m,{onItemsRendered:a,itemSize:s,itemCount:t.toDisplay.length,itemData:t,ref:e=>{"function"==typeof o&&o(e),c.current=e}}),e)}));m.displayName="list";const p=m},lpJY:(e,t,a)=>{a.d(t,{A:()=>l});const l=a("R6sl").A},mqk7:(e,t,a)=>{a.d(t,{A:()=>q});var l=a("q1tI"),i=a("8m9I"),r=a("1Pdy"),s=a("AfN5"),n=a("STEc");const o={TITLE:{SIZE:n.uq.Full},ARTIST:{SIZE:n.uq.PercentXs},PARENT:{BREAKPOINT:n.x1.md,SIZE:n.uq.PercentXs},DURATION:{SIZE:n.uq.sm},POPULARITY:{BREAKPOINT:n.x1.xl,SIZE:n.uq.sm},SELECT:{ALIGN:n.uP.Right,SIZE:n.uq.sm}};var c,d,u,m=a("xCFc"),p=a("BP9I"),E=a("1Uwb"),A=a("fSLK"),y=a("lXQd"),h=a("o+h5"),g=a("pQlO"),v=a("0oF4"),_=a("r4LN"),b=a("wkd/"),I=a("PJQK"),S=a("tgyz"),T=a("Wp0Y"),P=a("CxZw"),C=a("5G9X"),f=a("SehT"),k=a("0JBE"),R=a("GjdC"),x=a("A2sV"),w=a("tZCQ"),L=a("Fzox"),N=a("xobL");const D=(0,l.memo)((0,k.S2)((({data:e,index:t,style:a})=>{const{context:i,container:r,shouldExplicitBeHidden:s}=(0,m.$A)(),n=(0,L.G)((e=>(0,N.UJ)(e.user))),{playerStatus:p,play:A,isItemLoadedInPlayer:k}=(0,S.A)(i,r,!0),D=(0,R.A)(),U=e.toDisplay[t],O=U.item.hasExplicitLyrics&&s,[B]=(0,x.ovp)(),[F]=(0,x.kuS)(),[q]=(0,x.QNb)(),H=(0,l.useCallback)((e=>{e&&!p.isPaused||D("grid_play"),w.A.isAllowed("search_refacto_2024")&&B({variables:{trackId:U.item.id}});const t={isTrackActive:e,playIndex:0,playItems:[U.item]};n?t.playTrackMix=!0:t.playOneTrack=!0,A(t)}),[A,n,U.item,D,p.isPaused,B]),Y=(0,l.useCallback)((()=>{A({notify:!1,playIndex:0,playItems:[U.item],playOneTrack:!0,playLyrics:!0})}),[A,U.item]);return l.createElement(E.A.Row,{style:a,uuid:U.uuid,id:U.item.id,index:U.index,isActive:k(U.item)&&p.isSameContext,isReadable:U.item.right===P.A.READABLE,isRestrictedByExplicit:O,type:U.item.type,isDraggable:!0},l.createElement(I.A,{size:o.TITLE.SIZE},l.createElement(I.A.Play,{ariaLabel:(0,T.AP)("generic_action_playsongXbyartistX_web",{sprintf:[U.item.title,(0,y.A)(U,"item.artists[0].name","")]}),hasExplicitCover:U.item.parent.hasExplicitCover,onPlayItems:H,pictureUrl:U.item.cover(h.r4).url}),c||(c=l.createElement(I.A.Download,null)),l.createElement(I.A.PlayableLabel,{hasExplicitLyrics:U.item.hasExplicitLyrics,label:U.item.title,onPlayItems:H,tooltipText:(0,f.Y)(U.item,s)}),l.createElement(E.A.IconGroup,null,l.createElement(I.A.ShowLyrics,{item:U.item,lyricsId:U.item.lyricsId,onPlayLyrics:Y}),d||(d=l.createElement(I.A.AddToFavorite,null)),l.createElement(I.A.OpenContextMenu,{item:U.item}))),l.createElement(E.A.CellBody,{size:o.ARTIST.SIZE},l.createElement(_.A,{links:U.item.artists.map((e=>({...e,type:C.Ay.Artist}))),onClick:({id:e})=>w.A.isAllowed("search_refacto_2024")&&F({variables:{artistId:e}})})),l.createElement(E.A.CellBody,{breakpoint:o.PARENT.BREAKPOINT,size:o.PARENT.SIZE},l.createElement(_.A,{links:[{...U.item.parent,type:C.Ay.Album}],onClick:({id:e})=>w.A.isAllowed("search_refacto_2024")&&q({variables:{albumId:e}})})),l.createElement(E.A.CellBody,{size:o.DURATION.SIZE},l.createElement(g.A,{duration:U.item.duration})),l.createElement(E.A.CellBody,{breakpoint:o.POPULARITY.BREAKPOINT,size:o.POPULARITY.SIZE},l.createElement(v.A,{rank:U.item.popularity})),l.createElement(E.A.CellBody,{align:o.SELECT.ALIGN,size:o.SELECT.SIZE},u||(u=l.createElement(b.A,null))))}),(({index:e,data:t})=>({item:C.Ay.Track,itemIndex:e,itemId:t.toDisplay[e].item.id}))),A.t7);var U,O=a("ftFY"),B=a("7u2F"),F=a("p/gB");const q=({items:e,query:t,shouldExplicitBeHidden:a=!1})=>{const n={ID:t,TYPE:(0,F.TU)(C.Ay.Track)},c={id:t,type:s.Kk.SEARCH},{manageItems:d,tableItems:u}=(0,O.A)(t,e,n),{playerStatus:A}=(0,S.A)(n,c,!0),y=(0,B.A)(u,n),h=(0,m.Ay)({container:c,context:n,manageItems:d,playerStatus:A,select:y,shouldExplicitBeHidden:a});return l.createElement(m.ru,{value:h},l.createElement(E.A,{rowCount:u.toDisplay.length},l.createElement(E.A.Header,null,l.createElement(E.A.CellHead,{size:o.TITLE.SIZE,sortPath:"item.title",dataTestId:"track_sort"},(0,T.AP)("datagrid_title_trackUPP_web")),l.createElement(E.A.CellHead,{size:o.ARTIST.SIZE,sortPath:"item.artist.name",dataTestId:"artist_sort"},(0,T.AP)("datagrid_title_artistUPP_web")),l.createElement(E.A.CellHead,{breakpoint:o.PARENT.BREAKPOINT,size:o.PARENT.SIZE,sortPath:"item.parent.name",dataTestId:"album_sort"},(0,T.AP)("datagrid_title_albumUPP_web")),l.createElement(E.A.CellHead,{ariaLabel:(0,T.AP)("sortingmenu_title_duration_web"),size:o.DURATION.SIZE,sortPath:"item.duration",dataTestId:"duration_sort"},U||(U=l.createElement(i.m,null))),l.createElement(E.A.CellHead,{breakpoint:o.POPULARITY.BREAKPOINT,size:o.POPULARITY.SIZE,sortPath:"item.popularity",dataTestId:"popularity_sort"},(0,T.AP)("datagrid_title_popularityabbrevUPP_web")),l.createElement(E.A.CellHead,{align:o.SELECT.ALIGN,size:o.SELECT.SIZE},l.createElement(p.A,{rowCount:u.toDisplay.length}))),l.createElement(E.A.Body,null,u.toDisplay.map(((e,t)=>l.createElement(D,{data:u,key:e.uuid,index:t,style:{height:r.F4.md}}))))))}},q4A9:(e,t,a)=>{a.r(t),a.d(t,{default:()=>Ra});var l=a("A2sV"),i=a("FSqQ"),r=a("q1tI"),s=a("Ty5D"),n=a("0O3b"),o=(a("W8Tb"),a("Wp0Y")),c=a("tZCQ"),d=a("5G9X");let u=function(e){return e.ALBUMS="search_albums",e.TRACKS="search_tracks",e.ARTISTS="search_artists",e.PLAYLISTS="search_playlists",e.EPISODES="search_episodes",e.PODCASTS="search_podcasts",e.LIVESTREAMS="search_radios",e.USERS="search_profiles",e.FLOW="search_flow",e.CHANNELS="search_universes",e.BEST_RESULTS="search_best_results",e}({});const m=e=>"podcasts"===e&&!c.A.isAllowed("talk"),p={all:{label:(0,o.AP)("Tout"),id:"all",filterName:"all"},artists:{label:(0,o.AP)("Artistes"),id:"artist",filterName:u.ARTISTS},albums:{label:(0,o.AP)("favoritessidebar_title_albums_web"),id:"album",filterName:u.ALBUMS},users:{label:(0,o.AP)("Profils"),id:"user",filterName:u.USERS},tracks:{label:(0,o.AP)("Titres"),id:"track",filterName:u.TRACKS},podcasts:{label:(0,o.AP)("Podcasts"),id:"show",filterName:u.PODCASTS},podcastEpisodes:{label:(0,o.AP)("generic_title_episodes_web"),id:"episode",filterName:u.EPISODES},playlists:{label:(0,o.AP)("Playlists"),id:"playlist",filterName:u.PLAYLISTS},channels:{label:(0,o.AP)("Univers"),id:"channel",filterName:u.CHANNELS},livestreams:{label:(0,o.AP)("Radios"),id:"livestream",filterName:u.LIVESTREAMS},flowConfigs:{label:(0,o.AP)("Flow"),id:"flow_config",filterName:u.FLOW}},E={InstantSearchAlbumsConnection:d.Ay.Album,InstantSearchArtistsConnection:d.Ay.Artist,InstantSearchUsersConnection:d.Ay.User,InstantSearchTracksConnection:d.Ay.Track,InstantSearchPodcastsConnection:d.Ay.Podcast,InstantSearchPodcastEpisodesConnection:d.Ay.Episode,InstantSearchPlaylistsConnection:d.Ay.Playlist,InstantSearchChannelsConnection:d.Ay.Channel,InstantSearchLivestreamsConnection:d.Ay.Radio,InstantSearchFlowConfigConnection:d.Ay.Flow,InstantSearchAlbumBestResult:d.Ay.Album,InstantSearchArtistBestResult:d.Ay.Artist,InstantSearchPlaylistBestResult:d.Ay.Playlist,InstantSearchPodcastBestResult:d.Ay.Podcast,InstantSearchLivestreamBestResult:d.Ay.Radio,InstantSearchTrackBestResult:d.Ay.Track,InstantSearchPodcastEpisodeBestResult:d.Ay.Episode,Album:d.Ay.Album,Artist:d.Ay.Artist,User:d.Ay.User,Track:d.Ay.Track,Podcast:d.Ay.Podcast,PodcastEpisode:d.Ay.Episode,Playlist:d.Ay.Playlist,Channel:d.Ay.Channel,Livestream:d.Ay.Radio,FlowConfig:d.Ay.Flow},A=e=>{const t=[];return e?(Object.values(e).forEach((a=>{if("string"!=typeof a&&a)switch(a.__typename){case"InstantSearchAlbumBestResult":case"InstantSearchArtistBestResult":case"InstantSearchPlaylistBestResult":case"InstantSearchPodcastBestResult":case"InstantSearchLivestreamBestResult":case"InstantSearchTrackBestResult":case"InstantSearchPodcastEpisodeBestResult":Object.values(a).filter((e=>"string"!=typeof e)).forEach((e=>{const l={title:"best_results",position:1,content:[{id:e.id,type:E[a.__typename],position:1}]};t.push(l)}));break;case"InstantSearchResults":{const l=Object.values(a).filter((e=>"string"!=typeof e)).filter((e=>e.edges.some((e=>null!==e.node)))).sort(((e,t)=>t.priority-e.priority)).map(((t,a)=>({title:E[t.__typename],position:e.bestResult?a+2:a+1,content:t.edges.filter((({node:e})=>Boolean(e))).map((({node:e},t)=>{if(e)return{id:e.id,type:E[e.__typename],position:t+1}})).filter(Boolean)}))).filter(Boolean);t.push(...l);break}}})),t):[]};var y=a("GxIe"),h=a("TDRX"),g=a("3ns7"),v=a("hIIJ"),_=a("3nMj"),b=a("0JBE"),I=a("p/gB"),S=a("LOQS");const T=()=>{const{page:e,section:t,entityId:a,entity:l}=(0,b.iQ)();return e&&t?()=>S.A.log({type:"cdp",eventName:"view_all_clicked",customAttributes:{screen_view_name:e,section_name:t,...l&&{screen_view_id_type:l},...a&&{screen_view_id:a}}}):()=>{}},P=(0,b.S2)((({albums:e})=>{const{query:t}=(0,s.g)(),a=T(),[i]=(0,l.QNb)(),[n]=(0,l.kuS)();return r.createElement(h.a,{my:"spacing.2xl"},r.createElement(v.A,{title:(0,o.AP)("favoritessidebar_title_albums_web"),pb:"spacing.xl",ps:"spacing.s",href:`/search/${t}/album`,onClick:a}),r.createElement(g.kK,{oneLine:!0,overflow:"hidden","data-testid":"album_thumbnail_grid"},e.map((({displayTitle:e,id:t,releaseDateAlbum:a,cover:l,contributors:s,isExplicitAlbum:o},c)=>r.createElement(b.OJ,{key:t,value:{legacyContext:{ID:t,TYPE:(0,I.TU)(d.Ay.Album)},itemIndex:c}},r.createElement(y.A,{albumName:e,id:t,releaseDate:(0,_.A)(a),contributors:s.edges.map((({node:e})=>e)),picture:null==l?void 0:l.large[0],isExplicitAlbum:Boolean(o),hasExplicitCover:Boolean(null==l?void 0:l.explicitStatus),hasContextMenu:!1,onAction:e=>{switch(e.type){case"navigation":"album"===e.target?i({variables:{albumId:e.id}}):"artist"===e.target&&n({variables:{artistId:e.id}});break;case"play":i({variables:{albumId:t}})}}}))))))}),{section:u.ALBUMS});var C=a("HXS3");const f=(0,b.S2)((({artists:e})=>{const{query:t}=(0,s.g)(),a=T(),[i]=(0,l.kuS)();return r.createElement(h.a,{my:"spacing.2xl"},r.createElement(v.A,{title:(0,o.AP)("Artistes"),pb:"spacing.xl",ps:"spacing.s",href:`/search/${t}/artist`,onClick:a}),r.createElement(g.kK,{oneLine:!0,overflow:"hidden","data-testid":"artist_thumbnail_grid"},e.map((({name:e,picture:t,id:a,isFavorite:l,fansCount:s},n)=>r.createElement(b.OJ,{key:a,value:{legacyContext:{ID:a,TYPE:(0,I.TU)(d.Ay.Artist)},itemIndex:n}},r.createElement(C.A,{artistName:e,hasExplicitPicture:Boolean(null==t?void 0:t.explicitStatus),id:a,isFavorite:Boolean(l),nbOfFans:s,picture:null==t?void 0:t.large[0],onAction:({type:e})=>{switch(e){case"navigation":case"play":i({variables:{artistId:a}})}}}))))))}),{section:u.ARTISTS});var k=a("0sL9"),R=a("o6LG"),x=a("mmFw"),w=a("/eXD"),L=a("GkjM"),N=a("kb9X");const D=(0,b.S2)((({id:e,name:t,picture:a})=>{const{push:l}=(0,s.W6)(),i=(0,N.A)();return r.createElement(k.V,{onClick:()=>{i(),l(`/profile/${e}`)},_hover:{cursor:"pointer"},"data-testid":"user_thumbnail",textAlign:"center"},r.createElement(R.g,{ratio:1,display:"block"},r.createElement(x.e,{variant:"neutral",name:t,src:null!=a?a:"",size:"100%"})),r.createElement(w.r,{title:t},r.createElement(L.A,{onClick:e=>{i(),(e=>{e.stopPropagation(),e.currentTarget.blur()})(e)},to:`/profile/${e}`,_hover:{textDecoration:"underline"}},t)))}),(({id:e})=>({itemId:e,item:d.Ay.User}))),U=(0,b.S2)((({users:e})=>{const{query:t}=(0,s.g)(),a=T();return r.createElement(h.a,{my:"spacing.2xl"},r.createElement(v.A,{title:(0,o.AP)("Profils"),pb:"spacing.xl",ps:"spacing.s",href:`/search/${t}/user`,onClick:a}),r.createElement(g.kK,{oneLine:!0,overflow:"hidden","data-testid":"user_thumbnail_grid"},e.map((({id:e,name:t,picture:a},l)=>r.createElement(b.OJ,{key:e,value:{itemIndex:l}},r.createElement(D,{id:e,name:t,picture:null==a?void 0:a.large[0]}))))))}),{section:u.USERS});var O=a("SGue"),B=a("lhvF"),F=a("L20E"),q=a("uN8A"),H=a("7bA3"),Y=a("smbX"),Q=a("Fzox"),M=a("xobL"),z=a("23Qi"),Z=a("syib");const K=e=>{e.stopPropagation(),e.currentTarget.blur()},$=(0,b.S2)((({id:e,playlistName:t,picture:a,estimatedTracksCount:l,fansCount:i,ownerId:n,ownerName:c,onAction:d})=>{const{push:u}=(0,s.W6)(),{toggleFavorite:m,isFavorite:p}=(0,Z.A)(e),E=(0,Q.G)((e=>(0,M.F6)(e.user))),A=(0,N.A)();return r.createElement(k.V,{onClick:()=>{A(),null==d||d({type:"navigation"}),u(`/playlist/${e}`)},_hover:{cursor:"pointer"},"data-testid":"playlist_thumbnail"},r.createElement(R.g,{ratio:1,display:"block"},r.createElement(O.Y,{src:a,alt:t},r.createElement(B.Q,null,r.createElement(H.A,{onClick:()=>null==d?void 0:d({type:"play"}),type:"playlist",id:e}),String(E)!==String(n)&&r.createElement(Y.A,{isFavorite:p,toggleFavorite:m})))),r.createElement(w.r,{title:t},r.createElement(L.A,{onClick:e=>{A(),null==d||d({type:"navigation"}),K(e)},to:`/playlist/${e}`,_hover:{textDecoration:"underline"}},t)),c&&n&&r.createElement(F.T,null,r.createElement(L.A,{onClick:e=>{A(),K(e)},to:`/profile/${n}`,_hover:{textDecoration:"underline"}},c)),r.createElement(q.f,null,(0,o.WI)("%s titre","%s titres",{sprintf:[(0,z.A)(l)],count:l}),i>0&&" - "+(0,o.WI)("%s fan","%s fans",{sprintf:[(0,z.A)(i)],count:i})))}),(({id:e})=>({itemId:e,item:d.Ay.Playlist}))),W=(0,b.S2)((({playlists:e})=>{const{query:t}=(0,s.g)(),a=T(),[i]=(0,l.$1e)();return r.createElement(h.a,{my:"spacing.2xl"},r.createElement(v.A,{title:(0,o.AP)("Playlists"),pb:"spacing.xl",ps:"spacing.s",href:`/search/${t}/playlist`,onClick:a}),r.createElement(g.kK,{oneLine:!0,overflow:"hidden","data-testid":"playlist_thumbnail_grid"},e.map((({id:e,title:t,picture:a,estimatedTracksCount:l,owner:s,fansCount:n},o)=>r.createElement(b.OJ,{key:e,value:{legacyContext:{ID:e,TYPE:(0,I.TU)(d.Ay.Playlist)},itemIndex:o}},r.createElement($,{id:e,picture:null==a?void 0:a.large[0],playlistName:t,estimatedTracksCount:l,ownerId:null==s?void 0:s.id,ownerName:null==s?void 0:s.name,fansCount:n,onAction:({type:t})=>{switch(t){case"navigation":case"play":i({variables:{playlistId:e}})}}}))))))}),{section:u.PLAYLISTS});var G=a("qnpB");const V=(0,b.S2)((({channels:e})=>{const{query:t}=(0,s.g)(),a=(0,N.A)(),l=T();return r.createElement(h.a,{my:"spacing.2xl"},r.createElement(v.A,{title:(0,o.AP)("Univers"),pb:"spacing.xl",ps:"spacing.s",href:`/search/${t}/channel`,onClick:l}),r.createElement(g.kK,{oneLine:!0,overflow:"hidden","data-testid":"channel_thumbnail_grid"},e.map((({name:e,picture:t,url:l,id:i},s)=>{var n;return r.createElement(h.a,{key:i,margin:"spacing.s"},r.createElement(b.OJ,{value:{itemIndex:s}},r.createElement(G.A,{picture:{url:(null==t||null===(n=t.large)||void 0===n?void 0:n[0])||"",type:d.Ay.Channel},title:e,target:l.webUrl,onClick:()=>{a()}})))}))))}),{section:u.CHANNELS});var X,J=a("9OcB"),j=a("1lpQ"),ee=a("6rbY");const te=(0,b.S2)((({id:e,podcastName:t,isExplicitPodcast:a,picture:l,hasExplicitPicture:i,onAction:n})=>{const{push:o}=(0,s.W6)(),{toggleFavorite:c,isFavorite:d}=(0,ee.A)(e),u=(0,N.A)();return r.createElement(k.V,{onClick:()=>{u(),null==n||n({type:"navigation"}),o(`/show/${e}`)},_hover:{cursor:"pointer"},"data-testid":"show_thumbnail"},r.createElement(R.g,{ratio:1,display:"block"},r.createElement(J.A,{src:l,isExplicitCover:i},r.createElement(B.Q,null,r.createElement(H.A,{onClick:()=>null==n?void 0:n({type:"play"}),type:"show",id:e}),r.createElement(Y.A,{isFavorite:d,toggleFavorite:c})))),r.createElement(w.r,{title:t},r.createElement(L.A,{onClick:e=>{u(),null==n||n({type:"navigation"}),(e=>{e.stopPropagation(),e.currentTarget.blur()})(e)},to:`/show/${e}`,_hover:{textDecoration:"underline"}},t)),a&&(X||(X=r.createElement(h.a,{mt:"spacing.s"},r.createElement(j.A,null)))))}),(({id:e})=>({itemId:e,item:d.Ay.Podcast}))),ae=(0,b.S2)((({podcasts:e})=>{const{query:t}=(0,s.g)(),a=T(),[i]=(0,l.RsC)();return r.createElement(h.a,{my:"spacing.2xl"},r.createElement(v.A,{title:(0,o.AP)("Podcasts"),pb:"spacing.xl",ps:"spacing.s",href:`/search/${t}/show`,onClick:a}),r.createElement(g.kK,{oneLine:!0,overflow:"hidden","data-testid":"show_thumbnail_grid"},e.map((({id:e,displayTitle:t,cover:a,isExplicit:l},s)=>r.createElement(b.OJ,{key:e,value:{legacyContext:{ID:e,TYPE:(0,I.TU)(d.Ay.Podcast)},itemIndex:s}},r.createElement(te,{key:e,id:e,podcastName:t,isExplicitPodcast:l,picture:null==a?void 0:a.large[0],hasExplicitPicture:null==a?void 0:a.explicitStatus,onAction:({type:t})=>{switch(t){case"navigation":case"play":i({variables:{podcastId:e}})}}}))))))}),{section:u.PODCASTS});var le,ie=a("CdHq"),re=a("+OFx");const se=({id:e,livestreamName:t,picture:a,hasExplicitPicture:l,onAction:i})=>r.createElement(b.OJ,{value:{item:d.Ay.Radio,itemId:e}},r.createElement(k.V,{"data-testid":"livestream_thumbnail"},r.createElement(R.g,{ratio:1,display:"block"},r.createElement(J.A,{src:a,alt:t,isExplicitCover:l},r.createElement(B.Q,null,r.createElement(H.A,{onClick:()=>null==i?void 0:i({type:"play"}),shouldPlayRadio:!0,type:"livestream",id:e})))),r.createElement(w.r,{title:t},t),r.createElement(ie.s,{flexDirection:"row",alignItems:"center"},r.createElement(F.T,null,(0,o.AP)("EN DIRECT")),le||(le=r.createElement(re.f,{marginTop:"spacing.xs",color:"text.neutral.secondary.default"}))))),ne=(0,b.S2)((({livestreams:e})=>{const{query:t}=(0,s.g)(),a=T(),[i]=(0,l.nZ$)();return r.createElement(h.a,{my:"spacing.2xl"},r.createElement(v.A,{title:(0,o.AP)("Radios"),pb:"spacing.xl",ps:"spacing.s",href:`/search/${t}/livestream`,onClick:a}),r.createElement(g.kK,{oneLine:!0,overflow:"hidden","data-testid":"livestream_thumbnail_grid"},e.map((({id:e,name:t,cover:a},l)=>r.createElement(b.OJ,{key:e,value:{legacyContext:{ID:e,TYPE:(0,I.TU)(d.Ay.Livestream)},itemIndex:l}},r.createElement(se,{key:e,id:e,livestreamName:t,picture:null==a?void 0:a.large[0],hasExplicitPicture:Boolean(null==a?void 0:a.explicitStatus),onAction:({type:t})=>{"play"===t&&i({variables:{livestreamId:e}})}}))))))}),{section:u.LIVESTREAMS});var oe=a("siwx"),ce=a("HmE0"),de=a("pVdW"),ue=a("GQRc"),me=a("zuZo"),pe=a("gVf4"),Ee=a("TRpf"),Ae=a("AfN5"),ye=a("M5EV"),he=a("u7vQ"),ge=a("GjdC");const ve=(0,b.S2)((({id:e,title:t,picture:a})=>{const l=(0,Ee.d4)((e=>String((0,M.F6)(e.user)))),{legacyContext:i}=(0,b.iQ)(),[s,n]=(0,r.useState)(!1),o=e===me.u.Default,{isPaused:c,isPlaying:u}=(0,pe.A)(o?d.Ay.Flow:d.Ay.MultiFlow,o?l:e),m=(0,ge.A)();return r.createElement(h.a,{as:"button",textAlign:"center",padding:"spacing.s",paddingBottom:"spacing.l",borderRadius:"s",role:"group",overflow:"hidden",onClick:()=>{u||m("direct_play"),u||c?he.Ay.control.togglePause():o?he.Ay.play({type:Ae.Kk.USER,id:l,radio:!0,context:i}):he.Ay.play({type:Ae.Kk.MULTI_FLOW,id:e,radio:!0,context:i})},onMouseEnter:()=>n(!0),onMouseLeave:()=>n(!1),"data-testid":"flow_config_thumbnail"},r.createElement(R.g,{ratio:1},r.createElement(r.Fragment,null,r.createElement(h.a,{background:(0,ue.RQ)(e).backgroundColor,position:"absolute",borderRadius:"full",transition:"400ms ease-out",opacity:0,zIndex:"1",_groupHover:{opacity:1,transform:"scale(2)"},_groupFocusVisible:{opacity:1,transform:"scale(2)"}}),r.createElement(h.a,{borderRadius:"full",backgroundColor:"background.neutral.secondary.default",position:"relative",transition:"400ms ease-out",_groupHover:{opacity:0},_groupFocusVisible:{opacity:0},sx:u?{background:(0,ue.RQ)(e).backgroundColor}:void 0},r.createElement(oe._,{sx:u?{opacity:0}:void 0,src:a})),r.createElement(h.a,{position:"absolute",opacity:0,zIndex:"2",transition:"400ms ease-out",_groupHover:{opacity:1},_groupFocusVisible:{opacity:1},sx:u?{opacity:1}:void 0},r.createElement(ce.K0,{as:"div","aria-label":"",colorScheme:"white",shadow:"md",variant:"onDark",icon:r.createElement(ye.A,{isHover:s,isActive:u,color:"black",size:"small"})})))),r.createElement(de.E,{pt:"spacing.s",color:"text.neutral.primary.default",variant:"body.l.default",noOfLines:2,position:"relative",zIndex:"2",transition:"400ms ease-out",_groupHover:{color:(0,ue.RQ)(e).textColor},_groupFocusVisible:{color:(0,ue.RQ)(e).textColor},title:t},t))}),(({id:e})=>({itemId:e,item:d.Ay.Flow}))),_e=(0,b.S2)((({flowConfigs:e})=>{const{query:t}=(0,s.g)(),a=(0,Q.G)((e=>String((0,M.F6)(e.user)))),l=T();return r.createElement(h.a,{my:"spacing.2xl"},r.createElement(v.A,{title:(0,o.AP)("Flow"),pb:"spacing.xl",ps:"spacing.s",href:`/search/${t}/flow_config`,onClick:l}),r.createElement(g.kK,{oneLine:!0,overflow:"hidden","data-testid":"flow_config_thumbnail_grid"},e.map((({id:e,title:t,visuals:{dynamicPageIcon:l}},i)=>{var s;return r.createElement(b.OJ,{value:{legacyContext:e===me.u.Default?{ID:a,TYPE:(0,I.TU)(d.Ay.Flow)}:{ID:e,TYPE:(0,I.TU)(d.Ay.MultiFlow)},itemIndex:i},key:e},r.createElement(ve,{id:e,title:t,picture:(null==l||null===(s=l.large)||void 0===s?void 0:s[0])||""}))}))))}),{section:u.FLOW});var be=a("mqk7"),Ie=a("sAMA");const Se=(0,b.S2)((({tracks:e})=>{const{query:t}=(0,s.g)(),a=(0,Q.G)((e=>(0,M.zI)(e.user)||(0,M.Uw)(e.user)===Ie.g)),l=T();return r.createElement(h.a,{my:"spacing.2xl"},r.createElement(v.A,{title:(0,o.AP)("Titres"),pb:"spacing.xl",ps:"spacing.s",href:`/search/${t}/track`,onClick:l}),r.createElement(be.A,{shouldExplicitBeHidden:a,items:e,query:t}))}),{section:u.TRACKS});var Te=a("6jI4"),Pe=a("9MQu"),Ce=a("+9dH"),fe=a("5nwK"),ke=a("y7xR");const Re={Block:({children:e,onClick:t,...a})=>r.createElement(g.kK,{oneLine:!0},r.createElement(fe.E,(0,Ce.A)({colSpan:{base:"var(--tempoN)",md:2},borderRadius:"s",backgroundColor:"background.neutral.secondary.default",p:"spacing.xl"},a),r.createElement(ie.s,{direction:"column",height:"100%",p:"spacing.xl",alignItems:"center",borderRadius:"s",_hover:{bg:"background.neutral.secondary.hovered",cursor:"pointer"},onClick:t,role:"group","data-testid":"top_result_clickable_area"},e))),Title:({children:e,...t})=>r.createElement(ke.D,(0,Ce.A)({variant:"heading.m",noOfLines:2,mb:"spacing.xs",textAlign:"center"},t),e),Subtitle:({children:e,...t})=>r.createElement(de.E,(0,Ce.A)({color:"text.neutral.secondary.default",variant:"body.s.default",mb:"spacing.xs",textAlign:"center",noOfLines:2},t),e)},xe=Re;var we=a("Tyyv"),Le=a("WN1e"),Ne=a("AY3M");var Ue,Oe;const Be=(0,b.S2)((({artistId:e,isPrimary:t})=>{const{play:a,isPlaying:i}=(({id:e,context:t})=>{const{isPlaying:a,isPaused:l}=(0,pe.A)(d.Ay.Artist,e),i=(0,ge.A)();return{isPlaying:a,play:(r="direct_play")=>{a||i(r),a||l?he.Ay.control.togglePause():he.Ay.play({type:Ae.Kk.ARTIST,id:e,context:t,radio:!0})}}})({id:e,context:{ID:e,TYPE:(0,I.Pe)(d.Ay.Artist,Ne._v)}}),[s]=(0,l.kuS)({variables:{artistId:e}});return r.createElement(ce.$n,{size:"small",mt:"spacing.m",variant:t?"contain":"outline",leftIcon:i?Ue||(Ue=r.createElement(we.r,null)):Oe||(Oe=r.createElement(Le.R,null)),onClick:e=>{e.stopPropagation(),a("shuffle"),s()}},(0,o.AP)("generic_title_artistmix_web"))}),{item:"artist_mix"}),qe=(0,b.S2)((({artistId:e})=>{const{play:t,isPlaying:a}=(({id:e,context:t})=>{const{isPlaying:a,isPaused:l}=(0,pe.A)(d.Ay.Track,e),i=(0,ge.A)();return{isPlaying:a,play:(r="direct_play")=>{a||i(r),a||l?he.Ay.control.togglePause():he.Ay.play({type:Ae.Kk.TOP_ARTIST,id:e,context:t})}}})({id:e,context:{TYPE:"search_artist_top_tracks",ID:e}}),[i]=(0,l.kuS)({variables:{artistId:e}});return r.createElement(ce.$n,{size:"small",mt:"spacing.m",leftIcon:r.createElement(ye.A,{isActive:a}),onClick:e=>{e.stopPropagation(),i(),t()}},(0,o.AP)("Top titres"))}),{item:"artist_top_tracks"});var He=a("23mk");const Ye=(0,b.S2)((({item:e})=>{var t,a;const i=(0,N.A)(),[n]=(0,l.kuS)(),{toggleFavorite:c,isFavorite:d}=(0,He.A)(e.id),{push:u}=(0,s.W6)(),m=(0,Q.G)((e=>(0,M.ki)(e.user))),p=e.hasTopTracks&&m;return r.createElement(xe.Block,{onClick:()=>{i(),n({variables:{artistId:e.id}}),u(`/artist/${e.id}`)},"data-testid":"artist_top_result_block"},r.createElement(J.A,{borderRadius:"rounded",src:null===(t=e.picture)||void 0===t?void 0:t.large[0],isExplicitCover:Boolean(null===(a=e.picture)||void 0===a?void 0:a.explicitStatus),"data-testid":"artist_top_result_cover",size:"size.3xl",mb:"spacing.l"},r.createElement(B.Q,null,r.createElement(Y.A,{isFavorite:d,toggleFavorite:c}))),r.createElement(xe.Title,{"data-testid":"artist_top_result_title"},r.createElement(L.A,{underlined:!0,color:"inherit",to:`/artist/${e.id}`,onClick:t=>{t.stopPropagation(),i(),n({variables:{artistId:e.id}})}},e.name)),r.createElement(xe.Subtitle,{"data-testid":"artist_top_result_subtitle"},(0,o.WI)("%s fan","%s fans",{sprintf:[(0,z.A)(e.fansCount)],count:e.fansCount})),r.createElement(Pe.e,{size:"small"},p&&r.createElement(qe,{artistId:e.id}),e.hasSmartRadio&&r.createElement(Be,{artistId:e.id,isPrimary:!p})))}),(({item:{id:e}})=>({item:"artist",itemId:e})));var Qe=a("nQur");const Me=({isPlaying:e,onClick:t,...a})=>{const[l,i]=(0,r.useState)(!1);return r.createElement(ce.K0,(0,Ce.A)({icon:r.createElement(ye.A,{isActive:e,isHover:l,size:"small"}),onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1),onClick:e=>{e.stopPropagation(),null==t||t(e)},"aria-label":e?(0,o.AP)("Pause"):(0,o.AP)("Play")},a))},Ze=(0,b.S2)((({item:e})=>{var t,a;const{toggleFavorite:i,isFavorite:n}=(0,Qe.A)(e.id),{push:c}=(0,s.W6)(),u=(0,N.A)(),[m]=(0,l.QNb)(),[p]=(0,l.kuS)(),{play:E,isPlaying:A}=(({id:e,context:t})=>{const{isPlaying:a,isPaused:l}=(0,pe.A)(d.Ay.Album,e),i=(0,ge.A)();return{isPlaying:a,play:()=>{a||i("direct_play"),a||l?he.Ay.control.togglePause():he.Ay.play({type:Ae.Kk.ALBUM,id:e,context:t})}}})({id:e.id,context:{ID:e.id,TYPE:(0,I.Pe)(d.Ay.Album,Ne._v)}});return r.createElement(xe.Block,{onClick:()=>{u(),m({variables:{albumId:e.id}}),c(`/album/${e.id}`)},"data-testid":"album_top_result_block"},r.createElement(J.A,{src:null===(t=e.cover)||void 0===t?void 0:t.large[0],isExplicitCover:Boolean(null===(a=e.cover)||void 0===a?void 0:a.explicitStatus),alt:e.displayTitle,borderRadius:"xs",size:"size.3xl","data-testid":"album_top_result_cover",mb:"spacing.l"},r.createElement(B.Q,null,r.createElement(Y.A,{isFavorite:n,toggleFavorite:i}))),r.createElement(xe.Title,{"data-testid":"album_top_result_title"},r.createElement(L.A,{underlined:!0,color:"inherit",to:`/album/${e.id}`,onClick:t=>{t.stopPropagation(),u(),m({variables:{albumId:e.id}})}},e.displayTitle)),r.createElement(xe.Subtitle,{"data-testid":"album_top_result_subtitle"},`${(0,o.AP)("generic_title_album_web")} • `,e.contributors.edges.map((({node:e},t)=>r.createElement(r.Fragment,{key:e.id},t>0&&", ",r.createElement(L.A,{to:`/artist/${e.id}`,underlined:!0,onClick:t=>{t.stopPropagation(),p({variables:{artistId:e.id}}),u()},color:"inherit"},e.name))))),r.createElement(Me,{mt:"spacing.m",size:"small",isPlaying:A,onClick:()=>{E(),m({variables:{albumId:e.id}})}}))}),(({item:{id:e}})=>({item:"album",itemId:e}))),$e=(0,b.S2)((({item:e})=>{var t,a,i,n;const{toggleFavorite:c,isFavorite:u}=(0,Z.A)(e.id),m=(0,Q.G)((e=>(0,M.F6)(e.user))),p=(0,N.A)(),[E]=(0,l.$1e)(),{play:A,isPlaying:y}=(({id:e,context:t})=>{const{isPlaying:a,isPaused:l}=(0,pe.A)(d.Ay.Playlist,e),i=(0,ge.A)();return{isPlaying:a,play:()=>{a||i("direct_play"),a||l?he.Ay.control.togglePause():he.Ay.play({type:Ae.Kk.PLAYLIST,id:e,context:t})}}})({id:e.id,context:{ID:e.id,TYPE:(0,I.Pe)(d.Ay.Playlist,Ne._v)}}),{push:h}=(0,s.W6)();return r.createElement(xe.Block,{onClick:()=>{p(),E({variables:{playlistId:e.id}}),h(`/playlist/${e.id}`)},"data-testid":"playlist_top_result_block"},r.createElement(O.Y,{src:null===(t=e.picture)||void 0===t?void 0:t.large[0],alt:e.title,borderRadius:"xs","data-testid":"playlist_top_result_cover",size:"size.3xl",mb:"spacing.l"},String(m)!==String(null===(a=e.owner)||void 0===a?void 0:a.id)&&r.createElement(B.Q,null,r.createElement(Y.A,{isFavorite:u,toggleFavorite:c}))),r.createElement(xe.Title,{"data-testid":"playlist_top_result_title"},r.createElement(L.A,{underlined:!0,color:"inherit",to:`/playlist/${e.id}`,onClick:t=>{t.stopPropagation(),p(),E({variables:{playlistId:e.id}})}},e.title)),r.createElement(xe.Subtitle,{"data-testid":"playlist_top_result_subtitle"},(0,o.AP)("Playlist"),null!==(i=e.owner)&&void 0!==i&&i.id&&null!==(n=e.owner)&&void 0!==n&&n.name?` • ${e.owner.name} `:null),r.createElement(Me,{mt:"spacing.m",size:"small",isPlaying:y,onClick:()=>{A(),E({variables:{playlistId:e.id}})}}))}),(({item:{id:e}})=>({item:"playlist",itemId:e}))),Ge=(0,b.S2)((({item:e})=>{var t,a;const{toggleFavorite:i,isFavorite:n}=(0,ee.A)(e.id),c=(0,N.A)(),[u]=(0,l.RsC)(),{play:m,isPlaying:p}=(({id:e,context:t})=>{const{isPlaying:a,isPaused:l}=(0,pe.A)(d.Ay.Show,e),i=(0,ge.A)();return{isPlaying:a,play:()=>{a||i("direct_play"),a||l?he.Ay.control.togglePause():he.Ay.play({type:Ae.Kk.SHOW,id:e,context:t})}}})({id:e.id,context:{ID:e.id,TYPE:(0,I.Pe)(d.Ay.Show,Ne._v)}}),{push:E}=(0,s.W6)();return r.createElement(xe.Block,{"data-testid":"show_top_result_block",onClick:()=>{c(),u({variables:{podcastId:e.id}}),E(`/show/${e.id}`)}},r.createElement(J.A,{src:null===(t=e.cover)||void 0===t?void 0:t.large[0],isExplicitCover:Boolean(null===(a=e.cover)||void 0===a?void 0:a.explicitStatus),borderRadius:"xs","data-testid":"show_top_result_cover",size:"size.3xl",mb:"spacing.l"},r.createElement(B.Q,null,r.createElement(Y.A,{isFavorite:n,toggleFavorite:i}))),r.createElement(xe.Title,{"data-testid":"show_top_result_title"},r.createElement(L.A,{underlined:!0,color:"inherit",to:`/show/${e.id}`,onClick:t=>{t.stopPropagation(),c(),u({variables:{podcastId:e.id}})}},e.displayTitle)),r.createElement(xe.Subtitle,{"data-testid":"show_top_result_subtitle"},`${(0,o.AP)("Podcast")} • ${(0,o.AP)("masthead_text_Xepisodes_web",{count:e.rawEpisodes.length,sprintf:[e.rawEpisodes.length]})}`),r.createElement(Me,{mt:"spacing.m",size:"small",isPlaying:p,onClick:()=>{m(),u({variables:{podcastId:e.id}})}}))}),(({item:{id:e}})=>({item:"podcast",itemId:e}))),Xe=(0,b.S2)((({item:e})=>{var t,a;const[i]=(0,l.nZ$)(),{play:s,isPlaying:n}=(({id:e,context:t})=>{const{isPlaying:a,isPaused:l}=(0,pe.A)(d.Ay.Livestream,e),i=(0,ge.A)();return{isPlaying:a,play:()=>{a||i("direct_play"),a||l?he.Ay.control.togglePause():he.Ay.play({type:Ae.Kk.LIVESTREAM,id:e,context:t,radio:!0})}}})({id:e.id,context:{ID:e.id,TYPE:(0,I.Pe)(d.Ay.Livestream,Ne._v)}}),c=()=>{s(),i({variables:{livestreamId:e.id}})};return r.createElement(xe.Block,{"data-testid":"livestream_top_result_block",onClick:c},r.createElement(J.A,{src:null===(t=e.cover)||void 0===t?void 0:t.large[0],alt:e.name,isExplicitCover:Boolean(null===(a=e.cover)||void 0===a?void 0:a.explicitStatus),borderRadius:"xs","data-testid":"livestream_top_result_cover",size:"size.3xl",mb:"spacing.l"}),r.createElement(xe.Title,{"data-testid":"livestream_top_result_title"},e.name),r.createElement(xe.Subtitle,{"data-testid":"livestream_top_result_subtitle"},(0,o.AP)("Radio")),r.createElement(Me,{mt:"spacing.m",size:"small",isPlaying:n,onClick:c}))}),(({item:{id:e}})=>({item:d.Ay.Radio,itemId:e})));var Je=a("gczi");const et=(0,b.S2)((({item:e})=>{var t,a,i;const{isFavorite:n,toggleFavorite:c}=(0,Je.A)(e.id),u=(0,N.A)(),[m]=(0,l.ovp)(),[p]=(0,l.kuS)(),{query:E}=(0,s.g)(),{play:A,isPlaying:y}=(({id:e,context:t})=>{const{isPlaying:a,isPaused:l}=(0,pe.A)(d.Ay.Track,e),i=(0,ge.A)();return{isPlaying:a,play:()=>{a||i("direct_play"),a||l?he.Ay.control.togglePause():he.Ay.play({id:e,type:Ae.Kk.TRACK_MIX,context:t,forceAsFirstTrack:!0})}}})({id:e.id,context:{TYPE:(0,I.Pe)(d.Ay.Track,Ne._v),ID:e.id,CONTEXT_ID:E}});return r.createElement(xe.Block,{onClick:()=>{A(),m({variables:{trackId:e.id}})}},r.createElement(J.A,{src:null===(t=e.album)||void 0===t||null===(t=t.cover)||void 0===t?void 0:t.large[0],isExplicitCover:Boolean(null===(a=e.album)||void 0===a||null===(a=a.cover)||void 0===a?void 0:a.explicitStatus),alt:e.title,borderRadius:"xs",size:"size.3xl",mb:"spacing.l"},r.createElement(B.Q,null,r.createElement(Y.A,{isFavorite:n,toggleFavorite:c}))),r.createElement(xe.Title,null,r.createElement(L.A,{underlined:!0,color:"inherit",to:`/album/${null===(i=e.album)||void 0===i?void 0:i.id}`,onClick:t=>{t.stopPropagation(),u(),m({variables:{trackId:e.id}})}},e.title)),r.createElement(xe.Subtitle,null,`${(0,o.AP)("Titre")} • `,e.contributors.edges.map((({node:e},t)=>r.createElement(r.Fragment,{key:e.id},t>0&&", ",r.createElement(L.A,{to:`/artist/${e.id}`,underlined:!0,onClick:t=>{t.stopPropagation(),p({variables:{artistId:e.id}}),u()},color:"inherit"},e.name))))),r.createElement(Me,{mt:"spacing.m",size:"small",isPlaying:y,onClick:()=>{A(),m({variables:{trackId:e.id}})}}))}),(({item:e})=>({item:"track",itemId:e.id})));var tt=a("RuKb"),at=a("oB8A");var it,rt=a("wf06"),st=a("w2Jm"),nt=a("Ri3Q"),ot=a("eTJY");const ct=(0,b.S2)((({item:e})=>{var t,a;const i=new rt.A(e),s=(0,Q.G)((t=>(0,tt.v6)(t.bookmarks,at.x.EPISODE,e.id))),[n]=(0,l.mcr)({variables:{episodeId:e.id}}),[c]=(0,l.RsC)({variables:{podcastId:e.podcast.id}}),{play:u,isPlaying:m}=(({id:e,context:t,data:a})=>{const{isPlaying:l,isPaused:i}=(0,pe.A)(d.Ay.Episode,e),r=(0,ge.A)();return{isPlaying:l,play:()=>{l||r("direct_play"),l||i?he.Ay.control.togglePause():he.Ay.play({type:Ae.Kk.EPISODE,id:e,data:a.map((e=>e.legacy)),context:t})}}})({id:e.id,data:[i],context:{ID:e.id,TYPE:(0,I.Pe)(d.Ay.Episode,Ne._v)}});return r.createElement(xe.Block,{onClick:()=>{n(),u()}},r.createElement(J.A,{src:null===(t=e.podcast.cover)||void 0===t?void 0:t.large[0],isExplicitCover:Boolean(null===(a=e.podcast.cover)||void 0===a?void 0:a.explicitStatus),borderRadius:"xs",size:"size.3xl",mb:"spacing.l"}),r.createElement(xe.Title,{onClick:()=>{n(),u()},_hover:{textDecoration:"underline"}},e.title),r.createElement(xe.Subtitle,null,`${(0,o.AP)("generic_title_episode_web")} • `,r.createElement(L.A,{underlined:!0,color:"inherit",to:`/show/${e.podcast.id}`,onClick:e=>{e.stopPropagation(),c()}},e.podcast.displayTitle)),r.createElement(Me,{onClick:()=>{n(),u()},isPlaying:m,mt:"spacing.m",size:"small"}),(()=>{if(!s)return null;if(s.played)return r.createElement(de.E,{mt:"spacing.m",variant:"body.2xs.default",color:"text.neutral.secondary.default",display:"flex",alignItems:"flex-end"},(0,o.AP)("podcastpage_title_playedUPP_web"),it||(it=r.createElement(ot.S,null)));const t=(0,st.r3)(s.offset,e.duration),a=(0,st.YX)(s.offset,e.duration);return s.offset>0&&t?r.createElement(r.Fragment,null,r.createElement(de.E,{mt:"spacing.m",mb:"spacing.2xs",variant:"body.2xs.default",color:"text.neutral.secondary.default"},(0,o.WI)("timecounter_text_XminleftUPP_web","timecounter_text_XminleftUPP_web",{sprintf:[t],count:t})),r.createElement(nt.k,{variant:"onSecondary",my:"spacing.xs",width:"size.2xl",value:a})):void 0})())}),(({item:e})=>({item:"episode",itemId:e.id})));var dt;const ut=({content:e})=>{const t=e.__typename;return r.createElement(b.OJ,{value:{section:u.BEST_RESULTS}},r.createElement(ie.s,{pt:"spacing.xl",flexDirection:"column",gap:"spacing.l"},r.createElement(v.A,{title:(0,o.WI)("searchresult_title_topresults_web","searchresult_title_topresults_web",{count:1}),ps:"spacing.s"}),(()=>{switch(t){case"InstantSearchArtistBestResult":return r.createElement(Ye,{item:e.artist});case"InstantSearchAlbumBestResult":return r.createElement(Ze,{item:e.album});case"InstantSearchPlaylistBestResult":return r.createElement($e,{item:e.playlist});case"InstantSearchPodcastBestResult":return r.createElement(Ge,{item:e.podcast});case"InstantSearchLivestreamBestResult":return r.createElement(Xe,{item:e.livestream});case"InstantSearchTrackBestResult":return r.createElement(et,{item:e.track});case"InstantSearchPodcastEpisodeBestResult":return r.createElement(ct,{item:e.podcastEpisode});default:return null}})(),dt||(dt=r.createElement(Te.c,null))))};var mt=a("LePI");const pt=(0,b.S2)((({episodes:e})=>{const{query:t}=(0,s.g)(),a=T();return r.createElement(h.a,{my:"spacing.2xl"},r.createElement(v.A,{title:(0,o.AP)("generic_title_episodes_web"),href:`/search/${t}/episode`,onClick:a}),r.createElement(mt.A,{items:e,query:t}))}),{section:u.EPISODES}),Et=({albums:e,artists:t,users:a,playlists:l,channels:i,podcasts:s,flowConfigs:n,livestreams:o,tracks:d,podcastEpisodes:u,bestResult:m,sectionsOrder:p})=>r.createElement(r.Fragment,null,m&&r.createElement(ut,{content:m}),p.map((m=>{switch(m){case"albums":return e.length>0&&r.createElement(P,{key:m,albums:e});case"artists":return t.length>0&&r.createElement(f,{key:m,artists:t});case"users":return a.length>0&&r.createElement(U,{key:m,users:a});case"playlists":return l.length>0&&r.createElement(W,{key:m,playlists:l});case"channels":return i.length>0&&r.createElement(V,{key:m,channels:i});case"podcasts":return s.length>0&&r.createElement(ae,{key:m,podcasts:s});case"flowConfigs":return n.length>0&&r.createElement(_e,{key:m,flowConfigs:n});case"livestreams":return o.length>0&&r.createElement(ne,{key:m,livestreams:o});case"tracks":return d.length>0&&r.createElement(Se,{key:m,tracks:d});case"podcastEpisodes":return u.length>0&&c.A.isAllowed("talk")&&r.createElement(pt,{key:m,episodes:u})}})));var At,yt,ht=a("MTsA"),gt=a("WmA5"),vt=a("D6Uc"),_t=a("KVgY");const bt=()=>{var e,t;const{query:a}=(0,s.g)(),o=decodeURIComponent(a),{data:c,loading:m,fetchMore:p}=(0,l.l4E)({variables:{query:o,first:20,cursor:null}}),E=(0,n.A)(null==c||null===(e=c.instantSearch)||void 0===e||null===(e=e.results.albums)||void 0===e?void 0:e.edges),[A]=(0,l.QNb)(),[h]=(0,l.kuS)();return m?At||(At=r.createElement(i.A,null)):r.createElement(b.OJ,{value:{section:u.ALBUMS}},r.createElement(_t.A,{hasMore:null==c||null===(t=c.instantSearch)||void 0===t?void 0:t.results.albums.pageInfo.hasNextPage,loadMore:()=>{var e;return p({variables:{cursor:null==c||null===(e=c.instantSearch)||void 0===e?void 0:e.results.albums.pageInfo.endCursor}})},loader:yt||(yt=r.createElement(i.A,{key:"loader"}))},r.createElement(g.kK,null,E.map(((e,t)=>{var a,l;return r.createElement(b.OJ,{key:e.id,value:{legacyContext:{ID:e.id,TYPE:(0,I.TU)(d.Ay.Album)},itemIndex:t}},r.createElement(y.A,{key:e.id,albumName:e.displayTitle,contributors:e.contributors.edges.map((({node:{name:e,id:t}})=>({name:e,id:t}))),hasExplicitCover:null===(a=e.cover)||void 0===a?void 0:a.explicitStatus,isExplicitAlbum:Boolean(e.isExplicitAlbum),releaseDate:(0,_.A)(e.releaseDateAlbum),id:e.id,hasContextMenu:!1,picture:null===(l=e.cover)||void 0===l?void 0:l.large[0],onAction:t=>{switch(t.type){case"navigation":"album"===t.target?A({variables:{albumId:t.id}}):"artist"===t.target&&h({variables:{artistId:t.id}});break;case"play":A({variables:{albumId:e.id}})}}}))})))))};var It,St;const Tt=()=>{var e,t;const{query:a}=(0,s.g)(),o=decodeURIComponent(a),{data:c,loading:m,fetchMore:p}=(0,l.Dh1)({variables:{query:o,first:20,cursor:null}}),E=(0,n.A)(null==c||null===(e=c.instantSearch)||void 0===e||null===(e=e.results.artists)||void 0===e?void 0:e.edges),[A]=(0,l.kuS)();return m?It||(It=r.createElement(i.A,null)):r.createElement(b.OJ,{value:{section:u.ARTISTS}},r.createElement(_t.A,{hasMore:null==c||null===(t=c.instantSearch)||void 0===t?void 0:t.results.artists.pageInfo.hasNextPage,loadMore:()=>{var e;return p({variables:{cursor:null==c||null===(e=c.instantSearch)||void 0===e?void 0:e.results.artists.pageInfo.endCursor}})},loader:St||(St=r.createElement(i.A,{key:"loader"}))},r.createElement(g.kK,null,E.map((({id:e,picture:t,name:a,isFavorite:l,fansCount:i},s)=>r.createElement(b.OJ,{key:e,value:{legacyContext:{ID:e,TYPE:(0,I.TU)(d.Ay.Artist)},itemIndex:s}},r.createElement(C.A,{key:e,artistName:a,hasExplicitPicture:Boolean(null==t?void 0:t.explicitStatus),id:e,isFavorite:Boolean(l),nbOfFans:i,picture:null==t?void 0:t.large[0],onAction:t=>{switch(t.type){case"navigation":case"play":A({variables:{artistId:e}})}}})))))))};var Pt,Ct;const ft=()=>{var e,t;const{query:a}=(0,s.g)(),o=decodeURIComponent(a),c=(0,N.A)(),{data:m,loading:p,fetchMore:E}=(0,l.$FS)({variables:{query:o,first:20,cursor:null}}),A=(0,n.A)(null==m||null===(e=m.instantSearch)||void 0===e||null===(e=e.results.channels)||void 0===e?void 0:e.edges);return p?Pt||(Pt=r.createElement(i.A,null)):r.createElement(b.OJ,{value:{section:u.CHANNELS}},r.createElement(_t.A,{hasMore:null==m||null===(t=m.instantSearch)||void 0===t?void 0:t.results.channels.pageInfo.hasNextPage,loadMore:()=>{var e;return E({variables:{cursor:null==m||null===(e=m.instantSearch)||void 0===e?void 0:e.results.channels.pageInfo.endCursor}})},loader:Ct||(Ct=r.createElement(i.A,{key:"loader"}))},r.createElement(g.kK,null,A.map((({id:e,name:t,url:a,picture:l},i)=>{var s;return r.createElement(h.a,{key:e,margin:"spacing.s"},r.createElement(b.OJ,{value:{itemIndex:i}},r.createElement(G.A,{picture:{url:(null==l||null===(s=l.large)||void 0===s?void 0:s[0])||"",type:d.Ay.Channel},title:t,target:a.webUrl,onClick:()=>{c()}})))})))))};var kt,Rt;const xt=()=>{var e,t;const{query:a}=(0,s.g)(),o=decodeURIComponent(a),c=(0,Q.G)((e=>String((0,M.F6)(e.user)))),{data:m,loading:p,fetchMore:E}=(0,l.IoY)({variables:{query:o,first:20,cursor:null}}),A=(0,n.A)(null==m||null===(e=m.instantSearch)||void 0===e||null===(e=e.results.flowConfigs)||void 0===e?void 0:e.edges);return p?kt||(kt=r.createElement(i.A,null)):r.createElement(b.OJ,{value:{section:u.FLOW}},r.createElement(_t.A,{hasMore:null==m||null===(t=m.instantSearch)||void 0===t?void 0:t.results.flowConfigs.pageInfo.hasNextPage,loadMore:()=>{var e;return E({variables:{cursor:null==m||null===(e=m.instantSearch)||void 0===e?void 0:e.results.flowConfigs.pageInfo.endCursor}})},loader:Rt||(Rt=r.createElement(i.A,{key:"loader"}))},r.createElement(g.kK,null,A.map((({id:e,title:t,visuals:{dynamicPageIcon:a}},l)=>{var i;return r.createElement(b.OJ,{value:{legacyContext:e===me.u.Default?{ID:c,TYPE:(0,I.TU)(d.Ay.Flow)}:{ID:e,TYPE:(0,I.TU)(d.Ay.MultiFlow)},itemIndex:l},key:e},r.createElement(ve,{key:e,id:e,title:t,picture:(null==a||null===(i=a.large)||void 0===i?void 0:i[0])||""}))})))))};var wt,Lt;const Nt=()=>{var e,t;const{query:a}=(0,s.g)(),o=decodeURIComponent(a),{data:c,loading:m,fetchMore:p}=(0,l.efT)({variables:{query:o,first:20,cursor:null}}),E=(0,n.A)(null==c||null===(e=c.instantSearch)||void 0===e||null===(e=e.results.livestreams)||void 0===e?void 0:e.edges),[A]=(0,l.nZ$)();return m?wt||(wt=r.createElement(i.A,null)):r.createElement(b.OJ,{value:{section:u.LIVESTREAMS}},r.createElement(_t.A,{hasMore:null==c||null===(t=c.instantSearch)||void 0===t?void 0:t.results.livestreams.pageInfo.hasNextPage,loadMore:()=>{var e;return p({variables:{cursor:null==c||null===(e=c.instantSearch)||void 0===e?void 0:e.results.livestreams.pageInfo.endCursor}})},loader:Lt||(Lt=r.createElement(i.A,{key:"loader"}))},r.createElement(g.kK,null,E.map((({id:e,name:t,cover:a},l)=>r.createElement(b.OJ,{key:e,value:{legacyContext:{ID:e,TYPE:(0,I.TU)(d.Ay.Livestream)},itemIndex:l}},r.createElement(se,{key:e,id:e,livestreamName:t,picture:null==a?void 0:a.large[0],hasExplicitPicture:Boolean(null==a?void 0:a.explicitStatus),onAction:({type:t})=>{"play"===t&&A({variables:{livestreamId:e}})}})))))))};var Dt,Ut;const Ot=()=>{var e,t;const{query:a}=(0,s.g)(),o=decodeURIComponent(a),{data:c,loading:m,fetchMore:p}=(0,l.MmF)({variables:{query:o,first:20,cursor:null}}),E=(0,n.A)(null==c||null===(e=c.instantSearch)||void 0===e||null===(e=e.results.playlists)||void 0===e?void 0:e.edges),[A]=(0,l.$1e)();return m?Dt||(Dt=r.createElement(i.A,null)):r.createElement(b.OJ,{value:{section:u.ARTISTS}},r.createElement(_t.A,{hasMore:null==c||null===(t=c.instantSearch)||void 0===t?void 0:t.results.playlists.pageInfo.hasNextPage,loadMore:()=>{var e;return p({variables:{cursor:null==c||null===(e=c.instantSearch)||void 0===e?void 0:e.results.playlists.pageInfo.endCursor}})},loader:Ut||(Ut=r.createElement(i.A,{key:"loader"}))},r.createElement(g.kK,null,E.map((({id:e,title:t,picture:a,estimatedTracksCount:l,owner:i,fansCount:s},n)=>r.createElement(b.OJ,{key:e,value:{legacyContext:{ID:e,TYPE:(0,I.TU)(d.Ay.Playlist)},itemIndex:n}},r.createElement($,{key:e,id:e,picture:null==a?void 0:a.large[0],playlistName:t,estimatedTracksCount:l,ownerId:null==i?void 0:i.id,ownerName:null==i?void 0:i.name,fansCount:s,onAction:({type:t})=>{switch(t){case"navigation":case"play":A({variables:{playlistId:e}})}}})))))))};var Bt,Ft;const qt=()=>{var e,t;const{query:a}=(0,s.g)(),o=decodeURIComponent(a),{data:c,loading:d,fetchMore:m}=(0,l.DNU)({variables:{query:o,first:20,cursor:null}}),p=(0,n.A)(null==c||null===(e=c.instantSearch)||void 0===e||null===(e=e.results.users)||void 0===e?void 0:e.edges);return d?Bt||(Bt=r.createElement(i.A,null)):r.createElement(b.OJ,{value:{section:u.USERS}},r.createElement(_t.A,{hasMore:null==c||null===(t=c.instantSearch)||void 0===t?void 0:t.results.users.pageInfo.hasNextPage,loadMore:()=>{var e;return m({variables:{cursor:null==c||null===(e=c.instantSearch)||void 0===e?void 0:e.results.users.pageInfo.endCursor}})},loader:Ft||(Ft=r.createElement(i.A,{key:"loader"}))},r.createElement(g.kK,null,p.map((({id:e,name:t,picture:a},l)=>r.createElement(b.OJ,{key:e,value:{itemIndex:l}},r.createElement(D,{id:e,name:t,picture:null==a?void 0:a.large[0]})))))))};var Ht,Yt;const Qt=()=>{var e,t;const{query:a}=(0,s.g)(),o=decodeURIComponent(a),{data:c,loading:m,fetchMore:p}=(0,l.y02)({variables:{query:o,first:20,cursor:null}}),E=(0,n.A)(null==c||null===(e=c.instantSearch)||void 0===e||null===(e=e.results.podcasts)||void 0===e?void 0:e.edges),[A]=(0,l.RsC)();return m?Ht||(Ht=r.createElement(i.A,null)):r.createElement(b.OJ,{value:{section:u.PODCASTS}},r.createElement(_t.A,{hasMore:null==c||null===(t=c.instantSearch)||void 0===t?void 0:t.results.podcasts.pageInfo.hasNextPage,loadMore:()=>{var e;return p({variables:{cursor:null==c||null===(e=c.instantSearch)||void 0===e?void 0:e.results.podcasts.pageInfo.endCursor}})},loader:Yt||(Yt=r.createElement(i.A,{key:"loader"}))},r.createElement(g.kK,null,E.map((({id:e,displayTitle:t,cover:a,isExplicit:l},i)=>r.createElement(b.OJ,{key:e,value:{legacyContext:{ID:e,TYPE:(0,I.TU)(d.Ay.Podcast)},itemIndex:i}},r.createElement(te,{key:e,id:e,podcastName:t,isExplicitPodcast:l,picture:null==a?void 0:a.large[0],hasExplicitPicture:null==a?void 0:a.explicitStatus,onAction:({type:t})=>{switch(t){case"navigation":case"play":A({variables:{podcastId:e}})}}})))))))};var Mt,zt,Zt,Kt=a("8m9I"),$t=a("Qdkb"),Wt=a("xCFc"),Gt=a("BP9I"),Vt=a("1Uwb"),Xt=a("EZyQ"),Jt=a("ftFY"),jt=a("tgyz"),ea=a("7u2F"),ta=a("1Pdy");const aa=({items:e,fetchMore:t,query:a,shouldExplicitBeHidden:l=!1,total:s,hasMore:n})=>{const c={ID:a,TYPE:(0,I.TU)(d.Ay.Track)},u={id:a,type:Ae.Kk.SEARCH},m=(0,r.useRef)(null),{manageItems:p,tableItems:E}=(0,Jt.A)(a,e,c),A=!n,{playerStatus:y}=(0,jt.A)(c,u,A),h=(0,ea.A)(E,c),g=(0,Wt.Ay)({container:u,context:c,manageItems:p,playerStatus:y,select:h,shouldExplicitBeHidden:l});return r.createElement(Wt.ru,{value:g},r.createElement(Vt.A,{tableRef:m,rowCount:s},r.createElement(Vt.A.Header,null,r.createElement(Vt.A.CellHead,{size:$t.c.TITLE.SIZE,sortPath:"item.title"},(0,o.AP)("datagrid_title_trackUPP_web")),r.createElement(Vt.A.CellHead,{size:$t.c.ARTIST.SIZE,sortPath:"item.artist.name"},(0,o.AP)("datagrid_title_artistUPP_web")),r.createElement(Vt.A.CellHead,{breakpoint:$t.c.PARENT.BREAKPOINT,size:$t.c.PARENT.SIZE,sortPath:"item.parent.name"},(0,o.AP)("datagrid_title_albumUPP_web")),r.createElement(Vt.A.CellHead,{ariaLabel:(0,o.AP)("sortingmenu_title_duration_web"),size:$t.c.DURATION.SIZE,sortPath:"item.duration"},Mt||(Mt=r.createElement(Kt.m,null))),r.createElement(Vt.A.CellHead,{breakpoint:$t.c.POPULARITY.BREAKPOINT,size:$t.c.POPULARITY.SIZE,sortPath:"item.popularity"},(0,o.AP)("datagrid_title_popularityabbrevUPP_web")),r.createElement(Vt.A.CellHead,{align:$t.c.SELECT.ALIGN,size:$t.c.SELECT.SIZE},r.createElement(Gt.A,{rowCount:E.toDisplay.length}))),r.createElement(Vt.A.Body,null,r.createElement(_t.A,{hasMore:n,loadMore:t,loader:zt||(zt=r.createElement(i.A,{key:"loader"}))},E.toDisplay.map(((e,t)=>r.createElement(Xt.A,{data:E,key:e.uuid,index:t,style:{height:ta.F4.md}})))))),0===E.toDisplay.length&&(Zt||(Zt=r.createElement(Vt.A.EmptyContent,null))))},la=()=>{var e,t;const{query:a}=(0,s.g)(),i=decodeURIComponent(a),{data:o,fetchMore:c}=(0,l.fL0)({variables:{query:i,first:20,cursor:null}}),d=(0,Q.G)((e=>(0,M.zI)(e.user)||(0,M.Uw)(e.user)===Ie.g)),m=(0,n.A)(null==o||null===(e=o.instantSearch)||void 0===e||null===(e=e.results.tracks)||void 0===e?void 0:e.edges);return r.createElement(b.OJ,{value:{section:u.TRACKS}},r.createElement(aa,{items:m,fetchMore:()=>{var e;return c({variables:{cursor:null==o||null===(e=o.instantSearch)||void 0===e?void 0:e.results.tracks.pageInfo.endCursor}})},shouldExplicitBeHidden:d,query:a,total:m.length,hasMore:Boolean(null==o||null===(t=o.instantSearch)||void 0===t?void 0:t.results.tracks.pageInfo.hasNextPage)}))};var ia,ra,sa,na=a("145D"),oa=a("Kc87");const ca=({items:e,fetchMore:t,query:a,shouldExplicitBeHidden:l=!1,total:s,hasMore:n})=>{const c={ID:a,TYPE:(0,I.TU)(d.Ay.Episode)},u={id:a,type:Ae.Kk.SEARCH},m=(0,r.useRef)(null),{manageItems:p,tableItems:E}=(0,Jt.A)(a,e,c),A=!n,{playerStatus:y}=(0,jt.A)(c,u,A),h=ta.F4.lg,g=(0,Wt.Ay)({container:u,context:c,manageItems:p,playerStatus:y,rowHeight:h,shouldExplicitBeHidden:l});return r.createElement(Wt.ru,{value:g},r.createElement(Vt.A,{tableRef:m,rowCount:s},r.createElement(Vt.A.Header,null,r.createElement(Vt.A.CellHead,{size:na.c.TITLE.SIZE,sortPath:"item.title"},(0,o.AP)("datagrid_title_episodeUPP_web")),r.createElement(Vt.A.CellHead,{size:na.c.PARENT.SIZE,sortPath:"item.parent.name"},(0,o.AP)("datagrid_title_podcastUPP_web")),r.createElement(Vt.A.CellHead,{breakpoint:na.c.DATE.BREAKPOINT,size:na.c.DATE.SIZE,sortPath:"item.date"},(0,o.AP)("datagrid_title_addedtrackUPP_web")),r.createElement(Vt.A.CellHead,{ariaLabel:(0,o.AP)("sortingmenu_title_duration_web"),size:na.c.DURATION.SIZE,sortPath:"item.duration"},ia||(ia=r.createElement(Kt.m,null)))),r.createElement(Vt.A.Body,null,r.createElement(_t.A,{hasMore:n,loadMore:t,loader:ra||(ra=r.createElement(i.A,{key:"loader"}))},E.toDisplay.map(((e,t)=>r.createElement(oa.A,{data:E,key:e.uuid,index:t,style:{height:ta.F4.lg}})))))),0===E.toDisplay.length&&(sa||(sa=r.createElement(Vt.A.EmptyContent,null))))},da=()=>{var e,t;const{query:a}=(0,s.g)(),i=decodeURIComponent(a),{data:o,fetchMore:c}=(0,l.DI4)({variables:{query:i,first:20,cursor:null}}),d=(0,Q.G)((e=>(0,M.zI)(e.user)||(0,M.Uw)(e.user)===Ie.g)),m=(0,n.A)(null==o||null===(e=o.instantSearch)||void 0===e||null===(e=e.results.podcastEpisodes)||void 0===e?void 0:e.edges);return r.createElement(b.OJ,{value:{section:u.EPISODES}},r.createElement(ca,{items:m,fetchMore:()=>{var e;return c({variables:{cursor:null==o||null===(e=o.instantSearch)||void 0===e?void 0:e.results.podcastEpisodes.pageInfo.endCursor}})},shouldExplicitBeHidden:d,query:a,total:m.length,hasMore:Boolean(null==o||null===(t=o.instantSearch)||void 0===t?void 0:t.results.podcastEpisodes.pageInfo.hasNextPage)}))};var ua,ma,pa,Ea,Aa,ya,ha,ga,va,_a;const ba=()=>{const{tab:e}=(0,s.g)();switch(e){case"album":return ua||(ua=r.createElement(bt,null));case"artist":return ma||(ma=r.createElement(Tt,null));case"channel":return pa||(pa=r.createElement(ft,null));case"flow_config":return Ea||(Ea=r.createElement(xt,null));case"livestream":return Aa||(Aa=r.createElement(Nt,null));case"playlist":return ya||(ya=r.createElement(Ot,null));case"user":return ha||(ha=r.createElement(qt,null));case"show":return ga||(ga=r.createElement(Qt,null));case"track":return va||(va=r.createElement(la,null));case"episode":return _a||(_a=r.createElement(da,null));default:return null}};var Ia,Sa,Ta,Pa,Ca=a("D2sd");const fa="search_result",Ra=()=>{var e,t;const{query:a,tab:o="all"}=(0,s.g)(),c=decodeURIComponent(a),d=(0,r.useRef)(),u=(0,r.useRef)(null),E=(0,r.useCallback)((()=>{u.current&&S.A.log({type:"cdp",eventName:"search_result_displayed",eventVersion:2,customAttributes:{...d.current}})}),[]),{data:y,previousData:g,loading:v}=(0,l.t1v)({variables:{query:c.trim(),firstGrid:10,firstList:6},onCompleted:e=>{u.current&&clearTimeout(u.current),d.current={query:c,page_content:A(e.instantSearch),display_timestamp:(new Date).toISOString()},u.current=setTimeout((()=>{E(),u.current=null}),3e3)}});if((0,r.useEffect)((()=>(window.addEventListener("beforeunload",E),()=>{window.removeEventListener("beforeunload",E)})),[E]),v&&!g)return Ia||(Ia=r.createElement(i.A,null));const _=y||g;if(!(null!=_&&null!==(e=_.instantSearch)&&void 0!==e&&e.results||null!=_&&null!==(t=_.instantSearch)&&void 0!==t&&t.bestResult))return v?Sa||(Sa=r.createElement(i.A,null)):r.createElement(h.a,{width:"auto"},r.createElement(vt.A,{query:c,revisedQuery:""}));const I=(T=_.instantSearch.results,Object.entries(T).filter((([e,t])=>!m(e)&&(0,n.A)(t.edges).length)).sort((([,e],[,t])=>t.priority-e.priority)).map((([e])=>e)));var T;if(!I.length)return v?Ta||(Ta=r.createElement(i.A,null)):r.createElement(h.a,{width:"auto"},r.createElement(vt.A,{query:c,revisedQuery:""}));const P=I.map((e=>({id:p[e].id,label:p[e].label,action:()=>f(e)}))),C=1===P.length?P:[{id:p.all.id,label:p.all.label,action:()=>f(p.all.id)}].concat(P);if(o===p.all.id&&1===C.length&&C[0].id!==p.all.id)return r.createElement(s.rd,{to:`/search/${a}/${C[0].id}`});const f=e=>{let t=`/search/${a}`;e!==p.all.id&&(t+="/"+p[e].id),Ca.A.sendLog(),S.A.log({type:"cdp",eventName:"filter_clicked",customAttributes:{screen_view_name:fa,screen_view_id_type:"query",screen_view_id:c,filter_type:"filter",filter_name:p[e].filterName}}),gt.A.push(t)};return r.createElement(h.a,{px:"spacing.xl"},r.createElement(h.a,{paddingTop:"spacing.3xl",paddingBottom:"spacing.xl",paddingX:"spacing.s"},r.createElement(ht.A,{items:C,active:o,style:{width:"100%",padding:0}})),r.createElement(b.OJ,{value:{page:fa,entity:"query",entityId:c}},o===p.all.id?r.createElement(Et,{sectionsOrder:I,albums:(0,n.A)(_.instantSearch.results.albums.edges),artists:(0,n.A)(_.instantSearch.results.artists.edges),users:(0,n.A)(_.instantSearch.results.users.edges),playlists:(0,n.A)(_.instantSearch.results.playlists.edges),channels:(0,n.A)(_.instantSearch.results.channels.edges),podcasts:(0,n.A)(_.instantSearch.results.podcasts.edges),flowConfigs:(0,n.A)(_.instantSearch.results.flowConfigs.edges),livestreams:(0,n.A)(_.instantSearch.results.livestreams.edges),podcastEpisodes:(0,n.A)(_.instantSearch.results.podcastEpisodes.edges).slice(0,7),tracks:(0,n.A)(_.instantSearch.results.tracks.edges).slice(0,7),bestResult:_.instantSearch.bestResult}):Pa||(Pa=r.createElement(ba,null))))}},"wkd/":(e,t,a)=>{a.d(t,{A:()=>o});var l=a("q1tI"),i=a("PF77"),r=a("6R6N"),s=a("/5X2"),n=a("xCFc");const o=()=>{const{id:e,index:t,type:a,uuid:o}=(0,s.$_)(),{select:c}=(0,n.$A)();return l.createElement(r.A,null,l.createElement(i.S,{isChecked:c&&c.isSelected(o),onChange:()=>{c&&c.toggleSelect(e,a,o,t)},"data-testid":"select_button"}))}}}]);