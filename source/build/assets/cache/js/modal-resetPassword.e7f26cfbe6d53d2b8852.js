"use strict";(self.webpackJsonpDeezer=self.webpackJsonpDeezer||[]).push([[9567],{"1EyH":(e,t,s)=>{s.d(t,{BB:()=>a,Sx:()=>r,UC:()=>n});const r=e=>/[\u2000-\u2BFF]/.test(e),a=e=>/[\u{10000}-\u{10FFFF}]/u.test(e),n=e=>!!e.match(/^[_0-9a-z-+]+[_.0-9a-z-+]*@([0-9a-z-]+\.)+[a-z]{2,13}$/i)},"3xjP":(e,t,s)=>{s.r(t),s.d(t,{default:()=>Q}),s("EV0h"),s("gS5K");var r=s("q1tI"),a=s("TRpf"),n=s("nrKQ"),o=s("2qhg"),l=s("WKgy"),i=s("TqF5"),c=s("X51p"),u=s("Wp0Y"),m=s("HmE0"),d=s("nHPd"),_=s("CV49"),E=s("ZDlI"),R=s("YIja"),p=s("Zlrv");let A=function(e){return e[e.NONE=0]="NONE",e[e.PENDING=1]="PENDING",e[e.SUCCESS=2]="SUCCESS",e[e.ERROR=3]="ERROR",e}({}),h=function(e){return e[e.NONE=0]="NONE",e[e.PENDING=1]="PENDING",e[e.SUCCESS=2]="SUCCESS",e[e.ERROR=3]="ERROR",e}({}),w=function(e){return e[e.NONE=0]="NONE",e[e.PENDING=1]="PENDING",e[e.SUCCESS=2]="SUCCESS",e[e.ERROR_INVALID_EMAIL=3]="ERROR_INVALID_EMAIL",e[e.ERROR_UNKNOWN_EMAIL=4]="ERROR_UNKNOWN_EMAIL",e}({}),S=function(e){return e.Reset="reset",e.Migration="migration",e}({});var g=s("yiM3");const f=e=>{const{email:t,userID:s,formType:a}=e;let n=r.createElement(m.$n,{as:"a",href:(0,g.t)({route:"login",query:t?{email:t}:void 0})},(0,u.AP)("Connexion"));return 0===s&&(n=r.createElement(m.$n,{as:"a",href:"/"},(0,u.AP)("Retour"))),r.createElement(r.Fragment,null,r.createElement(d.r,null,a===S.Reset?(0,u.AP)("generic_title_resetyourpassword_web"):(0,u.AP)("passwordsetting_title_setyourpassword_web")),r.createElement(_.c,null,r.createElement(E.m,{maxW:"container.sm",width:"fit-content"},r.createElement(R.N,{status:"success"},(0,u.AP)("Votre mot de passe a été modifié avec succès.")))),r.createElement(p.jl,null,n))};f.displayName="ConfirmSuccess";const O=f;var N,I=s("RGaU"),b=s("80JK"),y=s("8WIx"),P=s("XkdG"),C=s("jysG"),v=s("FVVF");class x extends r.PureComponent{render(){const{resetRequestRequestStatus:e,email:t,formType:s,onEmailChange:a,onReset:n}=this.props,o=e===w.PENDING,l=e===w.ERROR_INVALID_EMAIL||e===w.ERROR_UNKNOWN_EMAIL;let i;o&&(i=N||(N=r.createElement(I.k,{thickness:2,size:14})));const c=s===S.Reset?r.createElement(b.MJ,{isInvalid:l},r.createElement(y.l,{htmlFor:"email"},(0,u.AP)("generic_title_emailaddress_web")),r.createElement(P.p,{id:"reset_mail",type:"text",value:t,onChange:a,placeholder:(0,u.AP)("generic_title_emailaddress_web")}),e===w.ERROR_INVALID_EMAIL?r.createElement(C.Wt,null,(0,u.AP)("Adresse email invalide")):null,e===w.ERROR_UNKNOWN_EMAIL?r.createElement(C.Wt,null,(0,u.AP)("Identifiant inconnu.")):null):null;return r.createElement(r.Fragment,null,r.createElement(d.r,null,s===S.Reset?(0,u.AP)("Réinitialiser mon mot de passe"):(0,u.AP)("passwordsetting_title_setyourpassword_web")),r.createElement(_.c,null,r.createElement(E.m,{maxW:"container.sm"},r.createElement("form",{onSubmit:n},r.createElement(v.T,{spacing:"spacing.l"},r.createElement(R.N,{status:"error"},(0,u.AP)("Votre demande a expiré. Veuillez réessayer.")),c,r.createElement(m.$n,{type:"submit",isDisabled:o,rightIcon:i,width:"100%"},(0,u.AP)("generic_title_resetyourpassword_web")))))))}}var M,L=s("Al8Q"),D=s("eOc8"),T=s("pVdW");const q=(0,L.A)("form",{target:"ebwqeia0"})({name:"5noinz",styles:"display:flex;flex-direction:column;margin:0 auto;max-width:400px;width:100%;& *{box-sizing:border-box;}"});class k extends r.PureComponent{render(){const{resetRequestRequestStatus:e,email:t,onEmailChange:s,onReset:a,formType:n}=this.props;if(n===S.Migration)return null;const o=e===w.ERROR_INVALID_EMAIL||e===w.ERROR_UNKNOWN_EMAIL,l=e===w.PENDING;let i;l&&(i=M||(M=r.createElement(I.k,{thickness:2,size:14})));const c=e&&o?(0,u.AP)("Merci de vérifier le format de votre adresse email."):void 0;return r.createElement(r.Fragment,null,r.createElement(d.r,null,(0,u.AP)("generic_title_resetyourpassword_web")),r.createElement(_.c,null,r.createElement(q,{onSubmit:a},r.createElement(D.B,{direction:"column",spacing:"6",mb:"6"},r.createElement(T.E,{color:"text.neutral.secondary.default",textAlign:"center"},(0,u.AP)("resetpasswordmodal_text_enteremailtoreceivelink_web")),r.createElement(b.MJ,{isInvalid:Boolean(c)},r.createElement(y.l,null,(0,u.AP)("generic_title_emailaddress_web")),r.createElement(P.p,{id:"reset_mail",type:"email",onChange:s,value:t}),r.createElement(C.Wt,null,c)),r.createElement(m.$n,{type:"submit",isDisabled:l,rightIcon:i},(0,u.AP)("generic_action_sendlink_web"))))))}}k.defaultProps={resetRequestRequestStatus:w.NONE};var U=s("m4fd");const G=({resetConfirmResult:e,email:t,onResetConfirm:s,formType:a})=>r.createElement(r.Fragment,null,r.createElement(d.r,null,a===S.Reset?(0,u.AP)("generic_title_resetyourpassword_web"):(0,u.AP)("passwordsetting_title_setyourpassword_web")),r.createElement(_.c,null,r.createElement(U.A,{email:t,onSubmit:s,ctaLabel:a===S.Reset?(0,u.AP)("Réinitialiser"):(0,u.AP)("Confirmer"),isLoading:e===h.PENDING})));var W,V;class F extends r.PureComponent{render(){const{email:e}=this.props;return r.createElement(r.Fragment,null,r.createElement(d.r,null,(0,u.AP)("Vous avez un message !")),r.createElement(_.c,{textAlign:"center"},r.createElement("span",{dangerouslySetInnerHTML:{__html:(0,u.WI)("Consultez votre boîte de réception, nous vous avons envoyé un lien pour réinitialiser votre mot de passe à : %s.","Consultez votre boîte de réception, nous vous avons envoyé un lien pour réinitialiser votre mot de passe à : %s.",{sprintf:[`<span id="reset_confirm_mailto" class="color-primary">${e}</span>`],count:1})}}),W||(W=r.createElement("br",null)),V||(V=r.createElement("br",null)),(0,u.AP)("Si dans quelques minutes vous n'avez toujours pas reçu le message, merci de vérifier que celui-ci n'est pas dans vos messages indésirables.")),this._renderFooter())}_renderFooter(){const{redirectUri:e}=this.props;return e?r.createElement(p.jl,{textAlign:"center"},r.createElement(m.$n,{as:"a",href:e},(0,u.AP)("Retour"))):null}}F.defaultProps={redirectUri:void 0};var H,K,z,B=s("PBDT");class j extends r.PureComponent{render(){return r.createElement(r.Fragment,null,r.createElement(d.r,null,(0,u.AP)("Réinitialiser mon mot de passe")),H||(H=r.createElement(_.c,null,r.createElement(B.o,null,r.createElement(I.k,null)))))}}class Y extends r.Component{constructor(e){super(e),this._onEmailChange=e=>{this.setState({email:e.currentTarget.value})},this._onReset=e=>{e.preventDefault(),e.stopPropagation();const{email:t}=this.state;this.setState({resetRequestRequestStatus:w.PENDING},(()=>{o.default.sendResetPassword(t).then((()=>{this.setState({resetRequestRequestStatus:w.SUCCESS})})).catch((e=>{this.setState({resetRequestRequestStatus:"error"===e.message?w.ERROR_INVALID_EMAIL:w.ERROR_UNKNOWN_EMAIL})}))}))},this._onResetConfirm=(e,t)=>{const{resetKey:s,formType:r}=this.props,{email:a}=this.state;this.setState({resetConfirmationRequestStatus:h.PENDING},(()=>{r===S.Reset?o.default.sendResetPasswordConfirm(window.btoa(a),window.btoa(s||""),e,t).then((()=>{this.setState({resetConfirmationRequestStatus:h.SUCCESS})})).catch((()=>{this.setState({resetConfirmationRequestStatus:h.ERROR})})):r===S.Migration&&n.A.call({method:"user.profileMigrationThroughEmail",data:{email:a,password:e,token:s},success:e=>{e?this.setState({resetConfirmationRequestStatus:h.SUCCESS}):this.setState({tokenValidationRequestStatus:A.ERROR})},error:()=>this.setState({tokenValidationRequestStatus:A.ERROR})})}))},this._checkToken=()=>{this.setState({tokenValidationRequestStatus:A.PENDING},(()=>{n.A.call({method:"user.checkResetPasswordToken",data:{EMAIL:this.state.email,TOKEN:this.props.resetKey},success:e=>{this.setState({tokenValidationRequestStatus:e?A.SUCCESS:A.ERROR})},error:()=>{this.setState({tokenValidationRequestStatus:A.ERROR})}})}))},this.state={email:e.defaultEmailValue,resetConfirmationRequestStatus:h.NONE,resetRequestRequestStatus:w.NONE,tokenValidationRequestStatus:e.formType===S.Migration?A.SUCCESS:A.NONE}}componentDidMount(){this.state.email&&this.props.resetKey&&this.state.tokenValidationRequestStatus===A.NONE&&this._checkToken()}render(){const{userID:e,defaultEmailValue:t,resetKey:s,redirectUri:a,formType:n}=this.props;return this.state.resetRequestRequestStatus===w.SUCCESS?this._renderModal(r.createElement(F,{email:this.state.email,redirectUri:a})):this.state.resetConfirmationRequestStatus===h.SUCCESS?this._renderModal(r.createElement(O,{email:this.state.email,userID:e,formType:n})):this.state.tokenValidationRequestStatus===A.PENDING?this._renderModal(K||(K=r.createElement(j,null))):t&&s&&this.state.tokenValidationRequestStatus===A.SUCCESS?this._renderModal(r.createElement(G,{resetConfirmResult:this.state.resetConfirmationRequestStatus,email:this.state.email,onResetConfirm:this._onResetConfirm,formType:n})):t&&s&&this.state.tokenValidationRequestStatus===A.ERROR?this._renderModal(r.createElement(x,{resetRequestRequestStatus:this.state.resetRequestRequestStatus,email:this.state.email,onEmailChange:this._onEmailChange,onReset:this._onReset,formType:n})):this._renderModal(r.createElement(k,{resetRequestRequestStatus:this.state.resetRequestRequestStatus,email:this.state.email,onEmailChange:this._onEmailChange,onReset:this._onReset,formType:n}))}_renderModal(e){const{isStandalone:t}=this.props;return t?r.createElement(c.A.Layout,null,e):r.createElement(r.Fragment,null,z||(z=r.createElement(p.s_,null)),e)}}l.A.addReducers({modal:i.Ay});const Q=(0,a.Ng)((({user:e,modal:t},s)=>{var r,a,n;let o,l,i=t.data?t.data.defaultValue:"";return null!==(r=s.location)&&void 0!==r&&r.query.email&&(i=window.atob(s.location.query.email)),null!==(a=s.location)&&void 0!==a&&a.query.key&&(o=s.location.query.key,s.formType===S.Reset&&(o=window.atob(o))),null!==(n=s.location)&&void 0!==n&&n.query.redirect_uri&&document&&document.location&&document.location.hostname===new URL(s.location.query.redirect_uri).hostname&&(l=s.location.query.redirect_uri),{userID:e.id,defaultEmailValue:i,resetKey:o,redirectUri:l,isStandalone:Boolean(s.location)}}))(Y)},EYlq:(e,t,s)=>{s.d(t,{u:()=>a});var r=s("Wp0Y");const a=e=>{switch(e){case"invalid_msisdn":return(0,r.AP)("errormessage_text_invalidphonenumber_web");case"sms_login_limit":return(0,r.AP)("SMScoderesentconfirmationscreen_text_allattemptsused_web");case"internal_error":case"swap_limit":default:return(0,r.AP)("errormessage_text_anerroroccurredpleasetryagain_web");case"invalid_code":case"invalid_code_wrong":return(0,r.AP)("errormessage_text_invalidcode_web");case"code_too_short":return(0,r.AP)("errormessage_text_codeincomplete_web");case"code_too_long":return(0,r.AP)("errormessage_text_codetoomanydigits_web");case"phone_already_used":return(0,r.AP)("Ce numéro est déjà utilisé.")}}},H9G8:(e,t,s)=>{s.d(t,{CZ:()=>u,Ee:()=>m,Hf:()=>l,In:()=>R,RQ:()=>d,SY:()=>i,U9:()=>_,aS:()=>E,jQ:()=>o,qb:()=>c,r_:()=>p,vM:()=>A});var r=s("Wp0Y"),a=s("5U+Y"),n=s("guCc");class o extends Error{constructor(e){super(e),this.name=n.U.FORM_ERROR}}class l extends o{constructor(){super((0,r.AP)("formerrormessage_text_emailaddressformatnotvalid_web")),this.name=n.U.EMAIL_NOT_VALID}}class i extends o{constructor(e){super((0,r.AP)("errormessage_text_domainnnamenotallowed_web",{sprintf:[e]})),this.name=n.U.EMAIL_DOMAIN_NOT_VALID}}class c extends o{constructor(){super((0,r.AP)("errormessage_title_accountalrdyassociatedwithemail_web")),this.name=n.U.EMAIL_ALREADY_USED}}class u extends o{constructor(){super((0,r.WI)("formerrormessage_text_passwordnotenoughchars_web","formerrormessage_text_passwordnotenoughchars_web",{sprintf:[a.wz],count:a.wz})),this.name=n.U.PASSWORD_TOO_SHORT}}class m extends o{constructor(){super((0,r.WI)("formerrormessage_text_passwordtoomanychars_web","formerrormessage_text_passwordtoomanychars_web",{sprintf:[a.K9],count:a.K9})),this.name=n.U.PASSWORD_TOO_LONG}}class d extends o{constructor(){super((0,r.AP)("errormessage_text_passwordnbeginendwithspace_web")),this.name=n.U.PASSWORD_HAS_TRAILLING_WHITESPACE}}class _ extends o{constructor(){super((0,r.WI)("formerrormessage_text_usernamenotenoughchars_web","formerrormessage_text_usernamenotenoughchars_web",{sprintf:[a.D6],count:a.D6})),this.name=n.U.BLOGNAME_TOO_SHORT}}class E extends o{constructor(){super((0,r.WI)("formerrormessage_text_usernametoomanychars_web","formerrormessage_text_usernametoomanychars_web",{sprintf:[a.d0],count:a.d0})),this.name=n.U.BLOGNAME_TOO_LONG}}class R extends o{constructor(){super((0,r.AP)("errormessage_text_usernamecannotcontainsemojis_web")),this.name=n.U.BLOGNAME_HAS_SPECIAL_CHARS}}class p extends o{constructor(e){super((0,r.WI)("agerestrictionerrormessage_text_mustbeXyearsentervaliddate_web","agerestrictionerrormessage_text_mustbeXyearsentervaliddate_web",{sprintf:[e],count:e})),this.name=n.U.MIN_LEGAL_AGE}}class A extends o{constructor(){super((0,r.AP)("errormessage_text_ageisinvalid_web")),this.name=n.U.AGE_INVALID}}},QSbk:(e,t,s)=>{s.d(t,{M4:()=>u,gf:()=>c,ri:()=>m}),s("/eM8");var r=s("Vd8Q"),a=s("YEdj"),n=s("zuHY");const o=(0,n.VF)((0,n.ny)(n.MG));let l=null;const i=()=>{if(l)return l;const e=r.default.get("host_authent");return l=new o({tokenOutputType:n.NP.PAYLOAD,refreshTokenOutputType:n.NP.COOKIE,host:e,customFetch:(e,t)=>{const s=new Headers({Accept:"application/json"});return s.append("Origin",`https://${r.default.get("host_website_ssl")}`),(0,a.A6)(e,{...t,headers:s,credentials:"include"})},requestDelay:15}),l},c=async e=>{let t;try{t=await i().getToken()}catch(s){t=e?await i().loginWithArl().catch((async()=>await i().getToken())):await i().loginAsAnonymous()}if(null===t)throw new Error("Could not log user to new Auth");return t},u=()=>{i().invalidateCurrentToken()},m=async()=>{i().logout()}},X51p:(e,t,s)=>{s.d(t,{A:()=>I});var r=s("WKgy"),a=s("+9dH"),n=s("q1tI"),o=s("TRpf"),l=s("Zlrv"),i=s("TqF5"),c=s("Wp0Y");const u=({onClick:e,...t})=>{const s=(0,o.wA)();return n.createElement(l.s_,(0,a.A)({id:"modal-close",onClick:t=>{null==e||e(t),s((0,i.Oo)())},"aria-label":(0,c.AP)("Fermer")},t))};u.displayName="Close";const m=u;var d,_=s("9yOc"),E=s("jiu+"),R=s("LSdk"),p=s("PBDT"),A=s("juqV"),h=s("CV49");var S=s("nHPd");var f=s("tZCQ");class O extends n.Component{render(){if(f.A.isAllowed("revamp2023"))return n.createElement(l.jl,null,this.props.children);const e=(0,A.A)("modal-footer",this.props.className);return n.createElement("div",{className:e},this.props.children)}}const N=O;r.A.addReducers({modal:i.Ay});const I={Close:m,Layout:function({children:e}){return _.A.is("mobile")||_.A.is("tablet")?n.createElement(l.aF,{isOpen:!0,size:"full"},n.createElement("div",{className:"modal-container"},n.createElement("div",{className:"modal-dialog modal-small"},d||(d=n.createElement("div",{className:"modal-header-partner"},n.createElement("span",{className:"cell"},n.createElement(E.QQ,null,n.createElement(R.T,null))))),e))):n.createElement(l.aF,{isOpen:!0,size:"full"},n.createElement(p.o,{flexDirection:"column",mt:"spacing.3xl"},e))},Body:e=>n.createElement(h.c,(0,a.A)({"data-testid":"modal_body",className:(0,A.A)("modal-body",e.className)},e),e.children),Header:({children:e,...t})=>n.createElement(S.r,(0,a.A)({"data-testid":"modal_header"},t),e),Footer:N}},guCc:(e,t,s)=>{s.d(t,{U:()=>r,m:()=>a});let r=function(e){return e.AGE_INVALID="FORM_ERROR_AGE_INVALID",e.BLOGNAME_HAS_SPECIAL_CHARS="FORM_ERROR_BLOGNAME_HAS_SPECIAL_CHARS",e.BLOGNAME_TOO_LONG="FORM_ERROR_BLOGNAME_TOO_LONG",e.BLOGNAME_TOO_SHORT="FORM_ERROR_BLOGNAME_TOO_SHORT",e.EMAIL_ALREADY_USED="FORM_ERROR_EMAIL_ALREADY_USED",e.EMAIL_DOMAIN_NOT_VALID="FORM_ERROR_EMAIL_DOMAIN_NOT_VALID",e.EMAIL_NOT_VALID="FORM_ERROR_EMAIL_NOT_VALID",e.FORM_ERROR="FORM_ERROR",e.MIN_LEGAL_AGE="FORM_ERROR_MIN_LEGAL_AGE",e.PASSWORD_HAS_TRAILLING_WHITESPACE="FORM_ERROR_PASSWORD_HAS_TRAILLING_WHITESPACE",e.PASSWORD_TOO_LONG="FORM_ERROR_PASSWORD_TOO_LONG",e.PASSWORD_TOO_SHORT="FORM_ERROR_PASSWORD_TOO_SHORT",e}({}),a=function(e){return e[e.TOO_WEAK=0]="TOO_WEAK",e[e.WEAK=1]="WEAK",e[e.MEDIUM=2]="MEDIUM",e[e.STRONG=3]="STRONG",e}({})},m4fd:(e,t,s)=>{s.d(t,{A:()=>P});var r,a,b,n=s("q1tI"),o=s("CdHq"),l=s("eOc8"),i=s("80JK"),c=s("8WIx"),u=s("XkdG"),m=s("3BUG"),d=s("jysG"),_=s("TDRX"),E=s("pVdW"),R=s("HmE0"),p=s("IRKz"),A=s("0mGY"),h=s("Wp0Y"),w=s("FVVF"),S=s("Votb"),g=s("SEJg"),f=s("3bOE"),O=s("zerP"),N=s("guCc");function I({password:e}){const{level:t,color:s}=(e=>{switch((0,O.sR)(e)){case N.m.STRONG:return{level:(0,h.AP)("securitylevel_title_strong_web"),color:"text.feedback.success.default"};case N.m.MEDIUM:return{level:(0,h.AP)("securitylevel_title_medium_web"),color:"text.feedback.warning.default"};case N.m.WEAK:return{level:(0,h.AP)("securitylevel_title_weak_web"),color:"text.feedback.error.default"};default:return{level:(0,h.AP)("securitylevel_title_tooweak_web"),color:"text.feedback.error.default"}}})(e);if(!e)return null;const l=[{regex:/^.{8,}$/,text:(0,h.WI)("passwordrequirements_text_atleastXcharacters_web","passwordrequirements_text_atleastXcharacters_web",{count:8,sprintf:["8"]})},{regex:/.*[a-zA-Z].*/,text:(0,h.AP)("passwordrequirements_text_atleastoneletter_web")},{regex:/.*\d.*/,text:(0,h.AP)("passwordrequirements_text_atleastonenumber_web")}];return n.createElement(o.s,{direction:"row",justifyContent:"space-between",borderRadius:"s",py:"spacing.m",mt:"spacing.s",px:"spacing.l",bg:"background.neutral.tertiary.default"},n.createElement(w.T,{me:"spacing.l",alignItems:"flex-start"},n.createElement(E.E,{variant:"body.l.default"},(0,h.AP)("passwordrequirements_title_yourpasswordmustinclude_web")),l.map(((t,s)=>{const o=t.regex.test(e);return n.createElement(S.z,{key:t.text+s,color:o?"text.feedback.success.default":"text.neutral.primary.default",spacing:"spacing.xs"},o?r||(r=n.createElement(g._,{animation:"300ms bounce-scale",color:"icon.feedback.success.default"})):a||(a=n.createElement(f.k,{color:"icon.neutral.primary.disabled"})),n.createElement("span",null,t.text))}))),n.createElement(E.E,{variant:"body.l.default",textAlign:"end",flex:"1",color:s},t))}const y=(0,p.B)(_.a,{baseStyle:{maxWidth:"400px",w:"100%"}});y.defaultProps={as:"form"};const P=({ctaLabel:e=(0,h.AP)("Enregistrer"),defaultPassword:t="",defaultPasswordConfirm:s="",email:r,error:a,isLoading:p=!1,onSubmit:w})=>{const[S,g]=(0,n.useState)(t),[f,N]=(0,n.useState)(s),[P,C]=(0,n.useState)(""),[v,x]=(0,n.useState)(""),[M,L]=(0,n.useState)(!1);return n.createElement(o.s,{alignItems:"center",justifyContent:"center",w:"100%",mb:"4"},n.createElement(y,{onSubmit:e=>{e.preventDefault();try{(0,O.BE)(S)}catch(e){return void C(e.message)}f===S?w(S,f):x((0,h.AP)("passwordsecurity_text_newpasswordsneedtobethesame_web"))},id:"password-change-form"},n.createElement(l.B,{direction:"column",spacing:"6"},r&&n.createElement(i.MJ,{id:"email-readonly",isReadOnly:!0},n.createElement(c.l,{cursor:"default"},(0,h.AP)("generic_title_emailaddress_web")),n.createElement(u.p,{type:"email",value:r,isDisabled:!0})),n.createElement(i.MJ,{isInvalid:Boolean(P)},n.createElement(c.l,{cursor:"default"},(0,h.AP)("Votre nouveau mot de passe")),n.createElement(m.y,{autoComplete:"new-password","data-testid":"new_password",id:"reset_new_password",name:"password",onChange:e=>{g(e.target.value),C(""),x("")},value:S,onShowPasswordChange:L,showPassword:M}),n.createElement(I,{password:S}),n.createElement(d.Wt,null,P)),n.createElement(i.MJ,{isInvalid:Boolean(v)},n.createElement(c.l,{cursor:"default"},(0,h.AP)("Vérification du mot de passe")),n.createElement(m.y,{autoComplete:"new-password","data-testid":"new_password_confirmation",id:"reset_new_confirm",name:"passwordConfirm",onChange:e=>{N(e.target.value),C(""),x("")},value:f,onShowPasswordChange:L,showPassword:M}),n.createElement(d.Wt,null,v)),a&&n.createElement(_.a,{backgroundColor:"var(--background-feedback-error-default)",borderRadius:"s",display:"flex",padding:"spacing.s",alignItems:"center",gap:"spacing.s",color:"white"},b||(b=n.createElement(A.o,null)),n.createElement(E.E,null,a)),n.createElement(R.$n,{"data-testid":"new_password_save_button",isDisabled:p,isLoading:p,type:"submit"},e))))}},zerP:(e,t,s)=>{s.d(t,{$O:()=>R,A$:()=>u,BE:()=>_,Hx:()=>p,PJ:()=>m,iE:()=>E,sR:()=>d}),s("WpbS"),s("/eM8");var r=s("nrKQ"),a=s("1EyH"),n=s("kSUS"),o=s("guCc"),l=s("H9G8"),i=s("5U+Y"),c=s("EYlq");const u=async(e,t=!1)=>{if(e=e.trim(),!(0,a.UC)(e))throw new l.Hf;const s=await r.A.callAsync({method:"deezer.emailCheck",data:{EMAIL:e}});if(!s.domain_validity)throw new l.SY(s.domain);if(s.availability)return t&&s.suggestion?{success:!0,suggestion:s.suggestion}:{success:!0};throw new l.qb},m=(0,n.A)(((e,t,s,r)=>u(e,t).then(s).catch(r)),400),d=e=>{const t=[/.*[A-Z]+.*/,/.*[a-z]+.*/,/.*[0-9]+.*/,/.*[^A-Za-z0-9]+.*/];if([/.*[0-9]+.*/,/.*[a-zA-Z]+.*/,/^.{8,}$/].reduce(((t,s)=>t&&s.test(e)),!0)){const s=t.reduce(((t,s)=>t+(s.test(e)?1:0)),0);return s>3?o.m.STRONG:s>2?o.m.MEDIUM:s>1?o.m.WEAK:o.m.TOO_WEAK}return o.m.TOO_WEAK},_=e=>{if(e!==e.trim())throw new l.RQ;if(e.length>i.K9)throw new l.Ee;if(e.length<i.wz)throw new l.CZ;return!0},E=e=>{if((e=e.trim()).length<i.D6)throw new l.U9;if(e.length>i.d0)throw new l.aS;if((0,a.Sx)(e)||(0,a.BB)(e))throw new l.In;return!0},R=e=>{if("string"==typeof e){if(!/^\d+$/.test(e.toString()))throw new l.vM;e=parseInt(e,10)}if(e<i.fB)throw new l.r_(i.fB);if(e>i.D3)throw new l.vM;return!0},p=e=>{if(0===e.length)throw new l.jQ((0,c.u)("invalid_code"));if(e.length<6)throw new l.jQ((0,c.u)("code_too_short"));if(e.length>6)throw new l.jQ((0,c.u)("code_too_long"));return!0}}}]);