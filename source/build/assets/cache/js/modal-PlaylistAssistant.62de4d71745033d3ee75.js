"use strict";(self.webpackJsonpDeezer=self.webpackJsonpDeezer||[]).push([[8271],{"/uRm":(e,t,a)=>{a.d(t,{F:()=>n});let n=function(e){return e.ONBOARDING="ON_BOARDING",e.ONBOARDING_LEGACY="ON_BOARDING_LEGACY",e.SELECT_PROFILE="SELECT_PROFILE",e.BRIDGED_WEBVIEW="BRIDGED_WEBVIEW",e.PLAYLIST_ASSISTANT="PLAYLIST_ASSISTANT",e}({})},X51p:(e,t,a)=>{a.d(t,{A:()=>w});var n=a("WKgy"),l=a("+9dH"),i=a("q1tI"),r=a("TRpf"),o=a("Zlrv"),s=a("TqF5"),c=a("Wp0Y");const d=({onClick:e,...t})=>{const a=(0,r.wA)();return i.createElement(o.s_,(0,l.A)({id:"modal-close",onClick:t=>{null==e||e(t),a((0,s.Oo)())},"aria-label":(0,c.AP)("Fermer")},t))};d.displayName="Close";const m=d;var p,u=a("9yOc"),g=a("jiu+"),h=a("LSdk"),f=a("PBDT"),y=a("juqV"),v=a("CV49");var E=a("nHPd");var k=a("tZCQ");class _ extends i.Component{render(){if(k.A.isAllowed("revamp2023"))return i.createElement(o.jl,null,this.props.children);const e=(0,y.A)("modal-footer",this.props.className);return i.createElement("div",{className:e},this.props.children)}}const C=_;n.A.addReducers({modal:s.Ay});const w={Close:m,Layout:function({children:e}){return u.A.is("mobile")||u.A.is("tablet")?i.createElement(o.aF,{isOpen:!0,size:"full"},i.createElement("div",{className:"modal-container"},i.createElement("div",{className:"modal-dialog modal-small"},p||(p=i.createElement("div",{className:"modal-header-partner"},i.createElement("span",{className:"cell"},i.createElement(g.QQ,null,i.createElement(h.T,null))))),e))):i.createElement(o.aF,{isOpen:!0,size:"full"},i.createElement(f.o,{flexDirection:"column",mt:"spacing.3xl"},e))},Body:e=>i.createElement(v.c,(0,l.A)({"data-testid":"modal_body",className:(0,y.A)("modal-body",e.className)},e),e.children),Header:({children:e,...t})=>i.createElement(E.r,(0,l.A)({"data-testid":"modal_header"},t),e),Footer:C}},bLDf:(e,t,a)=>{function n(e){return"--"!==e.substring(0,2)&&(e=`--${e}`),window.getComputedStyle(document.documentElement).getPropertyValue(e)}a.d(t,{A:()=>n})},eQp7:(e,t,a)=>{a.d(t,{I:()=>r,c:()=>o});var n=a("q1tI"),l=a("TDRX"),i=a("CdHq");const r=({children:e})=>n.createElement(i.s,{direction:"row",align:"center",gap:"spacing.m",mb:"spacing.m"},e),o=({color:e,onClick:t,selected:a})=>n.createElement(l.a,{as:"button",onClick:t,boxSize:"size.l",padding:a?"spacing.xs":void 0,transition:"padding 0.2s ease-in",_hover:{padding:"spacing.xs","& > div":{outlineColor:"border.neutral.primary.default",border:"transparent"},"& > div:after":{content:"none"}},"data-testid":"customise_color_button"},n.createElement(l.a,{bgColor:e,borderRadius:"rounded",outline:"2px solid transparent",outlineOffset:"2px",outlineColor:a?"border.accent.primary.default":void 0,transition:"outline-color 0.2s ease-in",width:"100%",height:"100%",position:"relative",sx:a?void 0:{"&:after":{content:'""',position:"absolute",top:0,left:0,width:"100%",height:"100%",borderRadius:"rounded",outline:"1px solid",outlineOffset:"-1px",outlineColor:"border.neutral.primary.default",backgroundColor:"transparent",opacity:.2}}}))},nqtV:(e,t,a)=>{a.r(t),a.d(t,{default:()=>bl});var n={};a.r(n),a.d(n,{Alarm:()=>la,Boom:()=>ia,Boombox:()=>_t,BoxingGlove:()=>Ct,Butterfly:()=>ra,Cherry:()=>wt,Chili:()=>St,Confetti:()=>oa,Crying:()=>Pt,Dancing:()=>sa,Devil:()=>ca,Diamond:()=>kt,Discoball:()=>At,Dog:()=>It,Fire:()=>Tt,FlameHeart:()=>Mt,Flower:()=>da,Guitar:()=>Ot,HandsRaised:()=>Dt,Heart:()=>Rt,HeartEyes:()=>ma,Heartbreak:()=>pa,HotFace:()=>Lt,IceCream:()=>Ft,Kiss:()=>na,LightningBolt:()=>Ht,Lotus:()=>ua,Maki:()=>Nt,Megaphone:()=>zt,Mug:()=>Bt,Muscle:()=>ha,MusicNote1:()=>Yt,MusicNote2:()=>Gt,MusicNote3:()=>Ut,MusicNote4:()=>Zt,MusicNote5:()=>Vt,Palmtree:()=>ga,Piano:()=>jt,Rock:()=>aa,Running:()=>Wt,Saxophone:()=>$t,StarFace:()=>Xt,Stars:()=>qt,Strawberry:()=>Kt,Sun:()=>Jt,Sunglasses:()=>Qt,Tamborine:()=>ea,Watermelon:()=>ta});var l,i=a("q1tI"),r=a("TRpf"),o=a("tZCQ"),s=a("TqF5"),c=a("A2sV"),d=a("aoCz"),m=a("TDRX"),p=a("FVVF"),u=a("wZBD"),g=(a("aRRr"),a("Votb")),h=a("pVdW"),f=a("6vqc");const y=({title:e,description:t,icon:a,onClick:n})=>i.createElement(g.z,{onClick:()=>{n()},w:"full",gap:"spacing.m",py:"spacing.s",role:"group",_hover:{bg:"background.neutral.secondary.hovered"},cursor:"pointer"},i.createElement(m.a,{bg:"background.neutral.tertiary.default",_groupHover:{bg:"background.neutral.tertiary.hovered"},p:"spacing.s",borderRadius:"2xs"},a),i.createElement(m.a,{flex:"1"},i.createElement(h.E,{variant:"body.l.default"},e),i.createElement(h.E,{variant:"body.s.default",color:"text.neutral.secondary.default",as:"span"},t)),l||(l=i.createElement(f.v,null)));var v,b,E,x=a("W1Rt"),k=a("h1OE"),_=a("nxAS"),C=a("/uRm");function w({onShowCreation:e}){const t=(0,r.wA)();return i.createElement(p.T,{gap:"spacing.xs",p:"spacing.m"},i.createElement(y,{title:"Playlist",description:"Add your favorite songs",icon:v||(v=i.createElement(x.G,{size:"medium"})),onClick:e}),i.createElement(y,{title:b||(b=i.createElement(i.Fragment,null,"AI Playlist ",i.createElement(u.J,{variant:"accent"},"BETA"))),description:"Generate a playlist from an idea",icon:E||(E=i.createElement(k.A,{size:"medium"})),onClick:()=>{t((0,s.Oo)()),t((0,_.J2)({name:C.F.BRIDGED_WEBVIEW,data:{pathname:"/genplaylist",fixedLogo:!0}}))}}))}var S=a("chf7"),P=a("FMs+");let A=function(e){return e.COLOR="color",e.CUSTOM_PICTURE="customPicture",e.MASK="mask",e.MOSAIC="mosaic",e.PATTERN="pattern",e}({}),I=function(e){return e.LEFT="left",e.CENTER="center",e.RIGHT="right",e}({}),T=function(e){return e.LIGHT="light",e.DARK="dark",e}({}),M=function(e){return e.Diamond="Diamond",e.Boombox="Boombox",e.BoxingGlove="BoxingGlove",e.Cherry="Cherry",e.Chili="Chili",e.Crying="Crying",e.Discoball="Discoball",e.Dog="Dog",e.Fire="Fire",e.FlameHeart="FlameHeart",e.Guitar="Guitar",e.HandsRaised="HandsRaised",e.Heart="Heart",e.HotFace="HotFace",e.IceCream="IceCream",e.LightningBolt="LightningBolt",e.Maki="Maki",e.Megaphone="Megaphone",e.Mug="Mug",e.MusicNote1="MusicNote1",e.MusicNote2="MusicNote2",e.MusicNote3="MusicNote3",e.MusicNote4="MusicNote4",e.MusicNote5="MusicNote5",e.Piano="Piano",e.Running="Running",e.Saxophone="Saxophone",e.StarFace="StarFace",e.Stars="Stars",e.Strawberry="Strawberry",e.Sun="Sun",e.Sunglasses="Sunglasses",e.Tamborine="Tamborine",e.Watermelon="Watermelon",e.Rock="Rock",e.Kiss="Kiss",e.Alarm="Alarm",e.Boom="Boom",e.Butterfly="Butterfly",e.Confetti="Confetti",e.Dancing="Dancing",e.Devil="Devil",e.Flower="Flower",e.HeartEyes="HeartEyes",e.Heartbreak="Heartbreak",e.Lotus="Lotus",e.Palmtree="Palmtree",e.Muscle="Muscle",e}({}),O=function(e){return e.Shape1="Shape1",e.Shape2="Shape2",e.Shape3="Shape3",e.Shape4="Shape4",e.Shape5="Shape5",e.Shape6="Shape6",e.Shape7="Shape7",e.Shape8="Shape8",e}({}),D=function(e){return e.Mask1="Mask1",e.Mask2="Mask2",e.Mask3="Mask3",e.Mask4="Mask4",e.Mask5="Mask5",e}({});const R=[{id:"template-color-1",color:P.H_[P.DP.purple][P.Y6.default],stickers:[],background:A.COLOR},{id:"template-color-2",color:P.H_[P.DP.orange][P.Y6.default],stickers:[],background:A.COLOR},{id:"template-color-3",color:P.H_[P.DP.acid][P.Y6.default],stickers:[],background:A.COLOR},{id:"template-color-4",color:P.H_[P.DP.teal][P.Y6.light],stickers:[],background:A.COLOR},{id:"template-color-5",color:P.H_[P.DP.magenta][P.Y6.default],stickers:[],background:A.COLOR},{id:"template-color-6",color:P.H_[P.DP.blue][P.Y6.dark],stickers:[],background:A.COLOR},{id:"template-color-7",color:P.H_[P.DP.lava][P.Y6.default],stickers:[],background:A.COLOR}];var L=a("bLDf");const F=(0,L.A)("tempo-colors-background-neutral-tertiary-default"),H=[M.Fire,M.Megaphone,M.Diamond,M.MusicNote1,M.Stars,M.Strawberry,M.Heart].map(((e,t)=>({id:`template-image-sticker-${t+1}`,color:[F,!1],stickers:[{id:"sticker-1",name:e,position:{x:-.12,y:.15},rotation:-2,width:.33,height:.33},{id:"sticker-2",name:e,position:{x:.3,y:-.05},rotation:-1,width:.31,height:.31},{id:"sticker-3",name:e,position:{x:.62,y:.04},rotation:-.4,width:.48,height:.48}],background:A.COLOR,canPickImage:!0}))),N=[{id:"template-sticker-1",color:P.H_[P.DP.blue][P.Y6.dark],stickers:[{id:"sticker-1",name:M.Stars,position:{x:.42,y:.1},rotation:0,width:.18,height:.18},{id:"sticker-2",name:M.BoxingGlove,position:{x:.66,y:0},rotation:28,width:.38,height:.38}],background:A.COLOR},{id:"template-sticker-2",color:P.H_[P.DP.magenta][P.Y6.light],stickers:[{id:"sticker-1",name:M.HandsRaised,position:{x:.05,y:.1},rotation:-15,width:.22,height:.22},{id:"sticker-2",name:M.HandsRaised,position:{x:.66,y:0},rotation:22,width:.38,height:.38}],background:A.COLOR},{id:"template-sticker-3",color:P.H_[P.DP.teal][P.Y6.dark],stickers:[{id:"sticker-1",name:M.Maki,position:{x:.33,y:.1},rotation:-21,width:.22,height:.22},{id:"sticker-2",name:M.Maki,position:{x:.6,y:0},rotation:13,width:.42,height:.42}],background:A.COLOR},{id:"template-sticker-4",color:P.H_[P.DP.lava][P.Y6.dark],stickers:[{id:"sticker-1",name:M.Chili,position:{x:.38,y:.2},rotation:-41,width:.22,height:.22},{id:"sticker-2",name:M.Chili,position:{x:.5,y:.1},rotation:-5,width:.42,height:.42}],background:A.COLOR},{id:"template-sticker-5",color:P.H_[P.DP.purple][P.Y6.default],stickers:[{id:"sticker-1",name:M.MusicNote1,position:{x:.23,y:.1},rotation:-8.4,width:.23,height:.23},{id:"sticker-2",name:M.Crying,position:{x:.5,y:.1},rotation:-5.5,width:.42,height:.42},{id:"sticker-3",name:M.MusicNote5,position:{x:.75,y:.29},rotation:31.6,width:.22,height:.22}],background:A.COLOR},{id:"template-sticker-6",color:P.H_[P.DP.teal][P.Y6.light],stickers:[{id:"sticker-1",name:M.Sun,position:{x:.49,y:.03},rotation:0,width:.22,height:.22},{id:"sticker-2",name:M.Dog,position:{x:.52,y:.02},rotation:7,width:.48,height:.48}],background:A.COLOR},{id:"template-sticker-7",color:P.H_[P.DP.purple][P.Y6.deep],stickers:[{id:"sticker-1",name:M.Boombox,position:{x:.4,y:-.14},rotation:11,width:.6,height:.6},{id:"sticker-2",name:M.Fire,position:{x:.73,y:.28},rotation:0,width:.22,height:.22}],background:A.COLOR}];var z=a("dn5u"),B=a.n(z);a("Ukb7"),a("hjmM");const Y=[P.DP.purple,P.DP.magenta,P.DP.lava,P.DP.orange,P.DP.acid,P.DP.teal,P.DP.blue,P.DP.black,P.DP.white],G={id:"template-default",color:P.H_[P.DP.purple][P.Y6.default],stickers:[],background:A.COLOR},U={padding:4,borderStroke:"--tempo-colors-border-accent-primary-default",borderStrokeWidth:2,rotateAnchorOffset:20,rotateAnchorCursor:"grab",enabledAnchors:["top-left","top-right","bottom-left","bottom-right"],anchorCornerRadius:2,anchorStrokeWidth:0,anchorSize:12,flipEnabled:!1},Z=Object.entries(P.H_).filter((([e])=>Y.includes(e)&&e!==P.DP.black&&e!==P.DP.white)).map((([,e])=>Object.values(e).map((e=>e[0])))).flat(),V={default:"#000000",[Z[0]]:"#DA3434",[Z[1]]:"#FFA9A9",[Z[2]]:"#FFA9A9",[Z[3]]:"#DA3434",[Z[4]]:"#DA3434",[Z[5]]:"#FF673D",[Z[6]]:"#FFCCBD",[Z[7]]:"#8F3A22",[Z[8]]:"#FF673D",[Z[9]]:"#FF673D",[Z[10]]:"#A29A39",[Z[11]]:"#FEFFB7",[Z[12]]:"#A29A39",[Z[13]]:"#A29A39",[Z[14]]:"#A29A39",[Z[15]]:"#33808F",[Z[16]]:"#7CCEC9",[Z[17]]:"#DEFDFB",[Z[18]]:"#33808F",[Z[19]]:"#33808F",[Z[20]]:"#2D3ED9",[Z[21]]:"#5263FC",[Z[22]]:"#202C99",[Z[23]]:"#5263FC",[Z[24]]:"#5263FC",[Z[25]]:"#A238FF",[Z[26]]:"#D9AEFF",[Z[27]]:"#D9AEFF",[Z[28]]:"#A238FF",[Z[29]]:"#A238FF",[Z[30]]:"#AB50B2",[Z[31]]:"#FBC6FF",[Z[32]]:"#7D3A81",[Z[33]]:"#DE68E7",[Z[34]]:"#DE68E7","#000000":"#8C898E","#FFFFFF":"#B4B1B6"},[j,W,$]=(0,S.q6)({name:"TemplateCanvasContext"}),X=e=>({isSelected:!1,visible:!0,alignment:I.LEFT,color:e?T.LIGHT:T.DARK}),q=({children:e,config:t})=>{const[a,n]=(0,i.useState)(t.color||(0,P.D8)()),[l,r]=(0,i.useState)(t.background||A.COLOR),[o,s]=(0,i.useState)(t.stickers||[]),[c,d]=(0,i.useState)(null),[m,p]=(0,i.useState)(t.image),[u,g]=(0,i.useState)(t.mask),[h,f]=(0,i.useState)(t.text||X(a[1])),[y,v]=(0,i.useState)(t.pattern),b=(0,i.useMemo)((()=>({color:a,setColor:e=>{n(e),f((t=>({...t,color:e[1]?T.LIGHT:T.DARK})))},image:m,setImage:p,background:l,setBackground:r,stickers:o,text:h,selectText:()=>{d(null),f((e=>({...e,isSelected:!0})))},deselectText:()=>{f((e=>({...e,isSelected:!1})))},moveText:e=>{f((t=>({...t,position:e})))},transformText:(e,t,a,n)=>{f((l=>({...l,position:e,rotation:n,scale:{x:t,y:a}})))},toggleTextVisibility:()=>{f((e=>({...e,visible:!e.visible})))},toggleTextAlignment:()=>{let e=I.LEFT;h.alignment===I.LEFT?e=I.CENTER:h.alignment===I.CENTER&&(e=I.RIGHT),f((t=>({...t,alignment:e})))},toggleTextColor:()=>{f((e=>({...e,color:e.color===T.LIGHT?T.DARK:T.LIGHT})))},resetText:()=>{f(X(a[1]))},mask:u,setMask:g,addSticker:e=>{const t=400/1200,a=.33333333333333337,n={id:B()(),name:e,position:{x:a,y:a},rotation:0,width:t,height:t};s((e=>[...e,n]))},removeSticker:()=>{s((e=>[...e.filter((e=>e.id!==c))])),d(null)},stickerSelected:c,selectSticker:e=>{s((t=>{const a=t.find((t=>t.id===e));return a?[...t.filter((t=>t.id!==e)),a]:t})),d(e)},deselectSticker:()=>d(null),updateStickerPosition:(e,t)=>{s((a=>a.map((a=>a.id===e?{...a,position:t}:a))))},updateStickerShape:(e,t,a,n,l)=>{s((i=>i.map((i=>i.id===e?{...i,position:t,width:a,height:n,rotation:l}:i))))},deselectAllElements:()=>{f((e=>({...e,isSelected:!1}))),d(null)},pattern:y,setPattern:v,config:{...t,background:l,color:a,stickers:o,image:m,text:h,pattern:y,mask:u}})),[a,l,o,c,m,h,y,u,t]);return i.createElement(j,{value:b},e)},K=q,J=[{id:"template-mask-1",color:P.H_[P.DP.purple][P.Y6.default],stickers:[],background:A.CUSTOM_PICTURE,mask:D.Mask1,canPickImage:!0,text:{...X(!1),scale:{x:1.13,y:1.13}}},{id:"template-mask-2",color:P.H_[P.DP.orange][P.Y6.default],stickers:[],background:A.CUSTOM_PICTURE,mask:D.Mask2,canPickImage:!0,text:{...X(!1),scale:{x:1.13,y:1.13}}},{id:"template-mask-3",color:P.H_[P.DP.blue][P.Y6.dark],stickers:[],background:A.CUSTOM_PICTURE,mask:D.Mask3,canPickImage:!0,text:{...X(!1),scale:{x:1.13,y:1.13}}},{id:"template-mask-4",color:P.H_[P.DP.lava][P.Y6.default],stickers:[],background:A.CUSTOM_PICTURE,mask:D.Mask4,canPickImage:!0,text:{...X(!1),scale:{x:1.13,y:1.13}}},{id:"template-mask-5",color:P.H_[P.DP.magenta][P.Y6.default],stickers:[],background:A.CUSTOM_PICTURE,mask:D.Mask5,canPickImage:!0,text:{...X(!1),scale:{x:1.13,y:1.13}}}],Q=[{id:"template-pattern-1",color:P.H_[P.DP.purple][P.Y6.default],stickers:[],background:A.PATTERN,pattern:O.Shape1,text:{...X(!1),alignment:I.CENTER,position:{x:.02,y:.35}}},{id:"template-pattern-2",color:P.H_[P.DP.acid][P.Y6.default],stickers:[],background:A.PATTERN,pattern:O.Shape2,text:{...X(!0),alignment:I.CENTER,position:{x:-.02,y:.345},scale:{x:1.15,y:1.15}}},{id:"template-pattern-3",color:P.H_[P.DP.orange][P.Y6.light],stickers:[],background:A.PATTERN,pattern:O.Shape3,text:{...X(!0),scale:{x:1.13,y:1.13}}},{id:"template-pattern-4",color:P.H_[P.DP.teal][P.Y6.default],stickers:[],background:A.PATTERN,pattern:O.Shape6,text:{...X(!0),alignment:I.CENTER,position:{x:.03,y:.27}}},{id:"template-pattern-5",color:P.H_[P.DP.purple][P.Y6.default],stickers:[],background:A.PATTERN,pattern:O.Shape5,text:{...X(!1),alignment:I.CENTER,position:{x:.004374999999999929,y:.5},rotation:-16}},{id:"template-pattern-6",color:P.H_[P.DP.blue][P.Y6.default],stickers:[],background:A.PATTERN,pattern:O.Shape8,text:{...X(!1),scale:{x:1.13,y:1.13}}},{id:"template-pattern-7",color:P.H_[P.DP.lava][P.Y6.deep],stickers:[],background:A.PATTERN,pattern:O.Shape4,text:{...X(!1),scale:{x:1.13,y:1.13}}}],ee=[{id:"template-pattern-sticker-1",color:P.H_[P.DP.purple][P.Y6.default],stickers:[{id:"sticker-1",name:M.HandsRaised,position:{x:.037,y:.07},rotation:-9,width:.34,height:.34},{id:"sticker-2",name:M.HandsRaised,position:{x:.65,y:.54},rotation:10,width:.34,height:.34}],background:A.PATTERN,pattern:O.Shape5,text:{...X(!1),alignment:I.CENTER,position:{x:0,y:.5},rotation:-16}},{id:"template-pattern-sticker-2",color:P.H_[P.DP.teal][P.Y6.dark],stickers:[{id:"sticker-1",name:M.MusicNote4,position:{x:.06,y:.77},rotation:-19,width:.2,height:.2},{id:"sticker-2",name:M.Diamond,position:{x:.751,y:-.003},rotation:23,width:.27,height:.27}],background:A.PATTERN,pattern:O.Shape1,text:{...X(!1),alignment:I.CENTER,position:{x:.031,y:.36}}},{id:"template-pattern-sticker-3",color:P.H_[P.DP.acid][P.Y6.dark],stickers:[{id:"sticker-1",name:M.Palmtree,position:{x:.277,y:.1},rotation:-19,width:.3376,height:.3376},{id:"sticker-2",name:M.Palmtree,position:{x:.463,y:.66},rotation:30,width:.27,height:.27}],background:A.PATTERN,pattern:O.Shape8,text:{...X(!1),alignment:I.CENTER,position:{x:.00124,y:.376},scale:{x:1.05897,y:1.05897}}},{id:"template-pattern-sticker-4",color:P.H_[P.DP.lava][P.Y6.deep],stickers:[{id:"sticker-1",name:M.Boom,position:{x:-.08862499999999995,y:.08750000000000013},rotation:-19,width:.4,height:.4},{id:"sticker-2",name:M.Rock,position:{x:.5454387035387752,y:.6774676955459106},rotation:-21,width:.407,height:.407}],background:A.PATTERN,pattern:O.Shape1,text:{...X(!1),alignment:I.CENTER,position:{x:.03,y:.37}}},{id:"template-pattern-sticker-5",color:P.H_[P.DP.purple][P.Y6.deep],stickers:[{id:"sticker-1",name:M.Crying,position:{x:.002,y:.128},rotation:-6,width:.41,height:.41},{id:"sticker-2",name:M.MusicNote3,position:{x:.7023684041587492,y:.42650952804574177},rotation:14,width:.24,height:.24}],background:A.PATTERN,pattern:O.Shape3},{id:"template-pattern-sticker-6",color:P.H_[P.DP.magenta][P.Y6.dark],stickers:[{id:"sticker-1",name:M.Butterfly,position:{x:.021,y:.142},rotation:-13,width:.43,height:.43},{id:"sticker-2",name:M.Butterfly,position:{x:.715,y:.32},rotation:14,width:.27,height:.27}],background:A.PATTERN,pattern:O.Shape4,text:X(!0)}],te=[{id:"template-mask-sticker-1",color:P.H_[P.DP.acid][P.Y6.default],stickers:[{id:"sticker-1",name:M.Diamond,position:{x:-.03,y:.169},rotation:-2,width:.2,height:.2},{id:"sticker-2",name:M.Diamond,position:{x:.29,y:-.08},rotation:-1,width:.27,height:.27},{id:"sticker-3",name:M.Diamond,position:{x:.716,y:.161},rotation:-.4,width:.3,height:.3}],background:A.CUSTOM_PICTURE,mask:D.Mask1,canPickImage:!0,text:X(!1)},{id:"template-mask-sticker-2",color:P.H_[P.DP.orange][P.Y6.default],stickers:[{id:"sticker-1",name:M.Sun,position:{x:.664,y:.046875},rotation:0,width:.27,height:.27}],background:A.CUSTOM_PICTURE,mask:D.Mask2,canPickImage:!0},{id:"template-mask-sticker-3",color:P.H_[P.DP.blue][P.Y6.dark],stickers:[{id:"sticker-1",name:M.Stars,position:{x:.05775000000000371,y:.09375000000000017},rotation:0,width:.203,height:.203},{id:"sticker-2",name:M.Stars,position:{x:.7642966814393654,y:.5284216814393665},rotation:0,width:.176,height:.176}],background:A.CUSTOM_PICTURE,mask:D.Mask3,canPickImage:!0},{id:"template-mask-sticker-4",color:P.H_[P.DP.lava][P.Y6.default],stickers:[{id:"sticker-1",name:M.Strawberry,position:{x:.03,y:.025},rotation:0,width:.26,height:.26},{id:"sticker-2",name:M.Strawberry,position:{x:.725,y:.413},rotation:0,width:.24,height:.24}],background:A.CUSTOM_PICTURE,mask:D.Mask4,canPickImage:!0},{id:"template-mask-sticker-5",color:P.H_[P.DP.magenta][P.Y6.default],stickers:[{id:"sticker-1",name:M.Confetti,position:{x:.6346036266965612,y:.09403519203589875},rotation:0,width:.3,height:.3},{id:"sticker-2",name:M.Confetti,position:{x:.057371285807179845,y:.41975560240277243},rotation:0,width:.2006,height:.2006}],background:A.CUSTOM_PICTURE,mask:D.Mask5,canPickImage:!0,text:X(!1)}],ae=["color","image","patternStickers","imageSticker","pattern","imageMaskStickers","mosaic","sticker","imageMask"],ne=()=>{const e=[...R],t=[...N],a=[...H],n=[...J],l=[...Q],i=[...ee],r=[...te],o=[];return ae.forEach(((s,c)=>{switch(s){case"sticker":{const e=t[Math.floor(Math.random()*t.length)];o.push({...e}),t.splice(t.indexOf(e),1);break}case"image":{const e=(0,L.A)("tempo-colors-background-neutral-tertiary-default");o.push({id:`template-${c}`,color:[e,!1],stickers:[],background:A.COLOR,canPickImage:!0});break}case"imageSticker":{const e=a[Math.floor(Math.random()*a.length)];o.push({...e}),a.splice(a.indexOf(e),1);break}case"mosaic":o.push({id:`template-${c}`,color:P.H_[P.DP.blue][P.Y6.default],stickers:[],background:A.MOSAIC});break;case"imageMask":{const e=n[Math.floor(Math.random()*n.length)];o.push(e),n.splice(n.indexOf(e),1);break}case"pattern":{const e=l[Math.floor(Math.random()*l.length)];o.push(e),l.splice(l.indexOf(e),1);break}case"patternStickers":{const e=i[Math.floor(Math.random()*i.length)];o.push(e),i.splice(i.indexOf(e),1);break}case"imageMaskStickers":{const e=r[Math.floor(Math.random()*r.length)];o.push(e),r.splice(r.indexOf(e),1);break}default:{const t=e[Math.floor(Math.random()*e.length)];o.push({...t}),e.splice(e.indexOf(t),1);break}}})),o};function le(e,t){switch(t.type){case"SELECT_CONFIG":return{...e,configSelected:e.templates.find((e=>e.id===t.configId))};case"SAVE_CONFIG":return{...e,templates:e.templates.map((e=>e.id===t.config.id?t.config:e)),lastTemplateSelected:t.config.id,lastSavedConfig:t.config,configSelected:t.config,isEditing:!1};case"SET_EDITING":{let a=e.configSelected;return t.isEditing?void 0!==t.config&&(a=t.config):a=e.lastSavedConfig,{...e,isEditing:t.isEditing,configSelected:a,...a&&{lastTemplateSelected:a.id}}}default:return e}}const[ie,re]=(0,S.q6)({name:"TemplateContext"}),oe=({children:e,playlistId:t,isCreation:a})=>{const[n,l]=(0,i.useReducer)(le,{configSelected:null,isEditing:!1,lastSavedConfig:null,lastTemplateSelected:null,playlistId:t,sessionId:B()(),templates:a?ne():[],isCreation:a||!1});return i.createElement(ie,{value:{...n,setIsEditing:(e,t)=>l({type:"SET_EDITING",isEditing:e,config:t}),saveConfig:e=>l({type:"SAVE_CONFIG",config:e}),selectConfig:e=>l({type:"SELECT_CONFIG",configId:e})}},e)};var se=a("X51p"),ce=a("CdHq"),de=a("9MQu"),me=a("HmE0"),pe=a("Wp0Y"),ue=a("iooo"),ge=a("WmA5"),he=a("fkXJ"),fe=a("XkdG");const ye=({onChange:e,value:t,hasError:a})=>i.createElement(ce.s,{flexDirection:"column",gap:"spacing.xs",alignItems:"flex-start"},i.createElement(h.E,{id:"playlist-assistant-name",role:"heading",variant:"body.s.default","data-testid":"playlist_name_title"},(0,pe.AP)("createeditplaylistfield_title_name_web")),i.createElement(fe.p,{placeholder:(0,pe.AP)("Nom de la playlist"),maxLength:50,onChange:e,value:t,"aria-labelledby":"playlist-assistant-name","aria-required":"true",size:"small",isInvalid:a,"data-testid":"playlist_name_field"}));var ve=a("p+cz");const be=({onChange:e,value:t})=>i.createElement(ce.s,{flexDirection:"column",gap:"spacing.xs",my:"spacing.s",alignItems:"flex-start"},i.createElement(h.E,{id:"playlist-assistant-description",variant:"body.s.default","data-testid":"playlist_description_title"},(0,pe.AP)("createeditplaylistfield_title_description_web")),i.createElement(ve.T,{maxLength:200,placeholder:(0,pe.AP)("createeditplaylistfield_text_playlistdescription_web"),onChange:e,"aria-labelledby":"playlist-assistant-description","aria-required":"false",value:t||"",fontSize:"sm",height:"92px",resize:"none","data-testid":"playlist_description_field"}));var Ee,xe=a("80JK"),ke=a("8WIx"),_e=a("oh0j"),Ce=a("FFEP");const we=({onToggle:e,isChecked:t,disabled:a})=>i.createElement(xe.MJ,{key:"private",display:"flex",alignItems:"center",opacity:a?.4:void 0,pointerEvents:a?"none":void 0,onChange:a=>e(a,t)},i.createElement(ce.s,{as:ke.l,htmlFor:"private",direction:"row",m:0,gap:"spacing.l",flex:1},Ee||(Ee=i.createElement(ce.s,{align:"center",justify:"center",boxSize:"size.m",borderRadius:"full",bg:"background.neutral.tertiary.default"},i.createElement(Ce.X,{color:"icon.neutral.secondary.default"}))),i.createElement(ce.s,{direction:"row",align:"center",justify:"space-between",flex:1},i.createElement(ce.s,{direction:"column"},i.createElement(h.E,{variant:"body.l.default","data-testid":"private_title",color:"text.neutral.primary.default"},(0,pe.AP)("Privée")),i.createElement(h.E,{as:"span",variant:"body.2xs.default","data-testid":"private_description",color:"text.neutral.secondary.default"},(0,pe.AP)("createeditplaylistsettings_title_onlyyoucanseethisplaylist_web"))),i.createElement(_e.d,{id:"private",isChecked:t,isDisabled:a,"data-testid":t?"private_toggle_on":"private_toggle_off"}))));var Se,Pe=a("vZvY");const Ae=({onToggle:e,isChecked:t,disabled:a})=>i.createElement(xe.MJ,{key:"collab",display:"flex",alignItems:"center",opacity:a?.4:void 0,pointerEvents:a?"none":void 0,onChange:a=>e(a,t)},i.createElement(ce.s,{as:ke.l,htmlFor:"collab",direction:"row",m:0,gap:"spacing.l",flex:1},Se||(Se=i.createElement(ce.s,{align:"center",justify:"center",boxSize:"size.m",borderRadius:"full",bg:"background.neutral.tertiary.default"},i.createElement(Pe.O,{color:"icon.neutral.secondary.default"}))),i.createElement(ce.s,{direction:"row",align:"center",justify:"space-between",flex:1},i.createElement(ce.s,{direction:"column"},i.createElement(h.E,{variant:"body.l.default","data-testid":"collaborative_title",color:"text.neutral.primary.default"},(0,pe.AP)("Collaborative")),i.createElement(h.E,{as:"span",variant:"body.2xs.default","data-testid":"collaborative_subtitle",color:"text.neutral.secondary.default"},(0,pe.AP)("createeditplaylistsettings_title_inviteotherstoaddtracks_web")))),i.createElement(_e.d,{id:"collab",isChecked:t,isDisabled:a,"data-testid":t?"collaborative_toggle_on":"collaborative_toggle_off"})));var Ie=a("5G9X"),Te=a("K5vB"),Me=a("QOhT");const Oe=({picture:e,size:t,onSucessUpdate:a,onErrorUpdate:n,onDisplayUpdate:l})=>i.createElement(Te.AG,{value:{isGraphQlUpload:!0,onSuccess:a,onError:n,onDisplay:l}},i.createElement(Me.A,{bordered:!0,multiCover:!0,type:Ie.Ay.Playlist,height:t,width:t,uploadCover:"force",coverLink:!1,imgSrc:e})),De=({type:e,playlistId:t,trackIds:a=[],onPlaylistCreation:n,data:l})=>{var o;const m=null==l?void 0:l.playlist,p=e===d.F.EDITION,u=e===d.F.CREATION,[g,h]=(0,i.useState)(null==m||null===(o=m.picture)||void 0===o?void 0:o.medium[0]),[f,y]=(0,i.useState)(void 0),v=(0,r.wA)(),[b,E]=(0,i.useState)(!1),[x]=(0,c.$IV)(),k=e=>{C({variables:{input:{title:T.trim(),description:M||void 0,isPrivate:O,isCollaborative:D,picture:e||void 0}}})},_=(e,a)=>{if(t){if(a)return void w({variables:{input:{playlistId:t,picture:e||void 0}}});w({variables:{input:{playlistId:t,title:T.trim(),description:M||"",isPrivate:O,isCollaborative:D,picture:e||void 0}}})}},[C]=(0,c.DpH)({onCompleted:e=>{var t;const n=null===(t=e.createPlaylist)||void 0===t||null===(t=t.playlist)||void 0===t?void 0:t.id;if(n){if(!a||0===a.length)return void R(n);a.length>0&&x({variables:{input:{playlistId:n,trackIds:a}}}).then((()=>{R(n)}))}},onError:()=>{E(!1)}}),[w]=(0,c.U3y)({onCompleted:e=>{var t;const a=null===(t=e.updatePlaylist)||void 0===t||null===(t=t.playlist)||void 0===t?void 0:t.id;a&&R(a)},onError:()=>{E(!1)}}),[S,P]=(0,i.useState)(!1),[A,I]=(0,i.useState)({title:(null==m?void 0:m.title)||"",description:(null==m?void 0:m.description)||null,isPrivate:(null==m?void 0:m.isPrivate)||!1,isCollab:(null==m?void 0:m.isCollaborative)||!1}),{title:T,description:M,isPrivate:O,isCollab:D}=A,R=t=>{e===d.F.CREATION?(ge.A.push((0,ue.jd)(`/playlist/${t}`)),(0,he.A)({body:(0,pe.AP)("toastmessage_title_playlistcreated_web")}),null==n||n()):e===d.F.EDITION&&(0,he.A)({body:(0,pe.AP)("toastmessage_title_playlistupdated_web")}),E(!1),v((0,s.Oo)())},L=(e,t)=>{I({...A,[e]:t})};return i.createElement(i.Fragment,null,i.createElement(ce.s,{direction:"column",gap:"spacing.l",p:"spacing.xl"},i.createElement(ce.s,{direction:"row",gap:"spacing.xl"},i.createElement(Oe,{picture:g,onDisplayUpdate:(e,t)=>{h(e),y((()=>t))},onErrorUpdate:()=>{u?k():p&&_()},onSucessUpdate:e=>{u?k(e):p&&_(e,(null==m?void 0:m.title)===T&&(null==m?void 0:m.description)===M&&(null==m?void 0:m.isPrivate)===O&&(null==m?void 0:m.isCollaborative)===D)},size:200}),i.createElement(ce.s,{direction:"column",flex:1,gap:"spacing.l"},i.createElement(ye,{value:T,onChange:e=>{P(!1),L("title",e.target.value)},hasError:S}),i.createElement(Ae,{isChecked:D,onToggle:(e,t)=>{e.stopPropagation(),I({...A,isCollab:!D,isPrivate:!t&&O})},disabled:O}),i.createElement(we,{isChecked:O,onToggle:(e,t)=>{e.stopPropagation(),I({...A,isPrivate:!O,isCollab:!t&&D})},disabled:D}))),i.createElement(be,{value:M,onChange:e=>L("description",e.target.value)})),i.createElement(de.e,{display:"flex",justifyContent:"flex-end",p:"spacing.xl",borderTop:"1px solid",borderTopColor:"divider.neutral.primary.default"},i.createElement(me.$n,{isDisabled:b,onClick:()=>{""!==T.trim()?(E(!0),f?f("",!0):u?k():p&&_()):P(!0)},"data-testid":p?"playlist_save_button":"playlist_create_button"},p?(0,pe.AP)("Enregistrer"):(0,pe.AP)("Créer"))))};a("/eM8");var Re=a("NgX8"),Le=a("kD7r"),Fe=a("kSUS"),He=a("LOQS"),Ne=a("Fzox"),ze=a("xobL"),Be=a("0JBE");function Ye(){const{page:e}=(0,Be.iQ)(),t=(0,Ne.G)((e=>(0,ze.F6)(e.user).toString())),{sessionId:a,playlistId:n,isCreation:l}=re(),r=(0,i.useCallback)((a=>{var l;(l={playlist_id:null!=n?n:"0",screen_view_id_type:"user",screen_view_id:t,screen_view_name:e,...a}).screen_view_name&&He.A.log({type:"cdp",eventName:"playlist_edition_started",customAttributes:{...l}})}),[e,t,n]),o=(0,i.useCallback)((n=>{var l;(l={playlist_id:"0",playlist_uid:a,screen_view_id_type:"user",screen_view_id:t,screen_view_name:e,...n}).screen_view_name&&He.A.log({type:"cdp",eventName:"playlist_creation_started",customAttributes:{...l}})}),[e,a,t]);return{track:l?o:r,trackEdition:r,trackCreation:o}}const[Ge,Ue]=(0,S.q6)({name:"CarouselContext"}),Ze=({children:e,onSelectionChanged:t})=>{const[a,n]=(0,i.useState)(null),l=(0,i.useRef)(new Map),r=(0,i.useMemo)((()=>({itemSelected:a,setItemSelected:e=>{n(e),null==t||t(e)},itemsRegistrated:l.current,registerItem:(e,t)=>{t?l.current.set(e,t):l.current.delete(e)}})),[a]);return i.createElement(Ge,{value:r},e)},je=({children:e,id:t})=>{const{itemSelected:a,registerItem:n}=Ue(),l=a===t;return i.createElement(ce.s,{key:t,id:t,align:"center",justify:"center",height:144,minWidth:144,sx:{"& *":{scrollSnapAlign:"none"},"&":{scrollSnapAlign:"center"}},borderRadius:l?"s":"xs",position:"relative",ref:e=>n(t,e)},e)};var We,$e,Xe,qe,Ke=a("+9dH"),Je=a("4vn4"),Qe=a("RSbz");const et=({scrollToPrevious:e,scrollToNext:t})=>{const a=(0,Ne.G)((e=>e.user.DIRECTION));return i.createElement(i.Fragment,null,i.createElement(ce.s,{opacity:e?1:0,pointerEvents:e?"auto":"none",transition:"opacity 0.2s ease-in",position:"absolute",top:0,insetStart:0,align:"center",justify:"center",padding:"spacing.xl",height:"100%",zIndex:1,bgGradient:"ltr"===a?"linear(to-r, background.neutral.primary.default, transparent)":"linear(to-l, background.neutral.primary.default, transparent)"},i.createElement(me.K0,{"aria-label":"Scroll to previous",variant:"onDark",icon:"ltr"===a?We||(We=i.createElement(Qe.Y,null)):$e||($e=i.createElement(f.v,null)),onClick:e,size:"small"})),i.createElement(ce.s,{opacity:t?1:0,pointerEvents:t?"auto":"none",transition:"opacity 0.2s ease-in",position:"absolute",top:0,insetEnd:0,align:"center",justify:"center",padding:"spacing.xl",height:"100%",zIndex:1,bgGradient:"ltr"===a?"linear(to-l, background.neutral.primary.default, transparent)":"linear(to-r, background.neutral.primary.default, transparent)"},i.createElement(me.K0,{"aria-label":"Scroll to next",variant:"onDark",icon:"ltr"===a?Xe||(Xe=i.createElement(f.v,null)):qe||(qe=i.createElement(Qe.Y,null)),onClick:t,size:"small"})))},tt=({children:e,defaultItemToFocus:t,...a})=>{var n,l;const r=(0,i.useRef)(null),{itemSelected:o,setItemSelected:s,itemsRegistrated:c}=Ue();return i.useEffect((()=>{var e;t&&c.has(t)&&(null===(e=c.get(t))||void 0===e||e.scrollIntoView({behavior:"smooth",block:"nearest",inline:"center"}))}),[t,c]),i.useEffect((()=>{if(!r.current)return;const e=new IntersectionObserver((e=>{e.forEach((e=>{var t;null!=e&&null!==(t=e.target)&&void 0!==t&&t.parentElement&&e.isIntersecting&&[...e.target.parentElement.children].forEach((t=>{if(t===e.target){const e=t.getAttribute("id");e&&s(e)}}))}))}),{root:r.current,rootMargin:"0px -49% 0px -49%",threshold:[...Array(5).keys()].map((e=>e/4))});for(const t of c.values())e.observe(t);return()=>null==e?void 0:e.disconnect()}),[c,s]),i.createElement(m.a,(0,Ke.A)({position:"relative",w:"100%",maxW:"100%"},a),i.createElement(et,{scrollToPrevious:o&&null!==(n=c.get(o))&&void 0!==n&&n.previousElementSibling?()=>{var e;null===(e=c.get(o))||void 0===e||null===(e=e.previousElementSibling)||void 0===e||e.scrollIntoView({behavior:"smooth",block:"nearest",inline:"center"})}:void 0,scrollToNext:o&&null!==(l=c.get(o))&&void 0!==l&&l.nextElementSibling?()=>{var e;null===(e=c.get(o))||void 0===e||null===(e=e.nextElementSibling)||void 0===e||e.scrollIntoView({behavior:"smooth",block:"nearest",inline:"center"})}:void 0}),i.createElement(Je.FN,null,i.createElement(Je.vQ,{position:"relative",ref:r,px:"calc(50% - 72px)",py:"spacing.3xl",gap:"spacing.2xl"},e)))},at=({children:e,id:t,...a})=>{const{itemSelected:n,itemsRegistrated:l}=Ue(),r=(0,Ne.G)((e=>e.user.DIRECTION)),o=n===t,s=[...l.keys()],c=s.indexOf(t)<s.indexOf(n||""),d=!c&&!o;return i.createElement(m.a,(0,Ke.A)({as:"button",width:"100%",height:"100%",borderRadius:"xs",outline:"2px solid transparent",outlineOffset:"2px",outlineColor:o?"border.accent.primary.default":void 0,transform:o?"scale(1.4,1.4)":"ltr"===r&&c||"rtl"===r&&d?`translateX(-${(0,L.A)("--tempo-space-spacing-xl")})`:"ltr"===r&&d||"rtl"===r&&c?`translateX(${(0,L.A)("--tempo-space-spacing-xl")})`:void 0,transition:"transform 0.2s ease-in, outline-color 0.2s ease-in",onClick:e=>{o||e.target.scrollIntoView({block:"nearest",inline:"center"})}},a),e)};var nt,lt=a("ZUSG");const it=i.forwardRef((function({onClick:e,...t},a){return i.createElement(me.$n,(0,Ke.A)({ref:a,variant:"onDark",size:"small",onClick:e,position:"absolute",bottom:"-48px",left:"50%",transform:"translateX(-50%)",leftIcon:nt||(nt=i.createElement(lt.r,null))},t),(0,pe.AP)("playlistcover_action_customize_web"))}));var rt=a("Tub5"),ot=a("Ni3L"),st=a.n(ot);const yt=(e,t)=>{switch(t){case O.Shape1:return'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 1200" fill="FILL_COLOR">\n                                <g clipPath="url(#a)">\n                                    <path d="M1200.18 1200H.18V0h1200v1200ZM600 861.017c-38.211 0-71.179 33.955-86.445 83.011-13.829-24.901-33.811-40.543-56.034-40.544-41.742 0-75.582 55.185-75.582 123.256.001 68.08 33.839 123.26 75.581 123.26 27.599 0 51.742-24.13 64.934-60.15 17.338 36.43 45.61 60.15 77.546 60.15 31.936 0 60.208-23.72 77.546-60.15 13.192 36.02 37.334 60.15 64.933 60.15 41.742 0 75.581-55.18 75.582-123.26 0-68.071-33.839-123.255-75.581-123.256-22.223 0-42.207 15.643-56.036 40.544-15.266-49.056-48.234-83.011-86.444-83.011ZM169.498 996.704c-25.383 0-45.961 32.226-45.961 71.986 0 39.76 20.578 71.99 45.961 71.99 25.384 0 45.961-32.23 45.961-71.99s-20.577-71.986-45.961-71.986Zm142.481-35.216c-31.871 0-57.708 40.112-57.708 89.592.001 49.48 25.837 89.6 57.708 89.6 31.87 0 57.706-40.12 57.706-89.6s-25.836-89.592-57.706-89.592Zm573.49 0c-32.153 0-58.218 40.112-58.218 89.592s26.065 89.6 58.218 89.6c32.152 0 58.216-40.12 58.217-89.6 0-49.48-26.065-89.592-58.217-89.592Zm146.051 35.216c-25.38 0-45.958 32.226-45.958 71.986 0 39.76 20.578 71.99 45.958 71.99 25.39 0 45.96-32.23 45.96-71.99s-20.57-71.986-45.96-71.986Zm-1.02-740.584c-31.825 0-60.743 35.805-82.159 94.179-16.982-33.914-37.59-53.783-59.808-53.783-33.916 0-64.083 46.303-83.321 118.192-15.968-46.808-37.951-75.725-62.222-75.725-35.216.001-65.618 60.877-79.811 148.955-13.199-56.611-36.107-94.058-62.158-94.058-26.451 0-49.663 38.607-62.76 96.682-14.008-89.49-44.664-151.578-80.229-151.579-22.877 0-43.724 25.69-59.415 67.838-19.389-67.371-48.714-110.305-81.532-110.305-23.68 0-45.541 22.354-63.163 60.111-21.619-62.104-51.462-100.507-84.423-100.507C103.502 256.12 50 410.081 50 600c0 189.919 53.502 343.88 119.499 343.88 32.961 0 62.804-38.403 84.423-100.508 17.622 37.758 39.483 60.112 63.163 60.112 32.818 0 62.143-42.935 81.532-110.307 15.691 42.149 36.538 67.84 59.415 67.84 35.566-.001 66.221-62.09 80.229-151.58 13.097 58.076 36.309 96.683 62.76 96.683 26.052 0 48.959-37.447 62.158-94.058 14.193 88.077 44.595 148.954 79.811 148.955 24.272 0 46.254-28.918 62.222-75.726 19.238 71.889 49.404 118.193 83.321 118.193 22.218 0 42.826-19.869 59.808-53.784 21.416 58.375 50.334 94.18 82.159 94.18 66 0 119.5-153.961 119.5-343.88 0-189.919-53.5-343.88-119.5-343.88ZM743.5 50c-27.598 0-51.741 24.123-64.934 60.146C661.228 73.718 632.957 50 601.022 50c-31.935 0-60.209 23.719-77.546 60.148C510.283 74.125 486.141 50 458.542 50c-41.742 0-75.58 55.184-75.58 123.258 0 68.073 33.838 123.258 75.58 123.258 22.224 0 42.206-15.643 56.035-40.545 15.266 49.056 48.235 83.012 86.445 83.012 38.21 0 71.176-33.955 86.443-83.009 13.829 24.9 33.812 40.542 56.035 40.542 41.742 0 75.58-55.185 75.58-123.258C819.08 105.184 785.242 50 743.5 50Zm-427.947 9.322c-32.153 0-58.218 40.113-58.218 89.595s26.065 89.596 58.218 89.596c32.152-.001 58.217-40.114 58.217-89.596 0-49.482-26.065-89.595-58.217-89.595Zm573.491 0c-31.871 0-57.707 40.113-57.707 89.595s25.836 89.596 57.707 89.596c31.87-.001 57.706-40.114 57.706-89.596 0-49.482-25.836-89.595-57.706-89.595Zm-719.545 0c-25.383 0-45.961 32.23-45.961 71.987s20.578 71.987 45.961 71.987c25.384 0 45.961-32.23 45.961-71.987 0-39.758-20.577-71.987-45.961-71.987Zm862.021 0c-25.38 0-45.958 32.23-45.958 71.987s20.578 71.987 45.958 71.987c25.39 0 45.96-32.23 45.96-71.987s-20.57-71.987-45.96-71.987Z" />\n                                </g>\n                                <defs>\n                                    <clipPath id="a">\n                                        <path d="M0 0h1200v1200H0z" />\n                                    </clipPath>\n                                </defs>\n                        </svg>'.replace("FILL_COLOR",e);case O.Shape2:return'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 1200" fill="FILL_COLOR">\n        <path d="M910.249 914.534c18.784 91.756 45.499 149.096 75.139 149.096 29.642 0 56.352-57.33 75.132-149.09 28.73 115.57 72.62 189.46 121.82 189.46 6.03 0 11.98-1.11 17.84-3.28V1200H.18v-96H.64c49.195 0 93.09-73.89 121.812-189.466 18.785 91.756 45.498 149.096 75.138 149.096 29.64 0 56.351-57.34 75.136-149.094C301.446 1030.11 345.343 1104 394.538 1104c49.195 0 93.092-73.89 121.814-189.466 18.784 91.756 45.496 149.096 75.136 149.096 29.64 0 56.352-57.33 75.136-149.089C695.346 1030.11 739.242 1104 788.437 1104c49.194 0 93.09-73.89 121.812-189.466ZM1200.18 86.276c-5.86-2.163-11.81-3.276-17.84-3.276-49.06 0-92.84 73.462-121.57 188.465-18.79-92.462-45.61-150.298-75.382-150.298-29.771 0-56.59 57.839-75.387 150.306-28.528-114.215-71.908-187.459-120.552-188.462L788.437 83c-49.053 0-92.838 73.462-121.564 188.465-18.797-92.463-45.615-150.298-75.385-150.298-29.77.001-56.589 57.839-75.385 150.305C487.376 156.465 443.592 83 394.538 83c-49.053 0-92.838 73.464-121.564 188.469-18.797-92.465-45.615-150.302-75.385-150.302-29.77 0-56.59 57.838-75.387 150.304C93.476 156.465 49.692 83 .639 83c-.153 0-.306.002-.458.004V0H1200.18v86.276Z" />\n    </svg>'.replace("FILL_COLOR",e);case O.Shape3:return'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 1200" fill="FILL_COLOR">\n        <g clipPath="url(#a)">\n            <path d="M1200.18 723.747c-36.92-16.684-87.94-31.595-149.67-43.996 59.02-18.88 93.51-41.659 93.51-66.189 0-44.425-113.11-83.121-280.29-103.28 96.25-16.551 157.85-41.948 157.85-70.424 0-49.874-188.969-90.304-422.076-90.304-233.108 0-422.078 40.43-422.079 90.304 0 28.476 61.603 53.874 157.851 70.425-167.173 20.159-280.287 58.854-280.287 103.279 0 24.529 34.483 47.309 93.507 66.188C87.515 691.999 36.988 706.697.181 723.134V0H1200.18v723.747ZM599.515 203.704c-165.489 0-299.645 27.99-299.645 62.519 0 34.528 134.156 62.518 299.645 62.518 165.488 0 299.643-27.99 299.643-62.518 0-34.529-134.155-62.519-299.643-62.519Zm-.009-145.849c-97.869 0-177.208 15.55-177.209 34.733 0 19.182 79.339 34.733 177.209 34.733s177.209-15.551 177.209-34.733c-.001-19.182-79.34-34.732-177.209-34.732Z" />\n        </g>\n        <defs>\n            <clipPath id="a">\n                <path d="M0 0h1200v1200H0z" />\n            </clipPath>\n        </defs>\n    </svg>'.replace("FILL_COLOR",e);case O.Shape4:return'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 1200" fill="FILL_COLOR">\n        <ellipse cx="28.554" cy="73.422" rx="28.554" ry="73.422" transform="matrix(-1 0 0 1 168.109 1003.16)" />\n        <ellipse cx="164.506" cy="378" rx="164.506" ry="378" transform="matrix(-1 0 0 1 1150 394)" />\n        <ellipse cx="141.919" cy="327.061" rx="141.919" ry="327.061" transform="matrix(-1 0 0 1 985.493 495.877)" />\n        <ellipse cx="119.331" cy="276.474" rx="119.331" ry="276.474" transform="matrix(-1 0 0 1 820.987 597.052)" />\n        <ellipse cx="96.317" cy="225.887" rx="96.317" ry="225.887" transform="matrix(-1 0 0 1 655.628 698.226)" />\n        <ellipse cx="73.73" cy="174.948" rx="73.73" ry="174.948" transform="matrix(-1 0 0 1 491.121 800.104)" />\n        <ellipse cx="51.142" cy="124.361" rx="51.142" ry="124.361" transform="matrix(-1 0 0 1 326.615 901.278)" />\n        <ellipse cx="29.612" cy="72.236" rx="29.612" ry="72.236" transform="matrix(1 0 0 -1 1046.78 194.472)" />\n        <ellipse cx="169.129" cy="371.5" rx="169.129" ry="371.5" transform="matrix(1 0 0 -1 50 793)" />\n        <ellipse cx="146.351" cy="321.249" rx="146.351" ry="321.249" transform="matrix(1 0 0 -1 218.56 692.498)" />\n        <ellipse cx="122.434" cy="271.446" rx="122.434" ry="271.446" transform="matrix(1 0 0 -1 388.259 592.893)" />\n        <ellipse cx="99.086" cy="222.092" rx="99.086" ry="222.092" transform="matrix(1 0 0 -1 557.958 494.185)" />\n        <ellipse cx="75.738" cy="171.841" rx="75.738" ry="171.841" transform="matrix(1 0 0 -1 727.656 393.682)" />\n        <ellipse cx="52.39" cy="122.039" rx="52.39" ry="122.039" transform="matrix(1 0 0 -1 896.217 294.077)" />\n    </svg>'.replace("FILL_COLOR",e);case O.Shape5:return'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 1200" fill="FILL_COLOR">\n        <g clipPath="url(#a)">\n            <ellipse cx="1209.61" cy="-134.971" rx="157.892" ry="606.933" transform="rotate(-137.064 1209.61 -134.971)" />\n            <ellipse cx="867.229" cy="-213.614" rx="210.47" ry="809.042" transform="rotate(-137.064 867.229 -213.614)" />\n            <ellipse cx="491.615" cy="-299.892" rx="253.963" ry="976.226" transform="rotate(-137.064 491.615 -299.892)" />\n            <ellipse cx="69.948" cy="-396.749" rx="304.929" ry="1172.14" transform="rotate(-137.064 69.948 -396.749)" />\n            <ellipse cx="-96.955" cy="1653.37" rx="210.615" ry="809.597" transform="rotate(30 -96.955 1653.37)" />\n            <ellipse cx="288.705" cy="1653.37" rx="254.137" ry="976.896" transform="rotate(30 288.705 1653.37)" />\n            <ellipse cx="721.648" cy="1653.36" rx="305.138" ry="1172.94" transform="rotate(30 721.648 1653.36)" />\n        </g>\n        <defs>\n            <clipPath id="a">\n                <path d="M0 0h1200v1200H0z" />\n            </clipPath>\n        </defs>\n    </svg>'.replace("FILL_COLOR",e);case O.Shape6:return'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 1200" fill="FILL_COLOR">\n        <g clipPath="url(#a)">\n            <path d="M1200.18 1200H.18V0h1200v1200ZM599.5 1079.66c-299.614 0-542.5 15.61-542.5 34.85 0 19.25 242.885 34.86 542.5 34.86s542.5-15.61 542.5-34.86c0-19.24-242.886-34.85-542.5-34.85Zm0-128.794c-299.615 0-542.5 24.886-542.5 55.584.002 30.7 242.887 55.58 542.5 55.58s542.5-24.88 542.5-55.58c0-30.698-242.885-55.584-542.5-55.584Zm0-171.795c-299.614 0-542.5 32.928-542.5 73.547s242.885 73.548 542.5 73.548 542.5-32.929 542.5-73.548-242.886-73.547-542.5-73.547ZM599.488 51C299.881 51 57.001 94.443 57 148.033c0 20.854 36.778 40.169 99.363 55.988C93.777 218.936 57 237.148 57 256.811c0 21.136 42.501 40.597 113.876 56.087C99.501 327.45 57 345.732 57 365.588c0 21.487 49.77 41.132 132.041 56.2C106.769 435.884 57 454.264 57 474.365c0 21.938 59.28 41.822 155.392 56.329C116.28 544.201 57 562.715 57 583.141c0 22.542 72.201 42.755 186.431 56.479C129.201 652.328 57 671.045 57 691.918c0 38.283 242.886 69.317 542.5 69.317 299.614 0 542.5-31.034 542.5-69.317 0-20.873-72.21-39.592-186.444-52.3 114.224-13.724 186.424-33.936 186.424-56.477 0-20.426-59.28-38.94-155.397-52.447 96.117-14.507 155.387-34.391 155.397-56.329 0-20.101-49.77-38.481-132.05-52.577 82.28-15.068 132.05-34.713 132.05-56.2 0-19.856-42.51-38.138-113.88-52.69 71.37-15.49 113.88-34.951 113.88-56.087 0-19.663-36.78-37.875-99.37-52.79 62.59-15.819 99.37-35.134 99.37-55.988C1141.97 94.443 899.095 51 599.488 51Z" />\n        </g>\n        <defs>\n            <clipPath id="a">\n                <path d="M0 0h1200v1200H0z" />\n            </clipPath>\n        </defs>\n    </svg>'.replace("FILL_COLOR",e);case O.Shape7:return'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 1200" fill="FILL_COLOR">\n        <ellipse cx="105.5" cy="203.5" rx="69.5" ry="143.5" transform="rotate(-180 105.5 203.5)" />\n        <ellipse cx="69.5" cy="143.5" rx="69.5" ry="143.5" transform="matrix(1 0 0 -1 1028 348)" />\n        <ellipse cx="195.5" cy="211" rx="69.5" ry="152" transform="rotate(-180 195.5 211)" />\n        <ellipse cx="69.5" cy="152" rx="69.5" ry="152" transform="matrix(1 0 0 -1 938 364)" />\n        <ellipse cx="286.5" cy="187" rx="65.5" ry="127" transform="rotate(-180 286.5 187)" />\n        <ellipse cx="65.5" cy="127" rx="65.5" ry="127" transform="matrix(1 0 0 -1 851 315)" />\n        <ellipse cx="375.5" cy="164" rx="53.5" ry="102" transform="rotate(-180 375.5 164)" />\n        <ellipse cx="53.5" cy="102" rx="53.5" ry="102" transform="matrix(1 0 0 -1 774 267)" />\n        <ellipse cx="465.5" cy="164" rx="53.5" ry="102" transform="rotate(-180 465.5 164)" />\n        <ellipse cx="53.5" cy="102" rx="53.5" ry="102" transform="matrix(1 0 0 -1 684 267)" />\n        <ellipse cx="555.5" cy="158" rx="53.5" ry="96" transform="rotate(-180 555.5 158)" />\n        <ellipse cx="644.5" cy="158" rx="53.5" ry="96" transform="rotate(-180 644.5 158)" />\n        <ellipse cx="69.5" cy="143.5" rx="69.5" ry="143.5" transform="matrix(-1 0 0 1 174 856)" />\n        <ellipse cx="1096.5" cy="998.5" rx="69.5" ry="143.5" />\n        <ellipse cx="69.5" cy="152" rx="69.5" ry="152" transform="matrix(-1 0 0 1 264 840)" />\n        <ellipse cx="1006.5" cy="991" rx="69.5" ry="152" />\n        <ellipse cx="65.5" cy="127" rx="65.5" ry="127" transform="matrix(-1 0 0 1 351 889)" />\n        <ellipse cx="915.5" cy="1015" rx="65.5" ry="127" />\n        <ellipse cx="53.5" cy="102" rx="53.5" ry="102" transform="matrix(-1 0 0 1 428 937)" />\n        <ellipse cx="826.5" cy="1038" rx="53.5" ry="102" />\n        <ellipse cx="53.5" cy="102" rx="53.5" ry="102" transform="matrix(-1 0 0 1 518 937)" />\n        <ellipse cx="736.5" cy="1038" rx="53.5" ry="102" />\n        <ellipse cx="53.5" cy="96" rx="53.5" ry="96" transform="matrix(-1 0 0 1 608 949)" />\n        <ellipse cx="53.5" cy="96" rx="53.5" ry="96" transform="matrix(-1 0 0 1 697 949)" />\n        <ellipse cx="646.5" cy="601" rx="72.5" ry="287" transform="rotate(-180 646.5 601)" />\n        <ellipse cx="556.5" cy="601" rx="65.5" ry="287" transform="rotate(-180 556.5 601)" />\n        <ellipse cx="466" cy="600.5" rx="67" ry="287.5" transform="rotate(-180 466 600.5)" />\n        <ellipse cx="67" cy="287.5" rx="67" ry="287.5" transform="matrix(1 0 0 -1 669 891)" />\n        <ellipse cx="374.5" cy="600.5" rx="67.5" ry="273.5" transform="rotate(-180 374.5 600.5)" />\n        <ellipse cx="67.5" cy="273.5" rx="67.5" ry="273.5" transform="matrix(1 0 0 -1 760 877)" />\n        <ellipse cx="285" cy="602.5" rx="55" ry="221.5" transform="rotate(-180 285 602.5)" />\n        <ellipse cx="55" cy="221.5" rx="55" ry="221.5" transform="matrix(1 0 0 -1 862 827)" />\n        <ellipse cx="196" cy="604.5" rx="45" ry="179.5" transform="rotate(-180 196 604.5)" />\n        <ellipse cx="45" cy="179.5" rx="45" ry="179.5" transform="matrix(1 0 0 -1 961 787)" />\n        <ellipse cx="106.5" cy="604.5" rx="50.5" ry="199.5" transform="rotate(-180 106.5 604.5)" />\n        <ellipse cx="50.5" cy="199.5" rx="50.5" ry="199.5" transform="matrix(1 0 0 -1 1045 807)" />\n    </svg>'.replace("FILL_COLOR",e);case O.Shape8:return'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 1200" fill="FILL_COLOR">\n        <g clipPath="url(#a)">\n            <path d="M107.682 0C72.65 23.356 53 49.58 53 77.294c0 42.827 46.926 82.102 125.026 112.723C99.926 220.638 53 259.913 53 302.739c0 42.828 46.928 82.104 125.033 112.726C99.929 446.086 53 485.363 53 528.19s46.926 82.102 125.027 112.723C99.926 671.534 53 710.81 53 753.637c0 42.825 46.924 82.1 125.021 112.72C99.924 896.978 53.001 936.253 53 979.078c0 42.822 46.925 82.102 125.025 112.722-75.342 29.54-121.67 67.13-124.85 108.2H.182V0h107.501ZM1200.18 1200h-54.36c-3.17-41.07-49.5-78.66-124.85-108.2 78.1-30.62 125.03-69.9 125.03-112.722 0-42.826-46.92-82.1-125.02-112.721 78.1-30.62 125.02-69.895 125.02-112.72 0-42.827-46.93-82.103-125.03-112.724 78.1-30.621 125.03-69.896 125.03-112.723s-46.93-82.105-125.03-112.726c78.1-30.622 125.03-69.897 125.03-112.725 0-42.827-46.93-82.102-125.03-112.723 78.1-30.621 125.03-69.895 125.03-112.722 0-27.713-19.65-53.938-54.68-77.294h108.86v1200Z" />\n        </g>\n        <defs>\n            <clipPath id="a">\n                <path d="M0 0h1200v1200H0z" />\n            </clipPath>\n        </defs>\n    </svg>'.replace("FILL_COLOR",e);default:return""}};var vt=a("9yOc");function bt(e){const t=.16666666666666666-1*e/1200;return t<.1?.1:t}const xt=({title:e,disabled:t})=>{var a,n,l,r,o,s,c;const{text:d,selectText:m,deselectText:p,moveText:u,transformText:g}=W(),h=e||(0,pe.AP)("Nom de la playlist"),f=i.useRef(null),y=i.useRef(null),v=d.color===T.LIGHT;i.useEffect((()=>{var e;d.isSelected&&null!=f&&f.current&&null!=y&&y.current&&(f.current.nodes([y.current]),null===(e=f.current.getLayer())||void 0===e||e.batchDraw())}),[d.isSelected]);const b={x:.06,width:.94,y:1-((null==y||null===(a=y.current)||void 0===a?void 0:a.getHeight())||0)-.06,rotation:0};return i.createElement(rt.YJ,{visible:d.visible},d.isSelected&&!t&&i.createElement(rt.rw,{x:0,y:0,width:1,height:1,opacity:.7,fill:v?"#FFFFFF":"#000000",onClick:p}),i.createElement(rt.EY,{text:h,fontSize:bt(h.length),fontFamily:(0,L.A)("tempo-fonts-heading"),fontStyle:"bold",fill:(0,L.A)(v?"tempo-colors-text-accent-onLight-default":"tempo-colors-text-accent-onDark-default"),x:null!==(n=null===(l=d.position)||void 0===l?void 0:l.x)&&void 0!==n?n:b.x,y:null!==(r=null===(o=d.position)||void 0===o?void 0:o.y)&&void 0!==r?r:b.y,width:null!==(s=d.width)&&void 0!==s?s:b.width,rotation:null!==(c=d.rotation)&&void 0!==c?c:b.rotation,scale:d.scale,align:d.alignment,letterSpacing:vt.A.is("firefox")?.01:0,ref:y,listening:!t,draggable:!t,onClick:m,onDragStart:m,onDragMove:e=>{const t=y.current;if(!t)return;const a=t.scaleX(),n=t.scaleY(),l=t.width()*a,i=t.height()*n,r=.2*l,o=.2*i;let s=e.target.x(),c=e.target.y();s<-l+r&&(s=-l+r),s>1-r&&(s=1-r),c<-i+o&&(c=-i+o),c>1-o&&(c=1-o),s===e.target.x()&&c===e.target.y()||(t.x(s),t.y(c))},onDragEnd:e=>{const t=e.target.x(),a=e.target.y();u({x:t,y:a})},onTransformEnd:()=>{const e=y.current;e&&g({x:e.x(),y:e.y()},e.scaleX(),e.scaleY(),e.rotation())}}),d.isSelected&&!t&&i.createElement(rt.Ge,(0,Ke.A)({},U,{ref:f,borderStroke:(0,L.A)(U.borderStroke),anchorFill:(0,L.A)(v?"--tempo-colors-background-neutral-primary-default":"--tempo-colors-background-neutral-inverse-default")})))},kt=a.p+"src/components/Modal/components/PlaylistAssistant/elements/template/tools/Sticker/icons/diamond.ec35196257adcf98f011.svg",_t=a.p+"src/components/Modal/components/PlaylistAssistant/elements/template/tools/Sticker/icons/boombox.0e4a785468aaabe2dc96.svg",Ct=a.p+"src/components/Modal/components/PlaylistAssistant/elements/template/tools/Sticker/icons/boxing_glove.bae66eddb54ada8a6265.svg",wt=a.p+"src/components/Modal/components/PlaylistAssistant/elements/template/tools/Sticker/icons/cherry.acc1b235a80aa41a8a48.svg",St=a.p+"src/components/Modal/components/PlaylistAssistant/elements/template/tools/Sticker/icons/chili.8415d9e91d689de974c0.svg",Pt=a.p+"src/components/Modal/components/PlaylistAssistant/elements/template/tools/Sticker/icons/crying.d9c2b1bff8d7748dd9c4.svg",At=a.p+"src/components/Modal/components/PlaylistAssistant/elements/template/tools/Sticker/icons/discoball.7e0b1005c885656b33b3.svg",It=a.p+"src/components/Modal/components/PlaylistAssistant/elements/template/tools/Sticker/icons/dog.cda0d1f8bff124116b81.svg",Tt=a.p+"src/components/Modal/components/PlaylistAssistant/elements/template/tools/Sticker/icons/fire.b65081b49fac28032151.svg",Mt=a.p+"src/components/Modal/components/PlaylistAssistant/elements/template/tools/Sticker/icons/flame_heart.4c12ad71401625423ffc.svg",Ot=a.p+"src/components/Modal/components/PlaylistAssistant/elements/template/tools/Sticker/icons/guitar.5a0dcc76374529fdd2f0.svg",Dt=a.p+"src/components/Modal/components/PlaylistAssistant/elements/template/tools/Sticker/icons/hands_raised.c8713447b4bb4f5b0971.svg",Rt=a.p+"src/components/Modal/components/PlaylistAssistant/elements/template/tools/Sticker/icons/heart.174e3cc92756651a7d42.svg",Lt=a.p+"src/components/Modal/components/PlaylistAssistant/elements/template/tools/Sticker/icons/hot_face.8dfbf69a8423f10c7ee5.svg",Ft=a.p+"src/components/Modal/components/PlaylistAssistant/elements/template/tools/Sticker/icons/ice_cream.b976e1c5e04623d43b8a.svg",Ht=a.p+"src/components/Modal/components/PlaylistAssistant/elements/template/tools/Sticker/icons/lightning_bolt.440910584dd62a78f6a6.svg",Nt=a.p+"src/components/Modal/components/PlaylistAssistant/elements/template/tools/Sticker/icons/maki.99c8b94ccb4636eedcb5.svg",zt=a.p+"src/components/Modal/components/PlaylistAssistant/elements/template/tools/Sticker/icons/megaphone.d036edb5b5e78848d3d4.svg",Bt=a.p+"src/components/Modal/components/PlaylistAssistant/elements/template/tools/Sticker/icons/mug.92d0f8d0b0d6a9306f98.svg",Yt=a.p+"src/components/Modal/components/PlaylistAssistant/elements/template/tools/Sticker/icons/music_note_1.e8700c169f105263a832.svg",Gt=a.p+"src/components/Modal/components/PlaylistAssistant/elements/template/tools/Sticker/icons/music_note_2.262833d375bbbaad258d.svg",Ut=a.p+"src/components/Modal/components/PlaylistAssistant/elements/template/tools/Sticker/icons/music_note_3.544e4850bd748bd28bc2.svg",Zt=a.p+"src/components/Modal/components/PlaylistAssistant/elements/template/tools/Sticker/icons/music_note_4.b1a1ec5598871778e7a1.svg",Vt=a.p+"src/components/Modal/components/PlaylistAssistant/elements/template/tools/Sticker/icons/music_note_5.1ce6991a2a263a37944c.svg",jt=a.p+"src/components/Modal/components/PlaylistAssistant/elements/template/tools/Sticker/icons/piano.59f8775ca9f762d58427.svg",Wt=a.p+"src/components/Modal/components/PlaylistAssistant/elements/template/tools/Sticker/icons/running.c393db348d114411a42f.svg",$t=a.p+"src/components/Modal/components/PlaylistAssistant/elements/template/tools/Sticker/icons/saxophone.212c0b7629921ed9d7d3.svg",Xt=a.p+"src/components/Modal/components/PlaylistAssistant/elements/template/tools/Sticker/icons/star_face.7457cf107cb4b5d0d989.svg",qt=a.p+"src/components/Modal/components/PlaylistAssistant/elements/template/tools/Sticker/icons/stars.4835641a3e37b0993413.svg",Kt=a.p+"src/components/Modal/components/PlaylistAssistant/elements/template/tools/Sticker/icons/strawberry.ca31ffd9848d87e10f02.svg",Jt=a.p+"src/components/Modal/components/PlaylistAssistant/elements/template/tools/Sticker/icons/sun.74e436f1fdf1eeca0cf5.svg",Qt=a.p+"src/components/Modal/components/PlaylistAssistant/elements/template/tools/Sticker/icons/sunglasses.2e13b1f8e0752b6eab41.svg",ea=a.p+"src/components/Modal/components/PlaylistAssistant/elements/template/tools/Sticker/icons/tamborine.c21cd3598136c26f4910.svg",ta=a.p+"src/components/Modal/components/PlaylistAssistant/elements/template/tools/Sticker/icons/watermelon.584f2e053e700e5a51aa.svg",aa=a.p+"src/components/Modal/components/PlaylistAssistant/elements/template/tools/Sticker/icons/rock.7a271c4731b7f87e5093.svg",na=a.p+"src/components/Modal/components/PlaylistAssistant/elements/template/tools/Sticker/icons/kiss.22ca2fa9b68b850b0b88.svg",la=a.p+"src/components/Modal/components/PlaylistAssistant/elements/template/tools/Sticker/icons/alarm.529caf6476dc41e6fdb4.svg",ia=a.p+"src/components/Modal/components/PlaylistAssistant/elements/template/tools/Sticker/icons/boom.9fa51bff195a18b41741.svg",ra=a.p+"src/components/Modal/components/PlaylistAssistant/elements/template/tools/Sticker/icons/butterfly.7505e3e01f8cf11466ed.svg",oa=a.p+"src/components/Modal/components/PlaylistAssistant/elements/template/tools/Sticker/icons/confetti.e111d215a0ea4a613a80.svg",sa=a.p+"src/components/Modal/components/PlaylistAssistant/elements/template/tools/Sticker/icons/dancing.58d4a3fe2363a2421cc8.svg",ca=a.p+"src/components/Modal/components/PlaylistAssistant/elements/template/tools/Sticker/icons/devil.59587a6b0e6d3ce32c1b.svg",da=a.p+"src/components/Modal/components/PlaylistAssistant/elements/template/tools/Sticker/icons/flower.f03282150eb1ab385d7b.svg",ma=a.p+"src/components/Modal/components/PlaylistAssistant/elements/template/tools/Sticker/icons/heart_eyes.746b0b8d1d472849c0f8.svg",pa=a.p+"src/components/Modal/components/PlaylistAssistant/elements/template/tools/Sticker/icons/heartbreak.065d19f8e4e1035f43df.svg",ua=a.p+"src/components/Modal/components/PlaylistAssistant/elements/template/tools/Sticker/icons/lotus.b52c602838978f135b68.svg",ga=a.p+"src/components/Modal/components/PlaylistAssistant/elements/template/tools/Sticker/icons/palm_tree.acde7aa88fb748b75b95.svg",ha=a.p+"src/components/Modal/components/PlaylistAssistant/elements/template/tools/Sticker/icons/muscle.f3da8d98c643677a4fc7.svg",fa=e=>{const[t,a]=i.useState(null);return i.useEffect((()=>{if(!e)return;const t=new window.Image;t.src=e,t.crossOrigin="anonymous",t.onload=()=>{a(t)}}),[e]),t||null},ya=i.forwardRef((({x:e,y:t,src:a,width:n,height:l,fitCover:r,...o},s)=>{const c=fa(a),d=i.useMemo((()=>c&&r?function(e){let t,a;return 1>=e.width/e.height?(t=e.width,a=e.width/1):(t=1*e.height,a=e.height),{cropX:(e.width-t)/2,cropY:(e.height-a)/2,cropWidth:t,cropHeight:a}}(c):null),[c,r]);return c?i.createElement(rt._V,(0,Ke.A)({x:e,y:t,width:n,height:l},o,d,{ref:s,image:c})):null}));ya.displayName="Image";const va=ya,ba=({position:e,src:t,isSelected:a,width:n,height:l,rotation:r,hasStickerSelected:o,disabled:s,onSelect:c,onDeselect:d,onDragEnd:m,onTransformEnd:p})=>{const u=(0,i.useRef)(null),g=(0,i.useRef)(null);return i.useEffect((()=>{var e;a&&null!=g&&g.current&&null!=u&&u.current&&(g.current.nodes([u.current]),null===(e=g.current.getLayer())||void 0===e||e.batchDraw())}),[a]),i.createElement(rt.YJ,null,a&&!s&&i.createElement(rt.rw,{x:0,y:0,width:1,height:1,opacity:.7,fill:"#000000",onClick:d}),i.createElement(va,{x:e.x,y:e.y,rotation:r,src:t,onClick:c,ref:u,width:n,height:l,draggable:a||!o,listening:!s,onDragStart:()=>{o||c()},onDragEnd:e=>{m(e.target.x(),e.target.y())},onTransformEnd:()=>{const e=u.current;if(!e)return;const t=e.scaleX(),a=e.scaleY();e.scaleX(1),e.scaleY(1),p(e.x(),e.y(),e.width()*t,e.height()*a,e.rotation())}}),a&&!s&&i.createElement(rt.Ge,(0,Ke.A)({},U,{ref:g,borderStroke:(0,L.A)(U.borderStroke),anchorFill:(0,L.A)("--tempo-colors-background-accent-onDark-default"),boundBoxFunc:(e,t)=>Math.abs(t.width)<32||Math.abs(t.height)<32?e:t})))},Ea=({isEditable:e=!1})=>{const{stickers:t,stickerSelected:a,selectSticker:l,deselectSticker:r,updateStickerPosition:o,updateStickerShape:s}=W();return i.createElement(i.Fragment,null,t.map((t=>i.createElement(ba,{key:t.id,src:n[t.name],width:t.width,height:t.height,position:t.position,rotation:t.rotation,disabled:!e,isSelected:a===t.id,hasStickerSelected:null!==a,onSelect:()=>l(t.id),onDeselect:r,onDragEnd:(e,a)=>{o(t.id,{x:e,y:a})},onTransformEnd:(e,a,n,l,i)=>{const r={x:e,y:a};s(t.id,r,n,l,i)}}))))};var xa=a("y7xR"),ka=a("aIaO"),_a=a("0mGY"),Ca=a("IRKz");const wa=({selected:e,children:t,...a})=>i.createElement(Ca.B.button,(0,Ke.A)({type:"button",boxSize:"size.2xl",padding:e?"spacing.xs":void 0,borderRadius:"2xs",overflow:"hidden",outline:"2px solid transparent",outlineOffset:"-2px",outlineColor:e?"border.accent.primary.default":void 0,transition:"outline-color 0.2s ease-in, padding 0.2s ease-in",_hover:{padding:"spacing.xs",outlineColor:"border.accent.primary.default"},pointerEvents:a.disabled?"none":void 0},a),t);var Sa;const Pa=e=>({[D.Mask1]:`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 1200"><path fill="${e}" fill-rule="evenodd" d="M0 1200h1200V0H0v1200Zm89.77-78.34c340.737 33.49 681.496 33.49 1022.23 0 4.85-.49 9.17-4.81 9.65-9.66 33.5-340.733 33.5-681.492 0-1022.23-.48-4.847-4.8-9.168-9.65-9.651-340.734-33.497-681.493-33.497-1022.23 0-4.848.483-9.17 4.804-9.652 9.652-33.496 340.737-33.496 681.496 0 1022.229.483 4.85 4.804 9.17 9.652 9.66Z" clip-rule="evenodd"/></svg>`,[D.Mask2]:`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 1200"><path fill="${e}" fill-rule="evenodd" d="M0 1200h1200V0H0v1200Zm1030.04-913.314c61.36-23.816 97.44-52.941 97.44-84.393 0-80.506-236.412-145.769-528.042-145.769-291.629 0-528.041 65.263-528.041 145.769 0 31.452 36.082 60.577 97.443 84.393-61.361 22.358-97.443 49.7-97.443 79.226 0 32.055 42.527 61.535 113.758 84.859-71.231 22.056-113.758 49.934-113.758 80.247 0 32.278 48.222 61.796 127.974 84.463-79.752 20.844-127.974 47.987-127.974 77.668 0 33.409 61.096 63.603 159.485 85.216-98.389 20.262-159.485 48.569-159.485 79.89 0 32.702 66.602 62.117 172.712 82.522-106.11 19.317-172.712 47.164-172.712 78.123 0 58.32 236.412 105.61 528.041 105.61 291.63 0 528.042-47.29 528.042-105.61 0-30.959-66.6-58.806-172.713-78.123 106.113-20.405 172.713-49.82 172.713-82.522 0-31.321-61.1-59.628-159.485-79.89 98.385-21.613 159.485-51.807 159.485-85.216 0-29.681-48.22-56.824-127.975-77.668 79.755-22.667 127.975-52.185 127.975-84.463 0-30.313-42.53-58.191-113.76-80.247 71.23-23.324 113.76-52.804 113.76-84.859 0-29.526-36.08-56.868-97.44-79.226Z" clip-rule="evenodd"/></svg>`,[D.Mask3]:`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 1200"><path fill="${e}" fill-rule="evenodd" d="M0 1200h1200V0H0v1200Zm179.213-633.46c-52.139 32.956-94.415 44.43-115.053 26.774-42.522-36.38 22.918-182.651 146.164-326.705C333.571 122.555 467.953 35.268 510.475 71.648c20.637 17.657 15.844 61.199-8.647 117.81C616.054 88.821 712.662 37.803 747.707 67.786c29.145 24.934 9.533 100.602-44.915 199.238C859.128 125.265 991.016 51.054 1036.42 89.897c45.4 38.844-7.51 180.625-123.364 357.014 89.024-69.055 160.744-100.139 189.884-75.205 35.05 29.984-.41 133.326-82.16 261.751 52.14-32.958 94.42-44.432 115.06-26.775 42.52 36.38-22.92 182.65-146.167 326.704S732.044 1164.73 689.522 1128.35c-20.638-17.66-15.844-61.2 8.649-117.82-114.226 100.64-210.836 151.66-245.881 121.68-29.144-24.94-9.533-100.6 44.912-199.236C340.865 1074.73 208.977 1148.94 163.576 1110.1c-45.402-38.84 7.507-180.627 123.366-357.019-89.021 69.055-160.742 100.14-189.886 75.205-35.045-29.983.409-133.323 82.157-261.746Z" clip-rule="evenodd"/></svg>`,[D.Mask4]:`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 1200"><path fill="${e}" fill-rule="evenodd" d="M0 1200h1200V0H0v1200ZM148.246 167.715c0-59.95 204.195-108.55 456.082-108.55 251.888 0 456.082 48.6 456.082 108.55 0 28.246-45.33 53.972-119.616 73.282 131.466 32.769 216.196 84.282 216.196 142.215v.048c0 57.965-84.83 109.503-216.415 142.269 74.415 19.317 119.835 45.066 119.835 73.339 0 28.258-45.37 53.994-119.71 73.307 131.52 32.767 216.29 84.292 216.29 142.238 0 57.936-84.74 109.452-216.221 142.22 74.301 19.312 119.641 45.037 119.641 73.287 0 59.95-204.194 108.55-456.082 108.55-251.887 0-456.082-48.6-456.082-108.55 0-28.25 45.336-53.974 119.635-73.285C136.398 923.867 51.65 872.35 51.65 814.413c0-57.947 84.778-109.472 216.3-142.24-74.34-19.313-119.704-45.048-119.704-73.305 0-28.272 45.415-54.02 119.829-73.337C136.482 492.765 51.65 441.226 51.65 383.26V383.212c0-57.934 84.737-109.448 216.206-142.216-74.284-19.311-119.61-45.036-119.61-73.281Z" clip-rule="evenodd"/></svg>`,[D.Mask5]:`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 1200"><path fill="${e}" fill-rule="evenodd" d="M0 1200h1200V0H0v1200ZM593.391 65.447c-52.873 0-101.821 36.862-141.792 99.508-22.748-35.152-48.594-55.017-76.001-55.017-39.754 0-76.226 41.796-104.719 111.42-11.62-15.924-24.173-24.616-37.27-24.616-59.758 0-108.202 180.96-108.202 404.185s48.444 404.183 108.202 404.183c13.097 0 25.65-8.689 37.269-24.613 28.494 69.623 64.966 111.423 104.72 111.423 27.407 0 53.255-19.87 76.003-55.02 39.971 62.64 88.918 99.5 141.79 99.5 52.569 0 101.257-36.44 141.1-98.43 22.579 34.49 48.177 53.95 75.303 53.95 41.629 0 79.658-45.83 108.697-121.454 13.415 22.271 28.269 34.644 43.897 34.644 59.762 0 108.202-180.957 108.202-404.183 0-223.225-48.44-404.185-108.202-404.185-15.628 0-30.482 12.376-43.898 34.647-29.038-75.621-67.067-121.451-108.696-121.451-27.125 0-52.723 19.46-75.3 53.941-39.844-61.992-88.533-98.432-141.103-98.432Zm527.319 243.055c-19.61 0-35.51 130.923-35.51 292.424 0 161.501 15.9 292.424 35.51 292.424s35.51-130.923 35.51-292.424c0-161.501-15.9-292.424-35.51-292.424ZM41.026 600.931c0-161.501 15.9-292.424 35.514-292.424 19.614 0 35.514 130.923 35.514 292.424 0 161.502-15.9 292.424-35.514 292.424-19.614 0-35.514-130.922-35.514-292.424Z" clip-rule="evenodd"/></svg>`}),Aa=()=>{const{color:e,image:t,mask:a,setMask:n}=W(),l=!t,r=e[0];return i.createElement(ce.s,{direction:"column",gap:"spacing.m",mt:"spacing.xl","data-testid":"masks_selection_submenu_section"},i.createElement(xa.D,{variant:"heading.s",color:"text.neutral.primary.default","data-testid":"masks_selection_submenu_section_title"},(0,pe.AP)("playlistcover_title_masks_web")),i.createElement(ka.x,{templateColumns:"repeat(3, 1fr)",gap:"spacing.l",opacity:l?.3:1},i.createElement(wa,{selected:!a,onClick:()=>n(null),disabled:l},Sa||(Sa=i.createElement(ce.s,{align:"center",justify:"center",bgColor:"background.neutral.tertiary.default",height:"100%"},i.createElement(_a.o,null)))),Object.entries(Pa(r)).map((([e,t])=>i.createElement(wa,{key:e,onClick:()=>n(e),selected:e===a,disabled:l,dangerouslySetInnerHTML:{__html:t},"data-testid":"mask"})))))},Ia=({image:e})=>{const{color:t,mask:a}=W(),n=fa(e),l=Pa(t[0]);if(!a)return null;if(!n)return i.createElement(va,{x:0,y:0,src:"data:image/svg+xml;utf8,"+encodeURIComponent(l[a]),width:1,height:1,fill:(0,L.A)("tempo-colors-background-neutral-tertiary-default")});const r=Math.max(1/n.width,1/n.height),o=(1-n.width*r)/2,s=(1-n.height*r)/2;return i.createElement(va,{x:0,y:0,src:"data:image/svg+xml;utf8,"+encodeURIComponent(l[a]),width:1,height:1,fillPatternImage:n,fillPatternScaleX:r,fillPatternScaleY:r,fillPatternX:o,fillPatternY:s})},Ta=i.forwardRef((({title:e,isEditable:t},a)=>{const{color:n,background:l,image:r,pattern:o,mask:s,stickerSelected:c,deselectAllElements:d}=W(),p=i.useRef(null),[u,g]=i.useState({width:0,height:0}),[h]=n;return i.useLayoutEffect((()=>{st().pixelRatio=3*window.devicePixelRatio}),[]),i.useEffect((()=>{const e=document.querySelector("#playlist_assistant_modal"),a=e=>{const t=e.target;"CANVAS"===t.tagName||t.closest("#btn-remove-sticker")||d()};return t&&(null==e||e.addEventListener("mousedown",a)),()=>{t&&(null==e||e.removeEventListener("mousedown",a))}}),[t]),i.useEffect((()=>{if(!p.current)return;const e=new ResizeObserver((e=>{e[0].target&&g({width:e[0].target.offsetWidth,height:e[0].target.offsetHeight})}));return e.observe(p.current),()=>e.disconnect()}),[]),i.createElement(m.a,{overflow:"hidden",borderRadius:"xs",width:"100%",height:"100%",ref:p},i.createElement(rt.BI,{width:u.width,height:u.height,scale:{x:u.width,y:u.height},ref:a},i.createElement(rt.Wd,null,(l===A.COLOR||!r)&&i.createElement(rt.rw,{x:0,y:0,width:1,height:1,fill:h}),l===A.CUSTOM_PICTURE&&!s&&r&&i.createElement(va,{x:0,y:0,width:1,height:1,src:r,fitCover:!0}),l===A.CUSTOM_PICTURE&&s&&i.createElement(Ia,{image:r}),l===A.PATTERN&&o&&i.createElement(va,{x:0,y:0,width:1,height:1,src:"data:image/svg+xml;utf8,"+encodeURIComponent(yt(V[n[0]]||V.default,o))}),i.createElement(Ea,{isEditable:t}),i.createElement(xt,{title:e,disabled:!t||null!==c}))))}));Ta.displayName="TemplateCanvas";const Ma=Ta;var Oa=a("siwx");const Da=a.p+"images/components/modals/playlist_assistant/mosaic.f908989931add75c2177.png";function Ra({variant:e="preview"}){var t;const{playlistId:a}=re(),{data:n}=(0,c.EG)({variables:{playlistId:a},skip:!a}),l=null==n||null===(t=n.playlist)||void 0===t?void 0:t.defaultPicture,r=l?{src:"edit"===e?l.medium[0]:l.small[0],h:"edit"===e?"120px":"60px",w:"edit"===e?"120px":"60px",borderRadius:"xs"}:{src:Da,h:"auto",w:"90%",maxW:"180px"};return i.createElement(ce.s,{alignItems:"center",backgroundColor:"background.neutral.tertiary.default",borderRadius:"xs",flexDirection:"column",gap:"spacing.l",height:"100%",justifyContent:"center",overflow:"hidden",p:"edit"===e?"spacing.l":"spacing.xs",width:"100%"},i.createElement(Oa._,(0,Ke.A)({alt:"mosaic of the playlist"},r)),i.createElement(h.E,{variant:"edit"===e?"body.l.default":"body.2xs.default",color:"text.neutral.secondary.default",textAlign:"center"},(0,pe.AP)("playlistcovertooltip_text_albummosaicdescription_web")))}var La,Fa=a("kqs6");const Ha=({children:e,onChange:t,...a})=>{const n=(0,i.useRef)(null);return i.createElement(m.a,(0,Ke.A)({position:"relative",width:"100%",height:"100%"},a),i.createElement(me.K0,{variant:"onLight",size:"small",position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)",_hover:{transform:"translate(-50%, -50%) scale(1.2)"},icon:La||(La=i.createElement(Fa.x,null)),zIndex:1,onClick:e=>{var t;e.stopPropagation(),null===(t=n.current)||void 0===t||t.click()},"aria-label":(0,pe.AP)("playlistcover_action_uploadimage_web"),"data-testid":"photo_button"}),e,i.createElement(fe.p,{type:"file",accept:"image/jpeg,image/png",ref:n,display:"none",onChange:t}))};var Na;const za=(0,i.forwardRef)((function({config:e,isSelected:t=!0,title:a},n){let l;switch(e.background){case A.MOSAIC:l=Na||(Na=i.createElement(Ra,null));break;case A.CUSTOM_PICTURE:case A.COLOR:default:l=i.createElement(Ta,{title:a,ref:t?n:void 0})}return i.createElement(q,{config:e},e.canPickImage?i.createElement($.Consumer,null,(({setImage:e,setBackground:t})=>i.createElement(Ha,{onChange:a=>((e,t)=>{const a=e.target.files;if(a){const e=new FileReader;e.onload=()=>{"string"==typeof e.result&&t(e.result)},e.readAsDataURL(a[0])}})(a,(a=>{e(a),t(A.CUSTOM_PICTURE)}))},l))):l)})),Ba=i.forwardRef((({title:e},t)=>{const{itemSelected:a}=Ue(),{setIsEditing:n,lastTemplateSelected:l,templates:r}=re(),{track:o}=Ye();return i.createElement(tt,{defaultItemToFocus:l||void 0,mt:"spacing.xl"},r.map((l=>i.createElement(je,{key:l.id,id:l.id},i.createElement(at,{"data-testid":"mosaic"===l.background?"mosaic_cover":"playlist_cover",id:l.id},i.createElement(za,{title:e,config:l,isSelected:a===l.id,ref:t})),a===l.id&&i.createElement(it,{onClick:()=>{o({action:"customization_clicked"}),n(!0)},"data-testid":"cover_button"})))))}));Ba.displayName="CoverCarousel";const Ya=Ba;var Ga,Ua=a("Qx5r"),Za=a("RQNg"),Va=a("Ti9p"),ja=a("9vg6"),Wa=a("zgkh"),$a=a("yJYf"),Xa=a("eQp7"),qa=a("KoOM"),Ka=a("xLNB");const Ja=({color:e})=>i.createElement(ce.s,{position:"relative"},Ga||(Ga=i.createElement(m.a,{as:qa.G,size:"medium",color:"icon.neutral.primary.default"})),i.createElement(m.a,{as:Ka.Z,size:"medium",color:e,position:"absolute",top:0,left:0})),Qa=({children:e,...t})=>i.createElement(me.K0,(0,Ke.A)({"aria-label":"tool-icon",bgColor:"background.neutral.secondary.default",boxSize:"size.xl",variant:"ghost"},t),e);Qa.displayName="ToolIcon";const en=({children:e,...t})=>i.createElement(h.E,(0,Ke.A)({variant:"body.default.2xs",color:"text.neutral.primary.default"},t),e);en.displayName="ToolLabel";const tn=i.forwardRef((({children:e,...t},a)=>i.createElement(ce.s,(0,Ke.A)({direction:"column",alignItems:"center",gap:"spacing.s",ref:a},t),e)));tn.displayName="Tool",tn.Icon=Qa,tn.Label=en;const an=tn,nn=()=>{const{setColor:e,color:t,background:a}=W(),{track:n}=Ye(),l=i.useRef((0,Fe.A)((()=>{n({action:"color_validated"})}),400));return a===A.MOSAIC?i.createElement(an,null,i.createElement(an.Icon,{isDisabled:!0},i.createElement(Ja,{color:t[0]})),i.createElement(an.Label,{color:"text.neutral.primary.disabled"},(0,pe.AP)("playlistcover_title_color_web"))):i.createElement(Za.A,{placement:"left-start",onOpen:()=>{n({action:"color_clicked"})}},i.createElement(Va.W,null,i.createElement(an,{"data-testid":"customise_menu_color_button"},i.createElement(an.Icon,null,i.createElement(Ja,{color:t[0]})),i.createElement(an.Label,null,(0,pe.AP)("playlistcover_title_color_web")))),i.createElement(ja.h,{maxWidth:"fit-content",mr:"spacing.2xl"},i.createElement(Wa.D,null,i.createElement(xa.D,{variant:"heading.s",color:"text.neutral.primary.default","data-testid":"customise_color_title"},(0,pe.AP)("playlistcover_title_color_web"))),i.createElement($a.e,null,i.createElement(ce.s,{direction:"column-reverse"},i.createElement(Xa.I,null,i.createElement(Xa.c,{color:P.H_[P.DP.black][0],onClick:()=>e(P.H_[P.DP.black]),selected:P.H_[P.DP.black][0]===t[0]}),i.createElement(Xa.c,{color:P.H_[P.DP.white][0],onClick:()=>e(P.H_[P.DP.white]),selected:P.H_[P.DP.white][0]===t[0]})),Object.entries(P.H_).filter((([e])=>Y.includes(e)&&e!==P.DP.black&&e!==P.DP.white)).map((([a,n])=>i.createElement(Xa.I,{key:a},Object.entries(n).map((([a,n])=>i.createElement(Xa.c,{key:a,color:n[0],onClick:()=>{e(n),l.current()},selected:n[0]===t[0]}))))))))))};var ln=a("DSFw"),rn=a("Iiij"),on=a("eqRk"),sn=a("LJlm");const cn=(e,t)=>{(0,i.useEffect)((()=>{const a=a=>{e.current&&!e.current.contains(a.target)&&t(a)};return document.addEventListener("mousedown",a),document.addEventListener("touchstart",a),()=>{document.removeEventListener("mousedown",a),document.removeEventListener("touchstart",a)}}),[e,t])};var dn=a("9OcB");const mn=({acceptFiles:e,children:t,onChange:a,onDragOver:n,onDragLeave:l,...r})=>{const o=(0,i.useRef)(null),[s,c]=(0,i.useState)(!1),d=t=>{a&&1===t.length&&e.includes(t[0].type)&&(null==a||a(t[0]))};return i.createElement(ce.s,(0,Ke.A)({position:"relative",direction:"column",align:"center",border:"1px dashed",borderColor:`border.${s?"accent":"neutral"}.primary.default`,borderRadius:"s",gap:"spacing.s",p:"spacing.l",backgroundColor:"background.neutral.primary.default",onDragOver:e=>{e.preventDefault(),e.dataTransfer.dropEffect="copy",null==n||n(e),c(!0)},onDragLeave:e=>{null==l||l(e),c(!1)},onDrop:e=>{e.preventDefault();const t=e.dataTransfer.files;d(t),c(!1)}},r),t((()=>{o.current&&o.current.click()})),i.createElement(m.a,{as:"input",type:"file",accept:e,ref:o,display:"none",onChange:e=>{const t=e.target.files;t&&d(t)}}))};var pn,un,gn,hn;const fn=({isOpen:e,onClose:t})=>{var a;const{image:n,setImage:l,setBackground:r}=W(),o=i.useRef(null);return cn(o,t),i.createElement(Za.A,{isLazy:!0,placement:"left-start",isOpen:e},pn||(pn=i.createElement(Va.W,null,i.createElement(m.a,{w:0,h:0,visibility:"hidden","aria-hidden":!0}))),i.createElement(ja.h,{maxWidth:"fit-content",mr:"spacing.2xl",ref:o,"data-testid":"image_selection_submenu"},i.createElement(Wa.D,null,i.createElement(xa.D,{variant:"heading.s",color:"text.neutral.primary.default","data-testid":"image_selection_submenu_title"},(0,pe.AP)("playlistcover_title_image_web"))),i.createElement($a.e,null,i.createElement(mn,{acceptFiles:"image/jpeg,image/png",onChange:e=>{r(A.CUSTOM_PICTURE);const t=new FileReader;t.onload=()=>{"string"==typeof t.result&&l(t.result)},t.readAsDataURL(e)}},(e=>n?i.createElement(ce.s,{gap:"spacing.l",align:"center",direction:"column"},a||(a=i.createElement(dn.A,{size:"size.2xl",src:n})),i.createElement(me.$n,{size:"small",variant:"outline",leftIcon:gn||(gn=i.createElement(Fa.x,null)),onClick:e,"data-testid":"replace_button"},(0,pe.AP)("playlistcover_title_changepicture_web"))):i.createElement(ce.s,{direction:"column",gap:"spacing.s",align:"center"},un||(un=i.createElement(Fa.x,{size:"medium"})),i.createElement(h.E,{variant:"body.s.default",id:"input_preview_text","data-testid":"image_selection_submenu_description_text"},(0,pe.AP)("playlistcover_action_dragimagehere_web")),i.createElement(h.E,{variant:"body.xs.default",color:"text.neutral.secondary.default"},(0,pe.AP)("generic_text_or_web")),i.createElement(me.$n,{size:"small",onClick:e,"data-testid":"select_file_button"},(0,pe.AP)("playlistcover_action_uploadimage_web"))))),hn||(hn=i.createElement(Aa,null)))))};var yn;const vn=({isOpen:e,onClose:t})=>{const{color:a,setPattern:n,pattern:l,setBackground:r}=W(),{track:o}=Ye(),s=i.useRef(null);cn(s,t);const c=i.useRef((0,Fe.A)((()=>{o({action:"pattern_validated"})}),400));return i.createElement(Za.A,{isLazy:!0,placement:"left-start",isOpen:e},yn||(yn=i.createElement(Va.W,null,i.createElement(m.a,{w:0,h:0,visibility:"hidden","aria-hidden":!0}))),i.createElement(ja.h,{maxWidth:"fit-content",mr:"spacing.2xl",ref:s},i.createElement(Wa.D,null,i.createElement(xa.D,{variant:"heading.s",color:"text.neutral.primary.default","data-testid":"pattern_selection_submenu_title"},(0,pe.AP)("playlistcover_title_pattern_web"))),i.createElement($a.e,{p:0},i.createElement(ka.x,{gap:"spacing.xl",templateColumns:"repeat(3, 1fr)",p:"spacing.xl"},Object.values(O).map((e=>{const t=yt(V[a[0]]||V.default,e);return i.createElement(wa,{key:e,onClick:()=>{n(e),c.current(),r(A.PATTERN)},selected:l===e,"data-testid":"pattern"},i.createElement(m.a,{backgroundColor:a[0],dangerouslySetInnerHTML:{__html:t}}))}))))))};var bn,En,xn,kn,_n;const Cn=()=>{const{setBackground:e,background:t,image:a,pattern:n}=W(),[l,r]=i.useState(!1),[o,s]=i.useState(!1),{track:c}=Ye();return i.createElement(ce.s,{direction:"row"},i.createElement(fn,{isOpen:l,onClose:()=>r(!1)}),i.createElement(vn,{isOpen:o,onClose:()=>s(!1)}),i.createElement(Za.A,{placement:"left-start",onOpen:()=>{r(!1),s(!1)}},i.createElement(Va.W,null,i.createElement(an,{"data-testid":"customise_menu_background_button"},bn||(bn=i.createElement(an.Icon,null,i.createElement(ln.I,{size:"medium"}))),i.createElement(an.Label,null,(0,pe.AP)("playlistcover_title_background_web")))),i.createElement(ja.h,{maxWidth:"fit-content",mr:"spacing.2xl","data-testid":"customise_background_submenu"},i.createElement(Wa.D,null,i.createElement(xa.D,{variant:"heading.s",color:"text.neutral.primary.default","data-testid":"background_submenu_title"},(0,pe.AP)("playlistcover_title_background_web"))),i.createElement($a.e,null,i.createElement(ce.s,{direction:"row",gap:"spacing.l"},i.createElement(an,{onClick:()=>{t!==A.COLOR&&(c({action:"plain_clicked"}),e(A.COLOR))}},i.createElement(an.Icon,{isActive:t===A.COLOR,"data-testid":"customise_background_plain_button"},En||(En=i.createElement(rn.d,{size:"medium"}))),i.createElement(an.Label,null,(0,pe.AP)("playlistcover_title_plain_web"))),i.createElement(an,{onClick:()=>{c({action:"personal_image_clicked"}),r(!0),a&&e(A.CUSTOM_PICTURE)}},i.createElement(an.Icon,{isActive:t===A.CUSTOM_PICTURE,"data-testid":"customise_background_image_button"},xn||(xn=i.createElement(Fa.x,{size:"medium"}))),i.createElement(an.Label,null,(0,pe.AP)("playlistcover_title_image_web"))),i.createElement(an,{onClick:()=>{c({action:"pattern_clicked"}),s(!0),n&&e(A.PATTERN)}},i.createElement(an.Icon,{isActive:t===A.PATTERN,"data-testid":"customise_background_pattern_button"},kn||(kn=i.createElement(on.K,{size:"medium"}))),i.createElement(an.Label,null,(0,pe.AP)("playlistcover_title_pattern_web"))),i.createElement(an,{onClick:()=>{t!==A.MOSAIC&&(c({action:"mosaic_clicked"}),e(A.MOSAIC))}},i.createElement(an.Icon,{isActive:t===A.MOSAIC,"data-testid":"customise_background_mosaic_button"},_n||(_n=i.createElement(sn.X,{size:"medium"}))),i.createElement(an.Label,null,(0,pe.AP)("playlistcover_title_mosaic_web"))))))))};var wn,Sn,Pn,An=a("j8Di");const In=()=>{const{addSticker:e,background:t}=W(),[a,l]=i.useState(!0),{track:r}=Ye(),o=i.useRef((0,Fe.A)((()=>{r({action:"sticker_validated"})}),400));return t===A.MOSAIC?i.createElement(an,null,wn||(wn=i.createElement(an.Icon,{isDisabled:!0},i.createElement(An.f,{size:"medium"}))),i.createElement(an.Label,{color:"text.neutral.primary.disabled"},(0,pe.AP)("playlistcover_title_stickers_web"))):i.createElement(Za.A,{isLazy:!0,placement:"left",onOpen:()=>{r({action:"sticker_clicked"})}},i.createElement(Va.W,null,i.createElement(an,{"data-testid":"customise_menu_stickers_button"},Sn||(Sn=i.createElement(an.Icon,null,i.createElement(An.f,{size:"medium"}))),i.createElement(an.Label,null,(0,pe.AP)("playlistcover_title_stickers_web")))),i.createElement(ja.h,{maxWidth:"fit-content",mr:"spacing.2xl","data-testid":"stickers_selection_page"},i.createElement(Wa.D,null,i.createElement(xa.D,{variant:"heading.s",color:"text.neutral.primary.default","data-testid":"stickers_selection_title"},(0,pe.AP)("playlistcover_title_stickers_web"))),i.createElement($a.e,{p:0,position:"relative"},i.createElement(ka.x,{gap:"spacing.xl",templateColumns:"repeat(3, 1fr)",maxHeight:380,p:"spacing.xl",overflowY:"scroll",onScroll:e=>{const t=e.target;t.offsetHeight+t.scrollTop>=t.scrollHeight?l(!1):l(!0)}},Object.values(M).map((t=>i.createElement(m.a,{key:t,as:"button",onClick:()=>{e(t),o.current()},"data-testid":"sticker"},i.createElement(Oa._,{loading:"lazy",src:n[t],alt:t,boxSize:"size.2xl"}))))),a&&(Pn||(Pn=i.createElement(m.a,{position:"absolute",pointerEvents:"none",bottom:0,left:0,width:"100%",height:"100px",bgGradient:"linear-gradient(0deg, background.neutral.primary.default 0%, rgba(0,0,0,0) 100%)"}))))))};var Tn=a("3okk"),Mn=a("OSxG"),On=a("5o3K"),Dn=a("B1FD"),Rn=a("xSkb"),Ln=a("CYwB"),Fn=a("ILUd"),Hn=a("nLzw");const Nn=({children:e})=>i.createElement(h.E,{variant:"body.default.2xs",color:"text.neutral.secondary.default"},e);Nn.displayName="ToolButtonLabel";const zn=({children:e,...t})=>i.createElement(Ca.B.button,(0,Ke.A)({bgColor:"background.neutral.tertiary.default",borderRadius:"xs",padding:"spacing.l",transition:"background-color 0.2s ease-in-out",_hover:{bgColor:"background.neutral.tertiary.hovered"},_active:{bgColor:"background.neutral.tertiary.pressed"}},t),i.createElement(ce.s,{width:"size.2xl",direction:"column",gap:"spacing.s",align:"center",mx:"auto"},e));zn.displayName="ToolButton",zn.Label=Nn;const Bn=zn;var Yn,Gn,Un,Zn,Vn,jn,Wn,$n;const Xn=()=>{const{toggleTextVisibility:e,toggleTextAlignment:t,toggleTextColor:a,resetText:n,text:l,background:r,color:o,selectText:s}=W(),{track:c}=Ye(),d=i.useRef((0,Fe.A)((()=>{c({action:"text_validated"})}),400));return r===A.MOSAIC?i.createElement(an,null,Zn||(Zn=i.createElement(an.Icon,{isDisabled:!0},i.createElement(Dn.N,{size:"medium"}))),i.createElement(an.Label,{color:"text.neutral.primary.disabled"},(0,pe.AP)("playlistcover_title_text_web"))):i.createElement(Za.A,{placement:"left",onOpen:()=>{s(),c({action:"text_clicked"})}},i.createElement(Va.W,null,i.createElement(an,{"data-testid":"customise_menu_text_button"},Vn||(Vn=i.createElement(an.Icon,null,i.createElement(Dn.N,{size:"medium"}))),i.createElement(an.Label,null,(0,pe.AP)("playlistcover_title_text_web")))),i.createElement(ja.h,{maxWidth:"fit-content",mr:"spacing.2xl","data-testid":"text_submenu"},i.createElement(Wa.D,null,i.createElement(xa.D,{variant:"heading.s",color:"text.neutral.primary.default","data-testid":"text_submenu_title"},(0,pe.AP)("playlistcover_title_text_web"))),i.createElement($a.e,null,i.createElement(ka.x,{templateColumns:"repeat(2, 1fr)",gap:"spacing.l",mb:"spacing.l"},i.createElement(Bn,{onClick:()=>{e(),d.current()},"data-testid":l.visible?"text_submenu_visible_button":"text_submenu_hidden_button"},l.visible?jn||(jn=i.createElement(Rn.X,{size:"medium"})):Wn||(Wn=i.createElement(Ln.v,{size:"medium"})),i.createElement(Bn.Label,null,l.visible?(0,pe.AP)("playlistcover_title_textvisible_web"):(0,pe.AP)("playlistcover_title_texthidden_web"))),i.createElement(Bn,{onClick:()=>{t(),d.current()},"data-testid":"left"===l.alignment?"text_submenu_alignment_left_button":"right"===l.alignment?"text_submenu_alignment_right_button":"text_submenu_alignment_center_button"},"left"===l.alignment?Yn||(Yn=i.createElement(Tn.r,{size:"medium"})):"right"===l.alignment?Gn||(Gn=i.createElement(Mn.w,{size:"medium"})):Un||(Un=i.createElement(On.J,{size:"medium"})),i.createElement(Bn.Label,null,"left"===l.alignment?(0,pe.AP)("playlistcover_title_textleft_web"):"right"===l.alignment?(0,pe.AP)("playlistcover_title_textright_web"):(0,pe.AP)("playlistcover_title_textcenter_web"))),i.createElement(Bn,{onClick:()=>{a(),d.current()},"data-testid":l.color===T.LIGHT?"text_submenu_color_white_button":"text_submenu_color_black_button"},i.createElement(Ja,{color:(0,L.A)(l.color===T.LIGHT?"tempo-colors-text-accent-onLight-default":"tempo-colors-text-accent-onDark-default")}),i.createElement(Bn.Label,null,l.color===T.LIGHT?(0,pe.AP)("playlistcover_title_textblack_web"):(0,pe.AP)("playlistcover_title_textwhite_web")))),i.createElement(ce.s,{direction:"column",align:"center"},i.createElement(me.$n,{variant:"outline",leftIcon:$n||($n=i.createElement(Fn.S,null)),size:"small",onClick:n,mb:"spacing.xs",width:"100%",disabled:(0,Hn.A)({...l,isSelected:!1},X(o[1]))},(0,pe.AP)("generic_action_reset_web")),i.createElement(h.E,{variant:"body.2xs.default",color:"text.neutral.secondary.default"},(0,pe.AP)("playlistcovertooltip_text_customtextformat_web"))))))};var qn;const Kn=()=>qn||(qn=i.createElement(ce.s,{direction:"column",borderLeft:"1px solid",borderLeftColor:"border.neutral.primary.default",p:"spacing.xl",gap:"spacing.l"},i.createElement(nn,null),i.createElement(Cn,null),i.createElement(Xn,null),i.createElement(In,null)));var Jn,Qn,el;function tl({title:e}){const{background:t}=W();return t===A.MOSAIC?Jn||(Jn=i.createElement(Ra,{variant:"edit"})):i.createElement(Ma,{title:e,isEditable:!0})}const al=({title:e})=>{var t;const{configSelected:a,isEditing:n,setIsEditing:l,saveConfig:r}=re(),{track:o}=Ye();return a&&n?i.createElement(K,{config:a},i.createElement($.Consumer,null,(({config:a,removeSticker:n,stickerSelected:s})=>i.createElement(i.Fragment,null,i.createElement(ce.s,{direction:"row",justify:"space-between",align:"stretch","data-testid":"customise_cover_page"},i.createElement(ce.s,{direction:"column",gap:"spacing.xl",align:"center",mx:"auto",py:"72px",position:"relative"},t||(t=i.createElement(m.a,{width:320,height:320,"data-testid":"cover_preview"},i.createElement(tl,{title:e}))),s&&i.createElement(me.$n,{onClick:n,size:"small",id:"btn-remove-sticker",variant:"onLight",position:"absolute",bottom:"spacing.xl",leftIcon:Qn||(Qn=i.createElement(Ua.u,null)),bg:"background.feedback.error.default",_hover:{bg:"background.feedback.error.hovered"},_active:{bg:"background.feedback.error.pressed"},"data-testid":"sticker_delete_button"},(0,pe.AP)("Supprimer"))),el||(el=i.createElement(Kn,null))),i.createElement(de.e,{display:"flex",justifyContent:"flex-end",p:"spacing.xl",borderTop:"1px solid",borderTopColor:"divider.neutral.primary.default"},i.createElement(me.$n,{variant:"ghost",onClick:()=>{o({action:"customization_cancelled"}),l(!1)},"data-testid":"cancel_button"},(0,pe.AP)("generic_action_cancel_web")),i.createElement(me.$n,{onClick:()=>{o({action:"customization_saved"}),r(a)},"data-testid":"save_button"},(0,pe.AP)("generic_action_save_web"))))))):null};var nl=a("QSbk"),ll=a("Vd8Q");const il=({type:e,playlistId:t,trackIds:a=[],onPlaylistCreation:n,data:l})=>{var o;const u=null==l?void 0:l.playlist,g=e===d.F.EDITION,f=e===d.F.CREATION,{configSelected:y,isEditing:v,selectConfig:b,setIsEditing:E}=re(),x=(0,r.wA)(),[k,_]=(0,i.useState)(!1),C=i.useRef(null),{track:w,trackCreation:S,trackEdition:P}=Ye(),[I]=(0,c.$IV)(),T=i.useRef((0,Fe.A)((()=>{S({action:"template_selected"})}),400)),M=e=>{D({variables:{input:{title:H.trim(),description:N||void 0,isPrivate:z,isCollaborative:B,picture:e||void 0}}})},O=(e,a)=>{if(t){if(a)return void R({variables:{input:{playlistId:t,picture:e||void 0}}});R({variables:{input:{playlistId:t,title:H.trim(),description:N||"",isPrivate:z,isCollaborative:B,picture:e||void 0}}})}},[D]=(0,c.DpH)({onCompleted:e=>{var t;const n=null===(t=e.createPlaylist)||void 0===t||null===(t=t.playlist)||void 0===t?void 0:t.id;if(n){if(!a||0===a.length)return S({action:"playlist_created",playlist_id:n}),void X(n);a.length>0&&I({variables:{input:{playlistId:n,trackIds:a}}}).then((()=>{X(n)}))}},onError:()=>{_(!1)}}),[R]=(0,c.U3y)({onCompleted:e=>{var t;const a=null===(t=e.updatePlaylist)||void 0===t||null===(t=t.playlist)||void 0===t?void 0:t.id;a&&(P({action:"playlist_edited"}),X(a))},onError:()=>{_(!1)}}),[L,F]=(0,i.useState)(!1),{fieldValues:{title:H,description:N,isPrivate:z,isCollab:B},onlyPictureChanged:Y,onToggleCollab:U,onChangeField:Z,onTogglePrivate:V}=function(e){const[t,a]=(0,i.useState)({title:(null==e?void 0:e.title)||"",description:(null==e?void 0:e.description)||null,isPrivate:(null==e?void 0:e.isPrivate)||!1,isCollab:(null==e?void 0:e.isCollaborative)||!1});return{fieldValues:t,onToggleCollab:(e,n)=>{e.stopPropagation(),a({...t,isCollab:!t.isCollab,isPrivate:!n&&t.isPrivate})},onTogglePrivate:(e,n)=>{e.stopPropagation(),a({...t,isPrivate:!t.isPrivate,isCollab:!n&&t.isCollab})},onChangeField:(e,n)=>{a({...t,[e]:n})},onlyPictureChanged:(null==e?void 0:e.title)===t.title&&(null==e?void 0:e.description)===t.description&&(null==e?void 0:e.isPrivate)===t.isPrivate&&(null==e?void 0:e.isCollaborative)===t.isCollab}}(u),j=()=>x((0,s.Oo)()),W=e=>{f?M(e):g&&O(e,Y)},$=()=>{f?M():g&&O()},X=t=>{e===d.F.CREATION?(ge.A.push((0,ue.jd)(`/playlist/${t}`)),(0,he.A)({body:(0,pe.AP)("toastmessage_title_playlistcreated_web")}),null==n||n()):e===d.F.EDITION&&(0,he.A)({body:(0,pe.AP)("toastmessage_title_playlistupdated_web")}),_(!1),j()},[q]=(0,c.DCO)();return v&&y?i.createElement(Be.OJ,{value:{page:"playlist_customization"}},i.createElement(al,{title:H})):i.createElement(ce.s,{direction:"column"},e===d.F.CREATION&&i.createElement(Ze,{onSelectionChanged:e=>{b(e),T.current()}},i.createElement(Ya,{title:H,ref:C})),e===d.F.EDITION&&i.createElement(ce.s,{position:"relative",alignItems:"center",h:"200px",justifyContent:"center",mt:"spacing.xl",mx:"auto",w:"200px"},y?i.createElement(za,{config:y,title:H,isSelected:!0,ref:C}):i.createElement(dn.A,{type:Ie.Ay.Playlist,src:null==u||null===(o=u.picture)||void 0===o?void 0:o.medium[0]}),i.createElement(Re.m,{label:i.createElement(Le._G,null,i.createElement(p.T,{textAlign:"center",spacing:"spacing.2xs"},i.createElement(h.E,{variant:"body.s.default"},(0,pe.AP)("playlistcovertooltip_title_customize_web")),i.createElement(h.E,{variant:"body.2xs.default"},(0,pe.AP)("playlistcovertooltip_text_customizedescription_web"))))},i.createElement(it,{bottom:"-16px",onClick:()=>{w({action:"customization_clicked"}),E(!0,null!=y?y:G)}}))),i.createElement(m.a,{p:"spacing.xl"},i.createElement(ce.s,{direction:"column",flex:1,gap:"spacing.l",mb:"spacing.l"},i.createElement(ye,{value:H,onChange:e=>{F(!1),Z("title",e.target.value)},hasError:L}),i.createElement(Ae,{isChecked:B,onToggle:U,disabled:z}),i.createElement(we,{isChecked:z,onToggle:V,disabled:B})),i.createElement(be,{value:N,onChange:e=>Z("description",e.target.value)})),i.createElement(de.e,{display:"flex",justifyContent:"flex-end",p:"spacing.xl",borderTop:"1px solid",borderTopColor:"divider.neutral.primary.default"},i.createElement(me.$n,{variant:"ghost",onClick:()=>{j(),f?S({action:"playlist_creation_cancelled"}):P({action:"playlist_edition_cancelled"})}},(0,pe.AP)("generic_action_cancel_web")),i.createElement(me.$n,{isDisabled:k,onClick:()=>{""!==H.trim()?(_(!0),!g||y?y&&y.background===A.MOSAIC&&t?q({variables:{input:{playlistId:t}},onCompleted:e=>{if("ResetDefaultPlaylistCoverMutationOutput"===e.resetDefaultPlaylistCover.__typename)return X(t);_(!1)}}):C.current&&C.current.toBlob({pixelRatio:8.333333333333334,mimeType:"image/jpeg",quality:1,callback:async e=>{e?(async(e,t,a,n,l)=>{const i=`https://${ll.default.get("host_upload")}/v2/playlist/picture`,r=new FormData;r.append("file",e);try{const e=await(0,nl.gf)(!0),t=await fetch(i,{method:"POST",headers:{Authorization:`Bearer ${e}`},body:r});if(t.ok){const e=await t.json();return Object.keys(e.error).length>0?void l(e.error):void n(e.results)}l()}catch(e){l()}})(new File([e],"template.jpg",{type:"image/jpeg"}),0,0,W,$):$()}}):O()):F(!0)},"data-testid":g?"playlist_save_button":"playlist_create_button"},g?(0,pe.AP)("Enregistrer"):(0,pe.AP)("Créer"))))};var rl;const ol=({title:e})=>{const{setIsEditing:t}=re(),{track:a}=Ye();return i.createElement(ce.s,{display:"inline-flex",direction:"row"},i.createElement(xa.D,{as:"button",type:"button",variant:"heading.m",onClick:()=>{t(!1),a({action:"customization_cancelled"})},color:"text.neutral.secondary.default",_hover:{color:"text.neutral.primary.default"},_focus:{color:"text.neutral.primary.default"},_active:{color:"text.neutral.primary.default"},"data-testid":"customise_cover_title"},e),rl||(rl=i.createElement(f.v,{color:"icon.neutral.secondary.default"})),i.createElement(xa.D,{as:"h3",color:"text.neutral.primary.default",variant:"heading.m"},(0,pe.AP)("playlistcover_title_customize_web")))},sl=({isCreation:e})=>{const{isEditing:t}=re(),a=e?(0,pe.AP)("generic_title_createplaylist_web"):(0,pe.AP)("generic_title_editplaylist_web"),{trackCreation:n,trackEdition:l}=Ye();return i.createElement(se.A.Header,{height:"auto",borderBottom:"1px solid",borderBottomColor:"divider.neutral.primary.default",p:"spacing.xl"},t?i.createElement(Be.OJ,{value:{page:"playlist_customization"}},i.createElement(ol,{title:a})):i.createElement(xa.D,{color:"text.neutral.primary.default",variant:"heading.m"},a),i.createElement(se.A.Close,{position:"static",width:"auto",height:"auto",onClick:()=>{e?n({action:"playlist_creation_cancelled"}):l({action:"playlist_edition_cancelled"})},"data-testid":"close_button"}))};var cl,dl=a("arV3");const ml=()=>cl||(cl=i.createElement(ce.s,{direction:"column",gap:"spacing.s"},i.createElement(dl.E,{height:"size.xs",width:"50px"}),i.createElement(dl.E,{height:"size.m",width:"100%"})));var pl;const ul=()=>pl||(pl=i.createElement(ce.s,{direction:"column",gap:"spacing.s"},i.createElement(dl.E,{height:"size.xs",width:"70px"}),i.createElement(dl.E,{height:"92px"})));var gl;const hl=()=>gl||(gl=i.createElement(ce.s,{direction:"row",width:"100%",justify:"space-between"},i.createElement(dl.E,{width:"size.m",height:"size.m",mr:"spacing.l",borderRadius:"full"}),i.createElement(ce.s,{direction:"row",align:"center",flex:1},i.createElement(ce.s,{direction:"column",flex:1},i.createElement(dl.E,{height:"size.s",width:"70px",mb:"spacing.m"}),i.createElement(dl.E,{height:"size.xs",width:"140px"})),i.createElement(dl.E,{width:"size.l",height:"size.s"}))));var fl;const yl=()=>fl||(fl=i.createElement(ce.s,{direction:"column"},i.createElement(ce.s,{direction:"row",mb:"spacing.l"},i.createElement(dl.E,{w:"200px",h:"200px",mr:"20px"}),i.createElement(ce.s,{direction:"column",flex:1,gap:"spacing.l"},i.createElement(ml,null),i.createElement(hl,null),i.createElement(hl,null))),i.createElement(ul,null),i.createElement(dl.E,{w:"100px",h:"size.xl",mt:"spacing.l",alignSelf:"flex-end"})));var vl;const bl=({playlistId:e,sngId:t,type:a,onPlaylistCreation:n})=>{var l,p;const[u,g]=i.useState(!1),h=(0,r.wA)(),f=a===d.F.CREATION,y=o.A.isAllowed("employee_feature")&&f&&!u&&!(null!=t&&t.length),{data:v}=(0,c.EG)({variables:{playlistId:e},skip:f||!e});return i.createElement(m.a,{role:"dialog","aria-labelledby":"modal_title",id:"playlist_assistant_modal",bgColor:"background.neutral.primary.default"},i.createElement(Be.OJ,{value:{page:f?"playlist_creation":"playlist_edition"}},i.createElement(oe,{playlistId:e,isCreation:f},i.createElement(sl,{isCreation:f}),i.createElement(se.A.Body,{className:"wrapper",padding:0},y?i.createElement(w,{onShowCreation:()=>{g(!0),h((0,s.Yo)({size:"large"}))}}):f||v?o.A.isAllowed("feature_2025_playlist_cover")?l||(l=i.createElement(il,{type:a,playlistId:e,trackIds:t,onPlaylistCreation:n,data:v})):p||(p=i.createElement(De,{type:a,playlistId:e,trackIds:t,onPlaylistCreation:n,data:v})):vl||(vl=i.createElement(yl,null))))))}}}]);