"use strict";(self.webpackJsonpDeezer=self.webpackJsonpDeezer||[]).push([[4187],{"1EyH":(e,t,n)=>{n.d(t,{BB:()=>a,Sx:()=>r,UC:()=>o});const r=e=>/[\u2000-\u2BFF]/.test(e),a=e=>/[\u{10000}-\u{10FFFF}]/u.test(e),o=e=>!!e.match(/^[_0-9a-z-+]+[_.0-9a-z-+]*@([0-9a-z-]+\.)+[a-z]{2,13}$/i)},CV49:(e,t,n)=>{n.d(t,{c:()=>c});var r=n("nKUr"),a=n("8EFB"),o=n("q1tI"),s=n("rMwH"),i=n("xi32"),l=n("IRKz");const c=(0,i.R)(((e,t)=>{const{className:n,...i}=e,{bodyId:c,setBodyMounted:u}=(0,s.k3)();(0,o.useEffect)((()=>(u(!0),()=>u(!1))),[u]);const d=(0,a.cx)("chakra-modal__body",n),_=(0,s.x5)();return(0,r.jsx)(l.B.div,{ref:t,className:d,id:c,...i,__css:_.body})}));c.displayName="ModalBody"},DLZI:(e,t,n)=>{n.d(t,{A:()=>l});var r=n("/0+J"),a=n("MVPB"),o=n("4OMY"),s=(0,o.A)("api"),i=(0,o.A)("env");class l{constructor(e,t){Object.defineProperty(this,s,{writable:!0,value:void 0}),Object.defineProperty(this,i,{writable:!0,value:void 0}),this.facebook=void 0,this.google=void 0,this.apple=void 0,(0,a.A)(this,s)[s]=e,(0,a.A)(this,i)[i]=t}init(e,t){var o=this;return(0,r.A)((function*(){const l=[];return(e=Array.isArray(e)?e:[e]).forEach((e=>{switch(e){case"facebook":const e=function(){var e=(0,r.A)((function*(){const{FacebookAuth:e}=yield n.e(3537).then(n.bind(n,"T53H"));o.facebook||(o.facebook=new e((0,a.A)(o,s)[s],null==t?void 0:t.facebook)),yield o.facebook.init({env:(0,a.A)(o,i)[i]})}));return function(){return e.apply(this,arguments)}}();l.push(e());break;case"google":const c=function(){var e=(0,r.A)((function*(){const{GoogleAuth:e}=yield n.e(5404).then(n.bind(n,"JtTf"));o.google||(o.google=new e((0,a.A)(o,s)[s],null==t?void 0:t.google)),yield o.google.init({})}));return function(){return e.apply(this,arguments)}}();l.push(c());break;case"apple":const u=function(){var e=(0,r.A)((function*(){const{AppleAuth:e}=yield n.e(9133).then(n.bind(n,"ALjf"));o.apple||(o.apple=new e((0,a.A)(o,s)[s],null==t?void 0:t.apple)),yield o.apple.init({})}));return function(){return e.apply(this,arguments)}}();l.push(u());break;default:return}})),Promise.allSettled(l)}))()}}},EYlq:(e,t,n)=>{n.d(t,{u:()=>a});var r=n("Wp0Y");const a=e=>{switch(e){case"invalid_msisdn":return(0,r.AP)("errormessage_text_invalidphonenumber_web");case"sms_login_limit":return(0,r.AP)("SMScoderesentconfirmationscreen_text_allattemptsused_web");case"internal_error":case"swap_limit":default:return(0,r.AP)("errormessage_text_anerroroccurredpleasetryagain_web");case"invalid_code":case"invalid_code_wrong":return(0,r.AP)("errormessage_text_invalidcode_web");case"code_too_short":return(0,r.AP)("errormessage_text_codeincomplete_web");case"code_too_long":return(0,r.AP)("errormessage_text_codetoomanydigits_web");case"phone_already_used":return(0,r.AP)("Ce numéro est déjà utilisé.")}}},FVVF:(e,t,n)=>{n.d(t,{T:()=>o});var r=n("nKUr"),a=n("eOc8");const o=(0,n("xi32").R)(((e,t)=>(0,r.jsx)(a.B,{align:"center",...e,direction:"column",ref:t})));o.displayName="VStack"},G3sm:(e,t,n)=>{n.d(t,{e:()=>s});var r=n("nKUr"),a=n("80JK");function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const s=(0,n("xi32").R)(((e,t)=>(0,r.jsx)(a.eK,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){o(e,t,n[t])}))}return e}({color:"text.neutral.secondary.default",ref:t},e))))},H9G8:(e,t,n)=>{n.d(t,{CZ:()=>u,Ee:()=>d,Hf:()=>i,In:()=>p,RQ:()=>_,SY:()=>l,U9:()=>g,aS:()=>m,jQ:()=>s,qb:()=>c,r_:()=>O,vM:()=>f});var r=n("Wp0Y"),a=n("5U+Y"),o=n("guCc");class s extends Error{constructor(e){super(e),this.name=o.U.FORM_ERROR}}class i extends s{constructor(){super((0,r.AP)("formerrormessage_text_emailaddressformatnotvalid_web")),this.name=o.U.EMAIL_NOT_VALID}}class l extends s{constructor(e){super((0,r.AP)("errormessage_text_domainnnamenotallowed_web",{sprintf:[e]})),this.name=o.U.EMAIL_DOMAIN_NOT_VALID}}class c extends s{constructor(){super((0,r.AP)("errormessage_title_accountalrdyassociatedwithemail_web")),this.name=o.U.EMAIL_ALREADY_USED}}class u extends s{constructor(){super((0,r.WI)("formerrormessage_text_passwordnotenoughchars_web","formerrormessage_text_passwordnotenoughchars_web",{sprintf:[a.wz],count:a.wz})),this.name=o.U.PASSWORD_TOO_SHORT}}class d extends s{constructor(){super((0,r.WI)("formerrormessage_text_passwordtoomanychars_web","formerrormessage_text_passwordtoomanychars_web",{sprintf:[a.K9],count:a.K9})),this.name=o.U.PASSWORD_TOO_LONG}}class _ extends s{constructor(){super((0,r.AP)("errormessage_text_passwordnbeginendwithspace_web")),this.name=o.U.PASSWORD_HAS_TRAILLING_WHITESPACE}}class g extends s{constructor(){super((0,r.WI)("formerrormessage_text_usernamenotenoughchars_web","formerrormessage_text_usernamenotenoughchars_web",{sprintf:[a.D6],count:a.D6})),this.name=o.U.BLOGNAME_TOO_SHORT}}class m extends s{constructor(){super((0,r.WI)("formerrormessage_text_usernametoomanychars_web","formerrormessage_text_usernametoomanychars_web",{sprintf:[a.d0],count:a.d0})),this.name=o.U.BLOGNAME_TOO_LONG}}class p extends s{constructor(){super((0,r.AP)("errormessage_text_usernamecannotcontainsemojis_web")),this.name=o.U.BLOGNAME_HAS_SPECIAL_CHARS}}class O extends s{constructor(e){super((0,r.WI)("agerestrictionerrormessage_text_mustbeXyearsentervaliddate_web","agerestrictionerrormessage_text_mustbeXyearsentervaliddate_web",{sprintf:[e],count:e})),this.name=o.U.MIN_LEGAL_AGE}}class f extends s{constructor(){super((0,r.AP)("errormessage_text_ageisinvalid_web")),this.name=o.U.AGE_INVALID}}},Jpjb:(e,t,n)=>{n.d(t,{A:()=>O}),n("/eM8");var r=n("WLHJ"),a=n("p1TQ"),o=n("PbG0");const s=e=>({method:r.K.GOOGLE,...e});var i=n("WrS5"),l=n("TqF5"),c=n("WKgy"),u=n("rVxF"),d=n("dgkV"),_=n("IZLt");const g=(0,a.e7)("google"),m=()=>{if(!g.google)throw new Error("LegacyAuth - Google not found, have you called init with google as a param?");return g.google},p=async()=>{try{const e=await m().unlinkAccount();(0,a.s5)(e)}catch(t){var e;const n=t;(0,a.kL)(n,s({intent:o.d6.Link})),new _.A({error:null!==(e=n.message)&&void 0!==e?e:n.name,journey_type:"unlink-google",gateway_method:"google.unlinkAccount",server_payload:n}).send()}},O={login:async(e,t)=>{try{const t=await m().signin(e);(0,a.oj)(t,{redirect:(0,a.Ae)(null==e?void 0:e.redirect),method:o.qR.Google})}catch(i){var n,r;if((0,u.O)(i))new d.A({error:null!==(n=i.message)&&void 0!==n?n:null===(r=i.payload)||void 0===r?void 0:r.status,journey_type:"google",error_message:i.message,gateway_method:"google.auth"}).send(),(0,a.kL)(new u.A(i),s({intent:o.d6.Login,redirect:null==e?void 0:e.redirect}));null==t||t(i)}},signup:async(e,t)=>{try{const t=await m().signin(e);(0,a.oj)(t,{redirect:(0,a.Ae)(null==e?void 0:e.redirect),method:o.qR.Google})}catch(i){var n,r;if((0,u.O)(i))new d.A({error:null!==(n=null===(r=i.payload)||void 0===r?void 0:r.status)&&void 0!==n?n:i.name,journey_type:"google",error_message:i.message,gateway_method:"google.auth"}).send(),(0,a.kL)(new u.A(i),s({intent:o.d6.Login,redirect:null==e?void 0:e.redirect}));null==t||t(i)}},linkAccount:async e=>{try{const t=await m().linkAccount(e);(0,a.V7)(t,null==e?void 0:e.profile_migration)}catch(i){var t,n,r;if((0,u.O)(i))(0,a.kL)(new u.A(i),s({intent:o.d6.Link})),new _.A({error:null!==(t=null!==(n=null===(r=i.payload)||void 0===r?void 0:r.status)&&void 0!==n?n:i.message)&&void 0!==t?t:i.name,journey_type:null!=e&&e.profile_migration?"family-convert-independent":"link-google",gateway_method:"google.linkAccount",server_payload:i}).send()}},unlinkAccount:()=>{c.A.dispatch((0,l.qf)({name:i.b.THIRD_PARTY_CONFIRM_UNLINK,size:"small",props:{method:r.K.GOOGLE,confirmCallback:p}}))}}},XkdG:(e,t,n)=>{n.d(t,{p:()=>g});var r=n("nKUr"),a=n("p1Zg"),o=n("XuBo"),s=n("OllG"),i=n("xi32"),l=n("JFGw"),c=n("IRKz");function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const g=(0,i.R)((function(e,t){const{htmlSize:n}=e,i=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,["htmlSize"]),g=(0,l.o)("Input",i),m=(0,a.M)(i),p=(0,s.t)(m),O=(0,o.cx)("chakra-input",e.className);return(0,r.jsx)(c.B.input,function(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){u(e,t,n[t])}))}return e}({size:n},p),{__css:g.field,ref:t,className:O}))}));g.displayName="Input",g.id="Input"},XuBo:(e,t,n)=>{n.d(t,{cx:()=>r});const r=(...e)=>e.filter(Boolean).join(" ")},bDF2:(e,t,n)=>{n.d(t,{bg:()=>o,R2:()=>i,Fj:()=>s});var r=n("+9dH");let a=function(e){return e.CLICK="click",e.PAGE="updatepage",e}({});function o(){var e,t,n;return(e=window).dataLayer||(e.dataLayer=[]),null!=(t=null==(n=window.dataLayer.findLast((e=>e.pagename)))?void 0:n.pagename)?t:null}function s(e){var t;Object.keys(e).length&&((t=window).dataLayer||(t.dataLayer=[]),window.dataLayer.push(e))}function i(e){if(void 0===(t=e).eventcategory||void 0===t.eventaction)throw new Error("The following fields are missing or undefined: eventcategory, eventaction");var t;s((0,r.A)({event:a.CLICK},e))}},guCc:(e,t,n)=>{n.d(t,{U:()=>r,m:()=>a});let r=function(e){return e.AGE_INVALID="FORM_ERROR_AGE_INVALID",e.BLOGNAME_HAS_SPECIAL_CHARS="FORM_ERROR_BLOGNAME_HAS_SPECIAL_CHARS",e.BLOGNAME_TOO_LONG="FORM_ERROR_BLOGNAME_TOO_LONG",e.BLOGNAME_TOO_SHORT="FORM_ERROR_BLOGNAME_TOO_SHORT",e.EMAIL_ALREADY_USED="FORM_ERROR_EMAIL_ALREADY_USED",e.EMAIL_DOMAIN_NOT_VALID="FORM_ERROR_EMAIL_DOMAIN_NOT_VALID",e.EMAIL_NOT_VALID="FORM_ERROR_EMAIL_NOT_VALID",e.FORM_ERROR="FORM_ERROR",e.MIN_LEGAL_AGE="FORM_ERROR_MIN_LEGAL_AGE",e.PASSWORD_HAS_TRAILLING_WHITESPACE="FORM_ERROR_PASSWORD_HAS_TRAILLING_WHITESPACE",e.PASSWORD_TOO_LONG="FORM_ERROR_PASSWORD_TOO_LONG",e.PASSWORD_TOO_SHORT="FORM_ERROR_PASSWORD_TOO_SHORT",e}({}),a=function(e){return e[e.TOO_WEAK=0]="TOO_WEAK",e[e.WEAK=1]="WEAK",e[e.MEDIUM=2]="MEDIUM",e[e.STRONG=3]="STRONG",e}({})},nHPd:(e,t,n)=>{n.d(t,{r:()=>u});var r=n("nKUr"),a=n("81AO"),o=n("8EFB"),s=n("q1tI"),i=n("rMwH"),l=n("xi32"),c=n("IRKz");const u=(0,l.R)(((e,t)=>{const{className:n,...l}=e,{headerId:u,setHeaderMounted:d}=(0,i.k3)();(0,s.useEffect)((()=>(d(!0),()=>d(!1))),[d]);const _=(0,o.cx)("chakra-modal__header",n),g=(0,i.x5)(),m=(0,a.H2)({flex:0,...g.header});return(0,r.jsx)(c.B.header,{ref:t,className:_,id:u,...l,__css:m})}));u.displayName="ModalHeader"},omZE:(e,t,n)=>{n.r(t),n.d(t,{default:()=>N});var r=n("q1tI"),a=n("Wp0Y"),o=n("TqF5"),s=n("exUT"),i=n("WKgy"),l=n("Jpjb"),c=n("Zlrv"),u=n("nHPd"),d=n("CV49"),_=n("FVVF"),g=n("pVdW"),m=n("HmE0"),p=n("PF77");const O=({onChange:e,defaultValue:t=!1})=>{const[n,o]=(0,r.useState)(t),s=(0,r.useCallback)((t=>{const n=t.currentTarget.checked;o(n),e({isValid:n,value:n})}),[e]);return r.createElement(p.S,{onChange:s,isChecked:n,"data-testid":"checkbox-missing-consent"},r.createElement("div",{dangerouslySetInnerHTML:{__html:(0,a.AP)("signupturkey_text_autorizedatasharingwithdzrinEU_web",{sprintf:['href="/legal/personal-datas" target="_blank" ']})}}))};var f=n("80JK"),A=n("8WIx"),h=n("XkdG"),w=n("jysG"),y=n("G3sm"),E=n("zerP"),b=n("H9G8");const v=({onChange:e,defaultValue:t=""})=>{const[n,o]=(0,r.useState)(t),[s,i]=(0,r.useState)(""),[l,c]=(0,r.useState)(""),u=(0,r.useCallback)((t=>{const n=t.currentTarget.value;o(n),i(""),c(""),(0,E.PJ)(n,!0,(t=>{i(""),t.suggestion&&c((0,a.AP)("Vous vouliez sans doute dire %s ?",{sprintf:[t.suggestion]})),e({value:n,isValid:!0})}),(t=>{if(!n)return i(""),void c("");t instanceof b.jQ&&(i(t.message),e({value:n,isValid:!1}),c(""))}))}),[e]);return r.createElement(r.Fragment,null,r.createElement(f.MJ,{isInvalid:s.length>0},r.createElement(A.l,null,(0,a.AP)("generic_title_email_web")),r.createElement(h.p,{onChange:u,type:"email",value:n,"data-testid":"input-missing-email"}),r.createElement(w.Wt,null,s),r.createElement(y.e,null,l)))};var R,L,S=n("SH0+"),I=n("iZAa");const x=e=>(new Date).getFullYear()-e+"-01-01",P=({onChange:e,defaultValue:t=""})=>{const[n,o]=(0,r.useState)(t),[s,i]=(0,r.useState)(""),l=(0,r.useCallback)((t=>{o(t),i("");try{(0,E.$O)(t),e({value:x(parseInt(t,10)),isValid:!0})}catch(n){i(n.message),e({value:x(parseInt(t,10)),isValid:!1})}}),[e]);return r.createElement(r.Fragment,null,r.createElement(f.MJ,{isInvalid:s.length>0},r.createElement(A.l,null,(0,a.AP)("Age")),r.createElement(S.Q7,{onChange:l,value:n,"data-testid":"input-missing-age"},R||(R=r.createElement(S.OO,null)),L||(L=r.createElement(S.lw,null,r.createElement(I.Q0,null),r.createElement(I.Sh,null)))),r.createElement(w.Wt,null,s)))};var M=n("WLHJ");const k=["email","consent_transfer_data","birthday"];var T;const N=({method:e,steps:t,redirect:n})=>{const[p,f]=(0,r.useState)({}),[A,h]=(0,r.useState)(),w=(e,t,n)=>{const{isValid:r,value:a}=n;var o,s;o={[e]:r},f({...p,...o}),s={[t]:a},h({...A,...s})};return r.createElement(r.Fragment,null,T||(T=r.createElement(c.s_,null)),r.createElement(u.r,null,(0,a.AP)("applesignin_text_completeprofiletofinalizereg_web")),r.createElement(d.c,null,r.createElement(_.T,{spacing:"spacing.l"},t.map((e=>{switch(e){case"consent_transfer_data":return r.createElement(O,{key:"consent_transfer_data",onChange:e=>w("consent_transfer_data","EXPLICIT_ALLOW_TRANSFER_DATA_TO_FRANCE",e)});case"email":return r.createElement(v,{key:"email",onChange:e=>w("email","email",e)});case"birthday":return r.createElement(P,{key:"birthday",onChange:e=>w("birthday","birthday",e)});default:return null}})),r.createElement(g.E,{variant:"body.m.disabled",dangerouslySetInnerHTML:{__html:(0,a.AP)("signup_text_byclickingsignupacceptTCsprivacypolicy_web",{sprintf:['href="/legal/cgu" target="_blank" ','href="/legal/personal-datas" target="_blank" ']})}}))),r.createElement(c.jl,null,r.createElement(m.$n,{"data-testid":"btn-missing-info-send",isDisabled:!(()=>{let e=!0;return t.forEach((t=>{(e=>k.includes(e))(t)&&(e=e&&Boolean(p[t]))})),e})(),onClick:()=>{e===M.K.FACEBOOK?s.A.signup({...A,redirect:n}):e===M.K.GOOGLE&&l.A.signup({...A,redirect:n}),i.A.dispatch((0,o.Oo)())}},(0,a.AP)("Inscription"))))}},pVdW:(e,t,n)=>{n.d(t,{E:()=>u});var r=n("nKUr"),a=n("p1Zg"),o=n("x81U"),s=n("8EFB"),i=n("xi32"),l=n("JFGw"),c=n("IRKz");const u=(0,i.R)((function(e,t){const n=(0,l.V)("Text",e),{className:i,align:u,decoration:d,casing:_,...g}=(0,a.M)(e),m=(0,o.o)({textAlign:e.align,textDecoration:e.decoration,textTransform:e.casing});return(0,r.jsx)(c.B.p,{ref:t,className:(0,s.cx)("chakra-text",e.className),...m,...g,__css:n})}));u.displayName="Text"},zerP:(e,t,n)=>{n.d(t,{$O:()=>p,A$:()=>u,BE:()=>g,Hx:()=>O,PJ:()=>d,iE:()=>m,sR:()=>_}),n("WpbS"),n("/eM8");var r=n("nrKQ"),a=n("1EyH"),o=n("kSUS"),s=n("guCc"),i=n("H9G8"),l=n("5U+Y"),c=n("EYlq");const u=async(e,t=!1)=>{if(e=e.trim(),!(0,a.UC)(e))throw new i.Hf;const n=await r.A.callAsync({method:"deezer.emailCheck",data:{EMAIL:e}});if(!n.domain_validity)throw new i.SY(n.domain);if(n.availability)return t&&n.suggestion?{success:!0,suggestion:n.suggestion}:{success:!0};throw new i.qb},d=(0,o.A)(((e,t,n,r)=>u(e,t).then(n).catch(r)),400),_=e=>{const t=[/.*[A-Z]+.*/,/.*[a-z]+.*/,/.*[0-9]+.*/,/.*[^A-Za-z0-9]+.*/];if([/.*[0-9]+.*/,/.*[a-zA-Z]+.*/,/^.{8,}$/].reduce(((t,n)=>t&&n.test(e)),!0)){const n=t.reduce(((t,n)=>t+(n.test(e)?1:0)),0);return n>3?s.m.STRONG:n>2?s.m.MEDIUM:n>1?s.m.WEAK:s.m.TOO_WEAK}return s.m.TOO_WEAK},g=e=>{if(e!==e.trim())throw new i.RQ;if(e.length>l.K9)throw new i.Ee;if(e.length<l.wz)throw new i.CZ;return!0},m=e=>{if((e=e.trim()).length<l.D6)throw new i.U9;if(e.length>l.d0)throw new i.aS;if((0,a.Sx)(e)||(0,a.BB)(e))throw new i.In;return!0},p=e=>{if("string"==typeof e){if(!/^\d+$/.test(e.toString()))throw new i.vM;e=parseInt(e,10)}if(e<l.fB)throw new i.r_(l.fB);if(e>l.D3)throw new i.vM;return!0},O=e=>{if(0===e.length)throw new i.jQ((0,c.u)("invalid_code"));if(e.length<6)throw new i.jQ((0,c.u)("code_too_short"));if(e.length>6)throw new i.jQ((0,c.u)("code_too_long"));return!0}}}]);