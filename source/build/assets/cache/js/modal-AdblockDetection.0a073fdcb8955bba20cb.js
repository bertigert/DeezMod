"use strict";(self.webpackJsonpDeezer=self.webpackJsonpDeezer||[]).push([[6892],{CV49:(e,t,a)=>{a.d(t,{c:()=>l});var r=a("nKUr"),n=a("8EFB"),s=a("q1tI"),o=a("rMwH"),d=a("xi32"),i=a("IRKz");const l=(0,d.R)(((e,t)=>{const{className:a,...d}=e,{bodyId:l,setBodyMounted:c}=(0,o.k3)();(0,s.useEffect)((()=>(c(!0),()=>c(!1))),[c]);const u=(0,n.cx)("chakra-modal__body",a),f=(0,o.x5)();return(0,r.jsx)(i.B.div,{ref:t,className:u,id:l,...d,__css:f.body})}));l.displayName="ModalBody"},Fzox:(e,t,a)=>{a.d(t,{G:()=>s,j:()=>n});var r=a("TRpf");const n=()=>(0,r.wA)(),s=r.d4},JsMx:(e,t,a)=>{a.d(t,{Ay:()=>v,Ov:()=>g,Y9:()=>f}),a("/eM8");var r=a("q1tI"),n=a("nrKQ"),s=a("lXQd"),o=a("7+7Q"),d=a("TRpf"),i=a("6yJ+"),l=a("vGT4"),c=a("Fzox");const u=(0,r.createContext)({adsConfigState:{},loadAdConfig:async()=>{},getAdsAudioFrequency:()=>({interval:2,start:0,refresh:30,sections:[]}),getProfileType:()=>"regular",getProfileReg:()=>"0",getProfileUs:()=>"0",getIsWhitelisted:()=>"0",getProfileOfferType:()=>"",getDzgroup:()=>[],hasDisplayAds:()=>!0,adsConfigReady:!1,isMidTierOffer:()=>!1}),f=()=>(0,r.useContext)(u),g=({children:e})=>{const[t,a]=(0,r.useState)({profile:{hasConsent:!0}}),[f,g]=(0,r.useState)(!1),{state:v}=(0,l.b)(),p=(0,c.G)((e=>e.user)),y=(0,d.wA)();let b=!1;(0,r.useEffect)((()=>{const e="GB"===p.COUNTRY?[1,2,3,4,5,6,7,8,9,10,11]:[1,2,3,4,7],t=null==v||!v.settings||v.settings.noIabVendors.includes(1),a=!(null==v||!v.settings)&&e.every((e=>{var t;const a=null===(t=v.settings)||void 0===t?void 0:t.purposes.find((t=>t.id===e));return!0===(null==a?void 0:a.value)}));m({profile:{hasConsent:t&&a}})}),[v]);const m=e=>{const r=(0,o.A)(t,e);a(r),y({type:i.J,data:r})},_=()=>(0,s.A)(t,"profile.name");return r.createElement(u.Provider,{value:{adsConfigState:t,loadAdConfig:async()=>{b||await(async()=>{b=!0;try{await n.A.call({method:"deezer.adConfig",success:e=>{m(e)}}),b=!1,g(!0)}catch(e){throw b=!1,e}})()},getProfileType:_,hasDisplayAds:()=>"starter"!==_(),getProfileReg:()=>{var e;return null===(e=(0,s.A)(t,"profile.reg"))||void 0===e?void 0:e.toString()},getDzgroup:()=>(0,s.A)(t,"targeting.smart.dzgroup"),getIsWhitelisted:()=>{var e;return null===(e=(0,s.A)(t,"targeting.smart.whitelisted_users"))||void 0===e?void 0:e.toString()},adsConfigReady:f,getProfileOfferType:()=>{var e;return null===(e=(0,s.A)(t,"profile.offer_type"))||void 0===e?void 0:e.toString()},isMidTierOffer:()=>(0,s.A)(t,"profile.offer_type")===i.u.DEEZER_NOW,getAdsAudioFrequency:()=>(0,s.A)(t,"config.audio")}},e)},v=u},TDRX:(e,t,a)=>{a.d(t,{a:()=>r});const r=(0,a("IRKz").B)("div");r.displayName="Box"},bDF2:(e,t,a)=>{a.d(t,{bg:()=>s,R2:()=>d,Fj:()=>o});var r=a("+9dH");let n=function(e){return e.CLICK="click",e.PAGE="updatepage",e}({});function s(){var e,t,a;return(e=window).dataLayer||(e.dataLayer=[]),null!=(t=null==(a=window.dataLayer.findLast((e=>e.pagename)))?void 0:a.pagename)?t:null}function o(e){var t;Object.keys(e).length&&((t=window).dataLayer||(t.dataLayer=[]),window.dataLayer.push(e))}function d(e){if(void 0===(t=e).eventcategory||void 0===t.eventaction)throw new Error("The following fields are missing or undefined: eventcategory, eventaction");var t;o((0,r.A)({event:n.CLICK},e))}},nHPd:(e,t,a)=>{a.d(t,{r:()=>c});var r=a("nKUr"),n=a("81AO"),s=a("8EFB"),o=a("q1tI"),d=a("rMwH"),i=a("xi32"),l=a("IRKz");const c=(0,i.R)(((e,t)=>{const{className:a,...i}=e,{headerId:c,setHeaderMounted:u}=(0,d.k3)();(0,o.useEffect)((()=>(u(!0),()=>u(!1))),[u]);const f=(0,s.cx)("chakra-modal__header",a),g=(0,d.x5)(),v=(0,n.H2)({flex:0,...g.header});return(0,r.jsx)(l.B.header,{ref:t,className:f,id:c,...i,__css:v})}));c.displayName="ModalHeader"},yyVE:(e,t,a)=>{a.r(t),a.d(t,{default:()=>p});var r,n=a("q1tI"),s=a("bDF2"),o=a("HmE0"),d=a("Zlrv"),i=a("TDRX"),l=a("CV49"),c=a("nHPd"),u=a("GkjM"),f=a("Wp0Y"),g=a("Vd8Q"),v=a("JsMx");const p=()=>{const[e,t]=(0,n.useState)(!1),{isMidTierOffer:a}=(0,v.Y9)();(0,n.useEffect)((()=>{(0,s.R2)({eventaction:"display",eventcategory:"adblocker-box"})}),[]);const p=`https://${g.default.get("host_website_ssl")}/offers?origin=adblockdetection_web_box`,y=(0,f.AP)("deezerplans_title_deezerpremium_web"),b=(0,f.AP)("adblockermessage_title_adblockerdetected_web"),m=(0,f.AP)("adblockermessage_text_pleasedisabletousedzr_web"),_=(0,f.AP)("adblockermessage_action_adblockerisdisabled_web"),w=(0,f.AP)("disableadsbanner_text_disableadsnowwithplanX_web",{sprintf:[y]}),A=a();return n.createElement(n.Fragment,null,r||(r=n.createElement(d.s_,null)),n.createElement(c.r,null,b),n.createElement(l.c,null,n.createElement(i.a,{textAlign:"center"},m)),n.createElement(d.jl,null,n.createElement(o.$n,{variant:A?void 0:"outline",disabled:e,onClick:()=>{(0,s.R2)({eventaction:"i-deactivated",eventcategory:"adblocker-box"}),location.reload()}},_),!A&&n.createElement(u.A,{to:p},n.createElement(o.$n,{isLoading:e,disabled:e,onClick:()=>{t(!0),(0,s.R2)({eventaction:"disable-ads-with-deezer-premium",eventcategory:"adblocker-box"})}},w))))}}}]);