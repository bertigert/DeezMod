"use strict";(self.webpackJsonpDeezer=self.webpackJsonpDeezer||[]).push([[681],{QWg8:(e,t,n)=>{n.r(t),n.d(t,{default:()=>Ge});var a=n("q1tI"),l=n("61mP"),r=n("MTsA"),i=(n("aRRr"),n("CdHq")),o=n("TDRX"),s=n("pVdW"),c=n("FVVF");function d({description:e,header:t,children:n}){return a.createElement(i.s,{mt:"spacing.l",flexDirection:"column",className:"container"},e&&a.createElement(o.a,{mb:"spacing.xl"},a.isValidElement(e)?e:a.createElement(s.E,{variant:"body.default.s"},e)),t,a.createElement(c.T,{spacing:"spacing.xl",mt:"spacing.l",w:"100%"},n))}var m=n("Wp0Y"),u=n("siwx"),E=n("55Ip"),A=n("6vqc");function g({src:e,text:t,href:n,count:l}){return a.createElement(i.s,{_hover:{bg:"background.neutral.secondary.hovered",cursor:"pointer"},alignItems:"center",as:E.N_,bg:"background.neutral.secondary.default",borderRadius:"s",gap:"spacing.s",p:"spacing.m",to:n,transitionDuration:"normal",transitionProperty:"common"},a.createElement(u._,{borderRadius:"full",src:e,height:"size.xl",width:"size.xl"}),a.createElement(s.E,{flexGrow:"1"},t),a.createElement(i.s,null,a.createElement(s.E,{color:"text.neutral.secondary.default",variant:"body.l.default"},l),a.createElement(A.v,{_rtl:{transform:"rotate(180deg)"},ms:"spacing.2xs",size:"small"})))}var p=n("iooo"),v=n("y7xR"),_=n("RSbz");const b="100px";function f({title:e,href:t}){return a.createElement(i.s,{alignItems:"center"},a.createElement(i.s,{_hover:{cursor:"pointer"},alignItems:"center",as:E.N_,to:t,width:b},a.createElement(_.Y,{_rtl:{transform:"rotate(180deg)"},size:"small"}),a.createElement(s.E,{ms:"spacing.s"},(0,m.AP)("Retour"))),a.createElement(v.D,{flexGrow:"1",maxW:`calc(100% - 2 * ${b})`,textAlign:"center",variant:"heading.xs"},e))}var h,y=n("0JBE"),I=n("mk5l"),x=n("5xmB"),L=n("Ty5D"),R=n("9OcB"),P=n("LxnH"),k=n("23Qi"),w=n("aEwM"),C=n("GkjM"),M=n("5G9X"),S=n("3ns7"),T=n("0sL9"),B=n("o6LG"),D=n("lhvF"),F=n("/eXD"),N=n("L20E"),z=n("0O3b");function O({data:e,onLoadMore:t,filter:n}){var l,r;const{push:i}=(0,L.W6)(),s=(0,z.A)(null==e||null===(l=e.me)||void 0===l||null===(l=l.customizeRecommendations.artists)||void 0===l?void 0:l.edges).filter((e=>e&&!1===e.isBannedFromRecommendation));return a.createElement(o.a,{w:"100%"},a.createElement(w.A,{hasMore:Boolean(null==e||null===(r=e.me)||void 0===r||null===(r=r.customizeRecommendations.artists)||void 0===r?void 0:r.pageInfo.hasNextPage),loadMore:t,placeholder:{img:x.B.RECOMMENDATION}},a.createElement(S.kK,{id:"exclusions_artists",w:"100%"},s.filter((({name:e})=>!n||(0,I.A)(e.toLowerCase()).includes(n))).map((({id:e,picture:t,name:n,fansCount:l})=>a.createElement(y.OJ,{key:e,value:{item:M.Ay.Artist,itemId:e}},a.createElement(T.V,{key:e,textAlign:"center",onClick:()=>{i(`/artist/${e}`)},_hover:{cursor:"pointer"},"data-testid":"artist_thumbnail"},a.createElement(B.g,{ratio:1},a.createElement(R.A,{borderRadius:"rounded",src:null==t?void 0:t.large[0],isExplicitCover:Boolean(null==t?void 0:t.explicitStatus),type:M.Ay.Artist},s.length>=15&&(h||(h=a.createElement(D.Q,null,a.createElement(P.A,null)))))),a.createElement(F.r,{title:n},a.createElement(C.A,{to:`/artist/${e}`,_hover:{textDecoration:"underline"}},n)),Boolean(l)&&a.createElement(N.T,null,(0,m.WI)("%s fan","%s fans",{count:l,sprintf:[(0,k.A)(l)]})))))))))}function G({data:e,onLoadMore:t,filter:n}){return a.createElement(d,{header:a.createElement(f,{href:(0,p.jd)("/recommendations/included/home"),title:(0,m.AP)("algointeractionssettings_title_yourlikedartists_web")})},a.createElement(O,{data:e,onLoadMore:t,filter:n}))}var U,Z,j,H=n("P1K6"),K=n("A2sV"),V=n("AY3M"),Y=n("Fzox"),W=n("sAMA"),Q=n("xobL"),J=n("RGaU"),q=n("5Loq"),$=n("xCFc"),X=n("AfN5"),ee=n("z35p"),te=n("BP9I"),ne=n("1Uwb"),ae=n("fSLK"),le=n("o+h5"),re=n("r4LN"),ie=n("wkd/"),oe=n("PJQK"),se=n("CxZw"),ce=n("SehT"),de=n("y8mM");const ue=(0,a.memo)((({tableItem:e,style:t})=>{const{shouldExplicitBeHidden:n}=(0,$.$A)(),l=e.item.hasExplicitLyrics&&n;let r=(0,m.AP)("algointeractionsorigin_title_streamedtrack_web");switch(e.item.recommendationOrigin){case K.LHG.PICKED_FROM_FAVORITES_TRACKS:r=(0,m.AP)("algointeractionsorigin_title_likedtrack_web");break;case K.LHG.PICKED_FROM_FAVORITES_ALBUMS:r=(0,m.AP)("algointeractionsorigin_title_likedalbum_web");break;case K.LHG.PICKED_FROM_USERS_CREATED_PLAYLIST:r=(0,m.AP)("algointeractionsorigin_title_fromplaylist_web");break;case K.LHG.RECENTLY_STREAMED_ON_REPEAT:case K.LHG.UNKNOWN:default:r=(0,m.AP)("algointeractionsorigin_title_streamedtrack_web")}return a.createElement(ne.A.Row,{style:t,uuid:e.uuid,id:e.item.id,index:e.index,isReadable:e.item.right===se.A.READABLE,isRestrictedByExplicit:l,type:e.item.type},a.createElement(oe.A,{size:ee.c.TITLE.SIZE},a.createElement(oe.A.Cover,{hasExplicitCover:e.item.parent.hasExplicitCover,pictureUrl:e.item.cover(le.r4).url}),a.createElement(oe.A.Label,{hasExplicitLyrics:e.item.hasExplicitLyrics,label:e.item.title,tooltipText:(0,ce.Y)(e.item,n),isPrimary:!0}),a.createElement(ne.A.IconGroup,null,U||(U=a.createElement(oe.A.AddToFavorite,null)),a.createElement(oe.A.OpenContextMenu,{item:e.item}))),a.createElement(ne.A.CellBody,{size:ee.c.ARTIST.SIZE},a.createElement(re.A,{links:e.item.artists.map((e=>({...e,type:M.Ay.Artist})))})),a.createElement(ne.A.CellBody,{breakpoint:ee.c.PARENT.BREAKPOINT,size:ee.c.PARENT.SIZE},a.createElement(re.A,{links:[{...e.item.parent,type:M.Ay.Album}]})),a.createElement(ne.A.CellBody,{size:ee.c.BEHAVIOR.SIZE},a.createElement(de.A,{label:r})),a.createElement(ne.A.CellBody,{align:ee.c.DISLIKE.ALIGN,size:ee.c.DISLIKE.SIZE},Z||(Z=a.createElement(oe.A.Dislike,null))),a.createElement(ne.A.CellBody,{align:ee.c.SELECT.ALIGN,size:ee.c.SELECT.SIZE},j||(j=a.createElement(ie.A,null))))}),ae.t7);var Ee,Ae,ge=n("ZH8F"),pe=n("dalA"),ve=n("ftFY"),_e=n("tgyz"),be=n("7u2F"),fe=n("uSvn"),he=n("1Pdy");const ye=({context:e,hasMore:t=!1,items:n,onLoadMore:l=(()=>{}),shouldExplicitBeHidden:r=!1,total:i})=>{const o=(0,Y.G)((e=>(0,Q.JK)(e.user))),c={id:"0",type:X.Kk.TRACK},d=(0,a.useRef)(null),{manageItems:u,tableItems:E}=(0,ve.A)("0",n,e),{playerStatus:A}=(0,_e.A)(e,c,!t),g=(0,be.A)(E,e);(0,pe.A)(ge.g.FILTER,(e=>{u.action.filter(e.query||"")}),e);const p=(0,$.Ay)({container:c,context:e,manageItems:u,playerStatus:A,select:g,shouldExplicitBeHidden:r}),v=(0,a.useMemo)((()=>(0,fe.Q)(E.toDisplay,o)),[E,o]);return a.createElement($.ru,{value:p},a.createElement(ne.A,{tableRef:d,rowCount:i},a.createElement(ne.A.Header,null,a.createElement(ne.A.CellHead,{size:ee.c.TITLE.SIZE},(0,m.AP)("datagrid_title_trackUPP_web")),a.createElement(ne.A.CellHead,{size:ee.c.ARTIST.SIZE},(0,m.AP)("datagrid_title_artistUPP_web")),a.createElement(ne.A.CellHead,{breakpoint:ee.c.PARENT.BREAKPOINT,size:ee.c.PARENT.SIZE},(0,m.AP)("datagrid_title_albumUPP_web")),a.createElement(ne.A.CellHead,{ariaLabel:(0,m.AP)("datagrid_title_algosource_web"),size:ee.c.BEHAVIOR.SIZE},(0,m.AP)("datagrid_title_algosource_web")),a.createElement(ne.A.CellHead,{ariaLabel:(0,m.AP)("sortingmenu_title_duration_web"),size:ee.c.DISLIKE.SIZE,align:ee.c.DISLIKE.ALIGN},Ee||(Ee=a.createElement(q.j,null))),a.createElement(ne.A.CellHead,{align:ee.c.SELECT.ALIGN,size:ee.c.SELECT.SIZE},a.createElement(te.A,{rowCount:E.toDisplay.length}))),a.createElement(ne.A.Body,null,a.createElement(w.A,{hasMore:t,loadMore:l,placeholder:{img:x.B.RECOMMENDATION}},v.map((({category:e,items:t})=>a.createElement(a.Fragment,{key:e},t.length>0&&a.createElement(ne.A.Row,{style:{height:he.F4.md},uuid:"category-"+e,id:e,type:"category"},a.createElement(ne.A.CellBody,null,a.createElement(s.E,{color:"text.neutral.primary.default",variant:"body.m.default"},e))),t.map((e=>a.createElement(ue,{key:e.uuid,tableItem:e,style:{height:he.F4.md}}))))))))),0===E.toDisplay.length&&(Ae||(Ae=a.createElement(ne.A.EmptyContent,null))))};var Ie,xe,Le=n("7Qga"),Re=n("ogjP");function Pe(){var e,t;const{loading:n,data:l,error:r,onLoadMore:i}=function(){const{loading:e,data:t,error:n,fetchMore:l}=(0,K.hWf)({variables:{trackFirst:50,trackCursor:null},fetchPolicy:"cache-and-network"}),r=(0,a.useCallback)((()=>{var e;l({variables:{trackFirst:50,trackCursor:null==t||null===(e=t.me)||void 0===e||null===(e=e.customizeRecommendations.tracks)||void 0===e||null===(e=e.pageInfo)||void 0===e?void 0:e.endCursor}})}),[t,l]);return{loading:e,data:t,error:n,onLoadMore:r}}(),o=(0,Y.G)((e=>(0,Q.Uw)(e.user)===W.g));if(r)throw r;if(n)return Ie||(Ie=a.createElement(J.k,null));const s=(0,z.A)(null==l||null===(e=l.me)||void 0===e||null===(e=e.customizeRecommendations.tracks)||void 0===e?void 0:e.edges.map((e=>{var t,n;return{...e,node:{...null==e?void 0:e.node,recommendationOrigin:null==e||null===(t=e.metadata)||void 0===t?void 0:t.trackOrigin,date:(0,Le.A)(null==e||null===(n=e.metadata)||void 0===n?void 0:n.addedAt)}}})).filter((e=>!e.node.isBannedFromRecommendation)));if(l&&0===s.length)return a.createElement(Re.p,{title:(0,m.AP)("algointeractionsemptystate_title_nolikedartists_web"),description:(0,m.AP)("algointeractionsemptystate_text_nolikedartistsdescription_web")});const c={ID:"0",TYPE:V.U9};return a.createElement(ye,{context:c,hasMore:Boolean(null==l||null===(t=l.me)||void 0===t||null===(t=t.customizeRecommendations.tracks)||void 0===t?void 0:t.pageInfo.hasNextPage),items:s,onLoadMore:i,total:s.length,shouldExplicitBeHidden:o})}function ke({page:e}){var t,n,l,r,i;const{data:o,onLoadMore:s}=function(){const{data:e,error:t,loading:n,fetchMore:l}=(0,K.bVd)({variables:{artistFirst:50,artistCursor:null},fetchPolicy:"cache-and-network"}),r=(0,a.useCallback)((()=>{var t;l({variables:{artistFirst:50,artistCursor:null==e||null===(t=e.me)||void 0===t||null===(t=t.customizeRecommendations.artists)||void 0===t||null===(t=t.pageInfo)||void 0===t?void 0:t.endCursor}})}),[e,l]);return{loading:n,data:e,error:t,onLoadMore:r}}();if("artists"===e)return a.createElement(G,{data:o,onLoadMore:s});const c=null==o||null===(t=o.me)||void 0===t||null===(t=t.customizeRecommendations.artists)||void 0===t?void 0:t.edges.find((({node:e})=>!(null!=e&&e.isBannedFromRecommendation)));return a.createElement(d,{description:(0,m.AP)("algointeractionstab_title_includeddescription_web"),header:a.createElement(g,{text:(0,m.AP)("algointeractionssettings_title_yourlikedartists_web"),count:null!==(n=null==o||null===(l=o.me)||void 0===l?void 0:l.customizeRecommendations.estimatedArtistsCount)&&void 0!==n?n:0,src:null!==(r=null==c||null===(i=c.node)||void 0===i||null===(i=i.picture)||void 0===i?void 0:i.small[0])&&void 0!==r?r:(0,H.j5)(M.Ay.Artist),href:(0,p.jd)("/recommendations/included/artists")})},xe||(xe=a.createElement(Pe,null)))}var we=n("DeYg");function Ce({data:e,onLoadMore:t,filter:n}){return a.createElement(d,{header:a.createElement(f,{href:(0,p.jd)("/recommendations/excluded/home"),title:(0,m.AP)("algointeractionssettings_title_yourdislikedartists_web")})},a.createElement(we.d,{data:e,onLoadMore:t,filter:n}))}var Me,Se=n("vgRT"),Te=n("5imj");function Be(){var e,t;const{loading:n,data:l,error:r,onLoadMore:i}=(0,Te.w)(),o=(0,Y.G)((e=>(0,Q.Uw)(e.user)===W.g));if(r)throw r;if(n)return Me||(Me=a.createElement(J.k,null));const s={ID:"0",TYPE:V.vj},c=(0,z.A)(null==l||null===(e=l.me)||void 0===e||null===(e=e.bannedFromRecommendation.tracks)||void 0===e?void 0:e.edges.map((e=>({...e,node:{...null==e?void 0:e.node,date:(0,Le.A)(null==e?void 0:e.bannedAt)}}))).filter((e=>e.node.isBannedFromRecommendation)));return l&&0===c.length?a.createElement(Re.p,{title:(0,m.AP)("algointeractionsemptystate_title_nodislikedtracks_web"),description:(0,m.AP)("algointeractionsemptystate_text_nodislikedtracksdescription_web")}):a.createElement(Se.A,{context:s,hasMore:Boolean(null==l||null===(t=l.me)||void 0===t||null===(t=t.bannedFromRecommendation.tracks)||void 0===t?void 0:t.pageInfo.hasNextPage),items:c,onLoadMore:i,total:c.length,shouldExplicitBeHidden:o})}var De,Fe=n("ScnB");function Ne({page:e}){var t,n,l,r,i;const{data:o,error:s,onLoadMore:c}=(0,Fe.S)();if("artists"===e&&!s)return a.createElement(Ce,{data:o,onLoadMore:c});const u=null==o||null===(t=o.me)||void 0===t||null===(t=t.bannedFromRecommendation.artists)||void 0===t?void 0:t.edges.find((({node:e})=>null==e?void 0:e.isBannedFromRecommendation));return a.createElement(d,{description:(0,m.AP)("algointeractionstab_text_excludeddescription_web"),header:a.createElement(g,{text:(0,m.AP)("algointeractionssettings_title_yourdislikedartists_web"),count:null!==(n=null==o||null===(l=o.me)||void 0===l?void 0:l.bannedFromRecommendation.estimatedArtistsCount)&&void 0!==n?n:0,src:null!==(r=null==u||null===(i=u.node)||void 0===i||null===(i=i.picture)||void 0===i?void 0:i.small[0])&&void 0!==r?r:(0,H.j5)(M.Ay.Artist),href:(0,p.jd)("/recommendations/excluded/artists")})},De||(De=a.createElement(Be,null)))}var ze=n("LOQS");const Ge=({match:e,history:t})=>{!function(e){(0,a.useEffect)((()=>function(e){ze.A.log({type:"cdp",eventName:"screen_view",customAttributes:{screen_view_name:"artists"===e?"reco_settings_artists":"reco_settings_tracks"}})}(e)),[e])}(e.params.page);const[n,o]=(0,a.useState)(e.params.tab),s=e=>{o(e.id),t.push(`/recommendations/${e.id}/home`)},c=[{id:l.G.INCLUDED,label:(0,m.AP)("algointeractionstab_title_included_web"),action:s},{id:l.G.EXCLUDED,label:(0,m.AP)("algointeractionstab_title_excluded_web"),action:s}];return a.createElement(i.s,{flexDirection:"column"},a.createElement(v.D,{variant:"heading.l",mt:"spacing.xl",mb:"spacing.l",className:"container"},(0,m.AP)("algointeractionssettings_action_managereco_web")),a.createElement(r.A,{items:c,active:n}),n===l.G.INCLUDED?a.createElement(ke,{page:e.params.page}):a.createElement(Ne,{page:e.params.page}))}}}]);