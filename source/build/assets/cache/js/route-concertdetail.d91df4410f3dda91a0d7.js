"use strict";(self.webpackJsonpDeezer=self.webpackJsonpDeezer||[]).push([[276],{"1lpQ":(e,t,n)=>{n.d(t,{A:()=>s});var a=n("+9dH"),i=n("q1tI"),l=n("Wp0Y"),r=n("wZBD"),o=n("NgX8"),c=n("KZST");const s=({size:e,...t})=>"small"===e?i.createElement(o.m,{label:(0,l.AP)("label_title_explicitUPP_web")},i.createElement(c.g,(0,a.A)({"aria-label":"explicit_label",size:"small"},t))):i.createElement(r.J,(0,a.A)({"aria-label":"explicit_label",size:"small"},t),(0,l.AP)("label_title_explicitUPP_web"))},"4Rw2":(e,t,n)=>{n.d(t,{T:()=>i,c:()=>l});const a=n("Vd8Q").default.get("log_contexts"),i=e=>null!=e&&("number"==typeof e.ID||"string"==typeof e.ID)&&"string"==typeof e.TYPE,l=(e,t)=>String(e.ID)===String(t.ID)&&a[e.TYPE]===a[t.TYPE]},BRvO:(e,t,n)=>{n.d(t,{A:()=>i});var a=n("A2sV");const i=function({variables:e}){return(0,a.oih)({variables:e,optimisticResponse:{__typename:"Mutation",unsubscribeToLiveEventNotification:{__typename:"LiveEventMutationUnsubscribeToNotificationOutput",status:!1,liveEvent:{__typename:"LiveEvent",id:e.eventId,hasSubscribedToNotification:!1}}}})}},BXmf:(e,t,n)=>{n.r(t),n.d(t,{default:()=>s});var a=n("q1tI"),i=n("A2sV"),l=n("hIIJ"),r=n("lpJY"),o=n("7E8A"),c=n("esNd");const s=({history:e})=>{var t,n;const s=(0,a.useMemo)((()=>{var t;const n=null==e||null===(t=e.location)||void 0===t||null===(t=t.pathname)||void 0===t?void 0:t.split("/");return n[n.length-2]}),[e]),{data:d,loading:u,error:v}=(0,i.aZE)({variables:{eventId:s,albumFirst:50},fetchPolicy:"cache-and-network",skip:!s}),m=null==d?void 0:d.liveEvent,_=null==m?void 0:m.venue,E=(null==m||null===(t=m.contributors)||void 0===t?void 0:t.edges)||[],p=null==E||null===(n=E[0])||void 0===n?void 0:n.node,A=null==p?void 0:p.name;if(v||u||null==E||!E.length)return null;const b=(0,c.v6)(E,!0);return a.createElement("div",{className:"container"},a.createElement(l.A,{title:`${A} - ${_}`}),a.createElement(r.A,{data:b,pageContext:o.CONTEXT_PAGE_DYNAMIC_PAGE}))}},I9b2:(e,t,n)=>{n.d(t,{A:()=>_});var a,i=n("q1tI"),l=n("juqV"),r=n("GkjM"),o=n("3JOg"),c=n("rYh+"),s=n("cfsa"),d=n("+RX7"),u=n("TDRX"),v=n("y7xR"),m=n("pVdW");const _=({date:e,title:t,subtitle:n,concertId:_,onClick:E,calendarIconSize:p="sm",className:A,locationState:b})=>{const g=`/concert/${_}`;return i.createElement(o.A,null,i.createElement(r.A,{role:"button",to:{pathname:g,state:b},onClick:E,className:(0,l.A)(s.A.element,A)},i.createElement(d.V,{date:new Date(e),size:p}),i.createElement(u.a,{flex:"1",flexDirection:"column",px:"spacing.m"},i.createElement(v.D,{variant:"heading.xs",noOfLines:1,mb:"spacing.xs",width:"100%"},t),n&&i.createElement(m.E,{variant:"body.s.default",color:"text.neutral.secondary.default",noOfLines:1,pb:"spacing.xs",width:"100%"},n)),a||(a=i.createElement(c.A,{size:"16"}))))}},JLdt:(e,t,n)=>{n.d(t,{A:()=>l});var a=n("Wp0Y"),i=n("A2sV");const l=({status:e,eventDate:t,lang:n,hourOption:l})=>{const r=new Date,o=Math.floor((t.getTime()-r.getTime())/864e5),c=0==t.getDate()-r.getDate()&&o<1,s=e===i.vi.STARTED,d=e===i.vi.ENDED,u=e===i.vi.CANCELLED;return d?(0,a.AP)("liveeventcard_title_ended_web"):u?(0,a.AP)("liveeventcard_title_canceled_web"):s?(0,a.AP)("livestreammodule_title_live_web"):o>0&&!c?(0,a.AP)("livestreammodule_title_daysXtogo_web",{count:Math.ceil(o),sprintf:[Math.ceil(o)]}):(0,a.AP)("livestreammodule_title_liveatXtime_web",{sprintf:[new Intl.DateTimeFormat(n,l).format(t)]})}},MIIr:(e,t,n)=>{n.d(t,{A:()=>i});var a=n("A2sV");const i=function({variables:e}){return(0,a.BMS)({variables:e,optimisticResponse:{__typename:"Mutation",subscribeToLiveEventNotification:{__typename:"LiveEventMutationSubscribeToNotificationOutput",status:!0,liveEvent:{__typename:"LiveEvent",id:e.eventId,hasSubscribedToNotification:!0}}}})}},PjFO:(e,t,n)=>{n.r(t),n.d(t,{default:()=>s});var a=n("q1tI"),i=n("A2sV"),l=n("7E8A"),r=n("hIIJ"),o=n("lpJY"),c=n("esNd");const s=({history:e})=>{var t,n;const s=(0,a.useMemo)((()=>{var t;const n=null==e||null===(t=e.location)||void 0===t||null===(t=t.pathname)||void 0===t?void 0:t.split("/");return n[n.length-2]}),[e]),{data:d,loading:u,error:v}=(0,i.aZE)({variables:{eventId:s,contributorsFirst:50},fetchPolicy:"cache-and-network",skip:!s});if(v||u||!d)return null;const m=null==d?void 0:d.liveEvent,_=null==m?void 0:m.venue,E=(0,c.rL)(null==m||null===(t=m.contributors)||void 0===t?void 0:t.edges),p=null==E||null===(n=E[0])||void 0===n?void 0:n.node,A=null==p?void 0:p.name,b=(0,c.$g)(E);return a.createElement("div",{className:"container"},a.createElement(r.A,{title:`${A} - ${_}`}),a.createElement(o.A,{data:b,pageContext:l.CONTEXT_PAGE_DYNAMIC_PAGE}))}},Xb8Y:(e,t,n)=>{n.d(t,{Ay:()=>S,CZ:()=>M});var a=n("q1tI"),i=n("TRpf"),l=n("juqV"),r=n("WrS5"),o=n("Wp0Y"),c=n("TqF5"),s=n("A2sV"),d=n("CdHq"),u=n("HmE0"),v=n("siwx"),m=n("arV3"),_=n("P2AV"),E=n("Q4xC"),p=n("ZAef"),A=n("DSCs"),b=n("JLdt"),g=n("hrWl");const I="Aacm5",y="rM0w9",D="ViSJa";var L,P,R=n("tZCQ"),x=n("hIIJ");const k={weekday:"long",month:"short",day:"numeric"},M={hour:"numeric",minute:"numeric"},O={dispatchOpenModal:c.qf},S=(0,i.Ng)(null,O)((({dispatchOpenModal:e,eventDate:t,imageUrl:n,status:i,lang:c,sectionTitle:O,title:S,videoUrl:F,isNotified:V,toggleNotification:$})=>{const B=F?()=>e({name:r.b.GENERIC_IFRAME,size:"small",props:{url:F}}):void 0,U=(0,l.A)("c5ONn",{[D]:F}),Y=(0,l.A)("thumbnail-col","thumbnail-col-event","Egguy",{[D]:F}),W=i===s.vi.STARTED,G=i===s.vi.PENDING,J=(0,b.A)({status:i,eventDate:t,lang:c,hourOption:M});return a.createElement(a.Fragment,null,a.createElement("div",{className:"container"},a.createElement("div",{className:"channel-headings"},R.A.isAllowed("revamp2023")?a.createElement(x.A,null,O,a.createElement(d.s,{alignItems:"center",ms:"4"},a.createElement(g.A,{isLive:W},J))):a.createElement("h2",{className:"heading-2 has-badge"},O,a.createElement(d.s,{alignItems:"center",ms:"4"},a.createElement(g.A,{isLive:W},J))))),a.createElement("div",{className:"container"},a.createElement("div",{className:"thumbnail-grid thumbnail-grid-responsive"},a.createElement("div",{className:Y,onClick:B},a.createElement("h3",{className:"WEYVm"},S),a.createElement("div",{className:"c217d"},a.createElement("span",{className:I,"data-testid":"date"},a.createElement(_.C,{className:y,w:5,h:5}),new Intl.DateTimeFormat(c,k).format(t)),a.createElement("span",{className:I,"data-testid":"hour"},a.createElement(E.m,{className:y,w:5,h:5}),new Intl.DateTimeFormat(c,M).format(t))),a.createElement("div",null,F&&!G&&a.createElement(u.K0,{className:"xov_Q","aria-label":W?(0,o.AP)("livestreammodule_action_watchlive_web"):(0,o.AP)("livestreammodule_action_trailer_web"),colorScheme:"white",icon:L||(L=a.createElement(p.J,null)),onClick:e=>{B&&B(),e.stopPropagation()}}),G&&a.createElement(u.K0,{"data-testid":"btn-notification",className:"AIqZl","aria-label":V?(0,o.AP)("livestreammodule_action_setreminder_web"):(0,o.AP)("livestreammodule_action_cancelreminder_web"),icon:a.createElement(A.$,{color:V?"icon.accent.primary.default":"icon.neutral.primary.default"}),onClick:e=>{e.stopPropagation(),$(V)}}))),a.createElement("div",{className:"thumbnail-col thumbnail-col-event"},a.createElement(v._,{className:U,src:n,alt:S,onClick:B,fallback:P||(P=a.createElement(m.E,{height:"100%"}))})))))}))},ZtP3:(e,t,n)=>{function a(e,t){return t.setMinutes(t.getMinutes()-e),t}n.d(t,{m:()=>a})},ailv:(e,t,n)=>{n.d(t,{SP:()=>i,U$:()=>s,Xw:()=>r,rc:()=>l,uV:()=>c,v5:()=>o});var a=n("LOQS");let i=function(e){return e.CONCERT="concert",e.CONCERT_WITH_LIVESTREAM="concert_with_livestream",e.FESTIVAL="festival",e.FESTIVAL_WITH_LIVESTREAM="festival_with_livestream",e}({}),l=function(e){return e.CLICK_CONCERT="click_concert",e.BUY_TICKET="buy_ticket",e.SEARCH="search",e.REMINDER="put_concert_reminder",e}({}),r=function(e){return e.CONCERT_HUB_FOR_YOU="concert_hub_for_you",e.CONCERT_DETAIL="concert_detail",e.ARTIST="artist",e.VIEW_ALL="view_all_concerts",e.ALBUM="album",e}({}),o=function(e){return e.CITY="city",e.CONCERT="concert",e.ARTIST="artist",e.ALBUM="album",e}({});const c=e=>{a.A.log({type:"cdp",eventName:"concert_hub_used",customAttributes:e})},s=e=>null!=e&&e.isConcert?i.CONCERT:null!=e&&e.isFestival?i.FESTIVAL:null!=e&&e.isLivestreamConcert?i.CONCERT_WITH_LIVESTREAM:null!=e&&e.isLivestreamFestival?i.FESTIVAL_WITH_LIVESTREAM:void 0},b0Ho:(e,t,n)=>{n.r(t),n.d(t,{default:()=>j});var a=n("q1tI"),i=n("pVdW"),l=n("Wp0Y"),r=n("7E8A"),o=n("fsGD"),c=n("A2sV"),s=n("esNd"),d=n("ZtP3"),u=n("aFHr"),v=(n("/eM8"),n("MaGs")),m=n("TDRX"),_=n("y7xR"),E=n("CdHq"),p=n("HmE0"),A=n("siwx"),b=n("TRpf"),g=n("WrS5");const h={dispatchOpenModal:n("TqF5").qf},f=(0,b.Ng)(null,h)((({eventDate:e,videoUrl:t,dispatchOpenModal:n,status:i})=>{const r=new Date,o=Math.floor((e.getTime()-r.getTime())/864e5),s=0==e.getDate()-r.getDate()&&o<1,d=i===c.vi.STARTED,u=i===c.vi.ENDED,v=i===c.vi.CANCELLED,m=!d&&o>0&&!s,_=d&&t&&s,E=!d&&t,A=v||u||m,b=u?(0,l.AP)("liveeventcard_title_ended_web"):v?(0,l.AP)("liveeventcard_title_canceled_web"):E?(0,l.AP)("concerthubeventspage_action_watchtrailer_web"):_?(0,l.AP)("concerthubeventspage_action_watchnow_web"):m?(0,l.AP)("concerthubeventspage_action_upcoming_web"):null;return a.createElement(p.$n,{isDisabled:A,onClick:()=>{if(E||_)return(e=>{n({name:g.b.GENERIC_IFRAME,size:"small",props:{url:e}})})(t)}},b)}));var T=n("+9dH"),w=n("ailv");const I=({liveEventId:e,uri:t,status:n,types:i})=>{const r=n===c.vi.ENDED,o=n===c.vi.CANCELLED||r||!t;return a.createElement(p.$n,(0,T.A)({as:"a",role:"link","aria-disabled":o,target:"_blank",isDisabled:o},!o&&{href:t},{onClick:()=>{o||(0,w.uV)({screen_view_name:w.Xw.CONCERT_DETAIL,screen_view_id_type:w.v5.CONCERT,screen_view_id:e,action:w.rc.BUY_TICKET,item_type:(0,w.U$)(i),item_id:e})},"data-testid":"concert_ticket"}),o?(0,l.AP)("concerthub_title_unavailable_web"):(0,l.AP)("concerthubeventspage_action_gettickets_web"))};var y=n("MIIr"),N=n("BRvO"),C=n("xobL"),D=n("ZAef"),L=n("UMY1"),P=n("P2AV"),R=n("DSCs"),x=n("fkXJ"),k=n("JLdt"),M=n("Xb8Y"),O=n("hrWl"),S=n("pIhH");const F=({cover:e,height:t})=>{const n=(0,b.d4)((({user:e})=>(0,C.iJ)(e))),i=e?`linear-gradient(${n===S.y5.RTL?"-":""}90deg, background.neutral.primary.default 0%, rgba(0,0,0,0) 120%), linear-gradient(0deg, background.neutral.primary.default 2%, rgba(0,0,0,0) 50%), url(${e})`:"";return a.createElement(m.a,{"data-testid":"masthead-background",bgGradient:i,backgroundPosition:"center center",backgroundRepeat:"no-repeat",backgroundSize:"100%",height:t,width:"646px",ms:"auto",position:"relative"})};var V,$,B;const U="400px",Y=({liveEvent:e})=>{var t,n,r,o,s,d;const{cityName:u,id:g,venue:h,types:T,contributors:S,startDate:Y,status:W,live:G,videos:J,sources:X,hasSubscribedToNotification:z}=e,[Z]=(0,y.A)({variables:{eventId:g}}),[q]=(0,N.A)({variables:{eventId:g}}),H=(0,b.d4)((e=>e)),K=(0,C.Z0)(H.user),Q=h&&u?`${h}, ${u}`:h&&!u?h:"",j=Y?new Date(Y):new Date,ee=(0,k.A)({status:W,eventDate:j,lang:K,hourOption:M.CZ}),te=Intl.DateTimeFormat(K,{day:"2-digit",month:"long",hour:"2-digit"}),ne=S.edges[0].node,ae=S.edges.map((e=>{var t;return null===(t=e.node)||void 0===t?void 0:t.name})).filter((e=>e)).join(", "),ie=T.isLivestreamConcert||T.isLivestreamFestival,le=T.isFestival||T.isLivestreamFestival,re=null==X?void 0:X.defaultUrl,oe="dark"===(0,v.G6)().colorMode?null==X||null===(t=X.coBranding)||void 0===t||null===(t=t.logoAsset)||void 0===t?void 0:t.darkThemeUIAsset.urls[0]:null==X||null===(n=X.coBranding)||void 0===n||null===(n=n.logoAsset)||void 0===n?void 0:n.lightThemeUIAsset.urls[0],ce=(W===c.vi.STARTED||W===c.vi.PENDING)&&(null==G||null===(r=G.externalUrl)||void 0===r?void 0:r.url)||(null===(o=J.edges.filter((({node:e})=>(null==e?void 0:e.type)===c.ct1.TRAILER))[0])||void 0===o||null===(o=o.node)||void 0===o||null===(o=o.externalUrl)||void 0===o?void 0:o.url);return a.createElement("div",{"data-testid":"masthead-detail-concerts"},a.createElement(F,{cover:null==ne||null===(s=ne.picture)||void 0===s||null===(s=s.large)||void 0===s?void 0:s[0],height:U}),a.createElement(m.a,{className:"container",mt:`calc(-${U} + 90px)`},ie&&a.createElement(m.a,{mb:"spacing.l"},a.createElement(O.A,{isLive:W===c.vi.STARTED},ee)),a.createElement(_.D,{variant:"display.s","data-testid":"masthead-title",noOfLines:2},le?null==e?void 0:e.name:ae),a.createElement(E.s,{my:"spacing.xl",flexDir:"column",gap:"spacing.xs"},a.createElement(E.s,null,ie?V||(V=a.createElement(D.J,null)):$||($=a.createElement(L.t,null)),a.createElement(i.E,{"data-testid":"concert_location",variant:"body.xl.default",ms:"spacing.xs"},ie?(0,l.AP)("concerthub_title_liveondeezer_web"):Q)),a.createElement(E.s,null,B||(B=a.createElement(P.C,null)),a.createElement(i.E,{variant:"body.xl.default",ms:"spacing.xs","data-testid":"concert_date"},te.format(j)))),a.createElement(E.s,{alignItems:"flex-end",mt:"spacing.l"},ie?a.createElement(a.Fragment,null,a.createElement(f,{status:W,eventDate:j,videoUrl:ce}),a.createElement(p.K0,{ms:"spacing.l",variant:"outline",colorScheme:"default","data-testid":"btn-notification","aria-label":z?(0,l.AP)("livestreammodule_action_setreminder_web"):(0,l.AP)("livestreammodule_action_cancelreminder_web"),icon:a.createElement(R.$,{color:z?"icon.accent.primary.default":"icon.neutral.primary.default"}),onClick:()=>(async e=>{if(g){if(e)return(0,x.A)({body:(0,l.AP)("livestreammodule_action_cancelreminder_web")}),q();await(0,w.uV)({screen_view_name:w.Xw.CONCERT_DETAIL,screen_view_id_type:w.v5.CONCERT,screen_view_id:g,action:w.rc.REMINDER,item_type:(0,w.U$)(T),item_id:g}),await Z(),(0,x.A)({body:(0,l.AP)("livestreammodule_action_setreminder_web")})}})(z)})):a.createElement(I,{status:W,uri:re,liveEventId:g,types:T})),(null===(d=X.coBranding)||void 0===d?void 0:d.logoAsset)&&a.createElement(E.s,{mt:"spacing.m",gap:"spacing.xs",alignItems:"center"},a.createElement(i.E,{variant:"body.2xs.default",color:"text.neutral.secondary.default"},(0,l.AP)("concerthubeventspage_text_ticketsavailableon_web")),a.createElement(A._,{src:oe,alt:"Fnac",h:"size.xs"}))))};var W=n("hIIJ"),G=n("fIC+");const J=({artist:e,concerts:t,liveEventId:n,referringArtistId:i})=>a.createElement("div",{className:"container"},a.createElement(m.a,{mb:"spacing.xl"},a.createElement(W.A,{title:(0,l.AP)("artistpage_title_artistXontour_web",{sprintf:[e.name]}),href:`/artist/${e.id}/concerts`,ctaLabel:(0,l.AP)("eventpage_action_alltourdates_web"),"data-testid":"on_tour_title"})),a.createElement(G.A,{concerts:t,onItemClick:(e,t)=>{(0,w.uV)({action:w.rc.CLICK_CONCERT,screen_view_id:n,screen_view_id_type:w.v5.CONCERT,screen_view_name:w.Xw.CONCERT_DETAIL,concert_ranking:t,item_id:e.id,item_type:(0,w.U$)(e.types)})},locationState:i?{referringArtistId:i}:void 0}));var X=n("LOQS"),z=n("FVVF");const Z=n.p+"src/containers/ConcertDetail/components/icons/NoConcertIcon.20421629f4306c194924.svg";var q,H=n("GkjM");const K=()=>a.createElement(z.T,{h:"calc(100vh - 156px)",justify:"center",spacing:"spacing.xl",alignItems:"center"},q||(q=a.createElement(A._,{"data-testid":"no-concert-icon",w:"52px",h:"52px",src:Z})),a.createElement(z.T,{spacing:"spacing.l"},a.createElement(_.D,{"data-testid":"no-concert-title",variant:"heading.l"},(0,l.AP)("concerthuberrorpage_title_thisconcertisntavailableanymore_web")),a.createElement(i.E,{"data-testid":"no-concert-subtitle",color:"text.neutral.secondary.default",variant:"body.l.default"},(0,l.AP)("concerthuberrorpage_subtitle_checkoutotherconcerts_web"))),a.createElement(H.A,{to:"/concerts"},a.createElement(p.$n,{"data-testid":"no-concert-button"},(0,l.AP)("concerthub_action_findanotherconcert_web"))));var Q;const j=({history:e,match:t})=>{var n,v,m,_,E,p,A;const b=t.params.concertId,{data:g,loading:h,error:f,startPolling:T,stopPolling:w}=(0,c.aZE)({variables:{eventId:b},fetchPolicy:"cache-and-network",skip:!b}),I=null===(n=e.location.state)||void 0===n?void 0:n.referringArtistId,y=null==g?void 0:g.liveEvent,N=(0,s.rL)(null==y||null===(v=y.contributors)||void 0===v?void 0:v.edges,I),C=N[0],{data:D,loading:L}=(0,c.KDJ)({variables:{liveEventsByProximityFirst:10,artistId:null==C||null===(m=C.node)||void 0===m?void 0:m.id},skip:!(null!=C&&null!==(_=C.node)&&void 0!==_&&_.id)}),P=null==D||null===(E=D.artist)||void 0===E||null===(E=E.liveEventsByProximity)||void 0===E?void 0:E.edges.map((e=>e.node)).filter(Boolean).filter((e=>e.id!==b)).slice(0,6);if((0,a.useEffect)((()=>{X.A.log({type:"cdp",eventName:"screen_view",customAttributes:{screen_view_name:"concert_detail",screen_view_id_type:"concert",screen_view_id:b}})}),[]),(0,a.useEffect)((()=>{var e,t;if(null==g||null===(e=g.liveEvent)||void 0===e||!e.startDate)return;const n=null==g||null===(t=g.liveEvent)||void 0===t?void 0:t.startDate,a=new Date((0,d.m)(30,new Date(n))),i=new Date(n),l=setInterval((()=>{const e=new Date;e>a&&e<i&&T(6e4),e>i&&(w(),clearInterval(l))}),6e4);return()=>{clearInterval(l),w()}}),[g,w,T]),h)return null;if(f||null==N||!N.length||!y)return Q||(Q=a.createElement(K,null));const R=(0,s.v6)(N),x=(0,s.$g)(N),k=(null!==(p=null==R?void 0:R.length)&&void 0!==p?p:0)>=12,M=(null!==(A=null==x?void 0:x.length)&&void 0!==A?A:0)>=12;return a.createElement(a.Fragment,null,a.createElement(Y,{liveEvent:y}),P&&P.length>0&&!L&&(null==D?void 0:D.artist)&&a.createElement(J,{artist:D.artist,concerts:P,liveEventId:b,referringArtistId:I}),x&&a.createElement(u.A,{pageContext:r.CONTEXT_PAGE_DYNAMIC_PAGE,layoutType:o.Pl,alignment:"left",data:x,hasMoreItems:M,title:(0,l.AP)("eventpage_title_lineup_web"),related:M?{target:`/concert/${b}/lineup`,label:(0,l.AP)("Voir tout")}:void 0}),(null==R?void 0:R.length)>0&&a.createElement(u.A,{pageContext:r.CONTEXT_PAGE_DYNAMIC_PAGE,layoutType:o.Pl,alignment:"left",data:R,hasMoreItems:k,title:(0,l.AP)("eventpage_title_getinthemood_web"),related:k?{target:`/concert/${b}/mood`,label:(0,l.AP)("Voir tout")}:void 0}),a.createElement("div",{className:"container"},a.createElement(i.E,{size:"xs",color:"text.neutral.secondary.default"},(0,l.AP)("concerthub_text_legalmentions_web"))))}},cfsa:(e,t,n)=>{n.d(t,{A:()=>a});const a={element:"ZzbWE"}},esNd:(e,t,n)=>{n.d(t,{$g:()=>o,rL:()=>s,v6:()=>r}),n("W8Tb");var a=n("Wp0Y"),i=n("5G9X");const l=12;function r(e,t=!1){const n=null==e?void 0:e.map((e=>{var n;return null==e||null===(n=e.node)||void 0===n||null===(n=n.albums)||void 0===n||null===(n=n.edges)||void 0===n?void 0:n.map((n=>{var i,l,r,o,c,s;if(null!=n&&n.node)return{ART_ID:null==e||null===(i=e.node)||void 0===i?void 0:i.id,ART_NAME:t?"":null==e||null===(l=e.node)||void 0===l?void 0:l.name,ALB_ID:n.node.id,ALB_TITLE:n.node.displayTitle,ALB_DATE:n.node.releaseDate,MD5_ORIGIN:null===(r=n.node.cover)||void 0===r?void 0:r.id,ALB_PICTURE:null===(o=n.node.cover)||void 0===o?void 0:o.md5,__TYPE__:"album",target:`/album/${n.node.id}`,layout_parameters:{cta:{label:(0,a.AP)("Écouter"),type:"play"},override:{pictures:[{type:"cover",md5:null===(c=n.node.cover)||void 0===c?void 0:c.md5}],subtitle:null==e||null===(s=e.node)||void 0===s?void 0:s.name,title:n.node.displayTitle}}}})).filter(Boolean)}));return[].concat(...n).sort(((e,t)=>e.ALB_DATE>t.ALB_DATE?-1:e.ALB_DATE<t.ALB_DATE?1:0)).slice(0,l)}function o(e){return null==e?void 0:e.map((e=>{var t,n,a,l;return{ART_ID:null==e||null===(t=e.node)||void 0===t?void 0:t.id,ART_NAME:null==e||null===(n=e.node)||void 0===n?void 0:n.name,ROLE:c(e),ART_PICTURE:null==e||null===(a=e.node)||void 0===a||null===(a=a.picture)||void 0===a?void 0:a.md5,__TYPE__:i.Ay.ArtistLineUp,type:i.Ay.ArtistLineUp,layout_parameters:{override:{pictures:[{type:"artist",md5:null==e||null===(l=e.node)||void 0===l||null===(l=l.picture)||void 0===l?void 0:l.md5}]}}}})).filter(Boolean).slice(0,l)}function c(e){var t;if(null!=e&&null!==(t=e.concertContributorMetadata)&&void 0!==t&&null!==(t=t.roles)&&void 0!==t&&t.isMain)return e.concertContributorMetadata.roles.isMain?(0,a.AP)("eventpage_title_headliner_web"):(0,a.AP)("eventpage_title_openingact_web")}function s(e,t){if(!e)return[];const n=[...e].sort(((e,t)=>e.node&&t.node?t.node.fansCount-e.node.fansCount:0)).sort(((e,t)=>e.node&&t.node?e.node.isFavorite===t.node.isFavorite?0:e.node.isFavorite?-1:1:0)).sort(((e,t)=>{var n,a,i;return e.node&&t.node?(null===(n=e.concertContributorMetadata)||void 0===n?void 0:n.roles.isMain)===(null===(a=t.concertContributorMetadata)||void 0===a?void 0:a.roles.isMain)?0:null!==(i=e.concertContributorMetadata)&&void 0!==i&&i.roles.isMain?-1:1:0}));if(t){const e=n.findIndex((({node:e})=>(null==e?void 0:e.id)===t));if(e>=0){const t=n[e];n.splice(e,1),n.unshift(t)}}return n}},"fIC+":(e,t,n)=>{n.d(t,{A:()=>E});var a=n("q1tI"),i=n("I9b2"),l=n("wZBD"),r=n("aIaO");var c,s=n("TRpf"),d=n("xobL"),u=n("Wp0Y"),v=n("ZAef");const m=({concert:e})=>{const t=(0,s.d4)((e=>e)),n=(0,d.Z0)(t.user);return a.createElement(a.Fragment,null,(e.types.isLivestreamConcert||e.types.isLivestreamFestival)&&(c||(c=a.createElement(l.J,{variant:"live",p:1,mr:1,display:"inline-block"},a.createElement(v.J,null)))),((e,t)=>{const n=new Date(e);return`${new Intl.DateTimeFormat(t,{day:"2-digit",month:"long"}).format(n)} • ${new Intl.DateTimeFormat(t,{hour:"2-digit"}).format(n)}`})(e.startDate,n))},_=({concert:e})=>a.createElement(a.Fragment,null,e.types.isLivestreamConcert||e.types.isLivestreamFestival?(0,u.AP)("concerthub_title_liveondeezer_web"):`${e.venue}, ${e.cityName}, ${e.countryCode}`),E=({concerts:e,onItemClick:t,locationState:n})=>a.createElement(r.x,{templateColumns:{base:"repeat(auto-fit, minmax(calc(50% - 16px), 1fr))",lg:"repeat(auto-fit, minmax(calc(33% - 16px), 1fr))"},columnGap:4,rowGap:2,"data-testid":"concert_grid"},e.map(((e,l)=>a.createElement(i.A,{key:e.id,concertId:e.id,date:e.startDate,title:a.createElement(_,{concert:e}),subtitle:a.createElement(m,{concert:e}),onClick:()=>t(e,l),calendarIconSize:"md",className:"ENwNR",locationState:n}))))},hrWl:(e,t,n)=>{n.d(t,{A:()=>r});var a=n("q1tI");var l=n("wZBD");const r=({children:e,isLive:t=!1})=>a.createElement(l.J,{"data-testid":"live-event-badge",variant:"live"},t&&a.createElement("span",{className:"xfye4"}),e)},pIhH:(e,t,n)=>{n.d(t,{Ay:()=>v,y5:()=>d});var a=n("q1tI"),i=n("TRpf"),l=n("H/eQ"),r=n("WBQ7"),o=n("xobL");const c="wakeUpNotification-time",s="wakeUpNotification-cap";let d=function(e){return e.LTR="ltr",e.RTL="rtl",e}({});class u extends a.Component{constructor(...e){super(...e),this.createGenericNotification=e=>new Notification("Deezer",{body:"Why not listen again to some music?",dir:e,silent:!0}),this.createTrackNotification=(e,t,n)=>new Notification("Deezer",{body:`You last listened to ${e} by ${t.map((e=>e.ART_NAME)).join(", ")}. What will you listen to next?`,dir:n,silent:!0}),this.shouldLaunchTimer=()=>{if(!this.props.isPaused)return!1;const e=Number(r.default.get(c,"0")),t=(new Date).setDate((new Date).getDate()-1),n=Number(r.default.get(s,"0"));return e<t&&n<5},this._onBlur=()=>{this.shouldLaunchTimer()&&(this._timer=window.setTimeout(this._notify,this.props.delay))},this._onFocus=()=>{clearTimeout(this._timer)},this._onNotificationShown=()=>{r.default.set(c,Date.now())},this._notify=()=>{const{trackTitle:e,trackArtists:t,langDirection:n}=this.props;if(e&&t)return this._notification=this.createTrackNotification(e,t,n),void this._setNewCap();this._notification=this.createGenericNotification(n),this._setNewCap()},this._setNewCap=()=>{r.default.set(c,Date.now()),r.default.set(s,Number(r.default.get(s,0)+1))},this._notification=void 0,this._timer=void 0}componentDidMount(){window.addEventListener(l.A.ads.blur,this._onBlur),window.addEventListener(l.A.ads.focus,this._onFocus)}componentWillUnmount(){window.removeEventListener(l.A.ads.blur,this._onBlur),window.removeEventListener(l.A.ads.focus,this._onFocus)}render(){return null}}u.defaultProps={delay:72e5,trackTitle:void 0,trackArtists:[]};const v=(0,i.Ng)((e=>({langDirection:(0,o.iJ)(e.user),isPaused:!e.player.control.playing,trackTitle:e.player.music.trackTitle,trackArtists:e.player.music.trackArtists})))(u)}}]);