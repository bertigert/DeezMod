"use strict";(self.webpackJsonpDeezer=self.webpackJsonpDeezer||[]).push([[308],{"0O3b":(e,t,i)=>{function a(e){return(e||[]).reduce(((e,t)=>(t.node&&e.push(t.node),e)),[])}i.d(t,{A:()=>a}),i("WpbS")},"4liH":(e,t,i)=>{i.d(t,{SA:()=>o,d0:()=>a,dZ:()=>s});const a="full",o="autocomplete",s="instant_search"},"6rbY":(e,t,i)=>{i.d(t,{A:()=>_});var a=i("Au7y"),o=i("Sb6s"),s=i("TRpf"),n=i("Fzox"),r=i("Nz/Y"),c=i("34sk"),d=i("yJX9"),l=i("vXsw"),v=i("xobL"),m=i("A2sV");const u=a.J1`
	fragment isPodcastFavorite on Podcast {
		isPodcastFavorite: isFavorite
	}
`,_=e=>{const t={podcastId:e},i=(0,s.wA)(),a=(0,n.G)((({user:e})=>(0,v.UJ)(e))),_=(0,r.A)(),{data:p}=(0,o.I)({fragment:u,from:{__typename:"Podcast",id:e},optimistic:!0}),[y]=(0,m.HwP)({variables:t,onCompleted:()=>{i((0,c.TD)(d.Z.favorites,{id:e,timestamp:Date.now()},"show"))},optimisticResponse:{__typename:"Mutation",addPodcastToFavorite:{podcast:{id:e,isPodcastFavorite:!0,__typename:"Podcast"},__typename:"PodcastMutationFavoriteAddOut"}}}),[g]=(0,m.PKC)({variables:t,onCompleted:()=>{i((0,c.E$)(d.Z.favorites,e,"show"))},optimisticResponse:{__typename:"Mutation",removePodcastFromFavorite:{podcast:{id:e,isPodcastFavorite:!1,__typename:"Podcast"},__typename:"PodcastMutationFavoriteRemoveOut"}}}),A=(0,n.G)((t=>t.feedbacks.favorites.show.feedbacks[e])),h=Boolean(A||(null==p?void 0:p.isPodcastFavorite));return{isFavorite:h,toggleFavorite:()=>{a?h?g():(_(),y()):l.g.goToConnection()}}}},D2sd:(e,t,i)=>{i.d(t,{A:()=>c});var a=i("MVPB"),o=i("4OMY"),s=i("LOQS"),n=(0,o.A)("reset");function r(){this.queries=[]}const c=new class{constructor(){Object.defineProperty(this,n,{value:r}),this.queries=void 0,this.queries=[]}addQuery(e){this.queries.push({query_string:e,timestamp:(1e3*Date.now()).toString()}),this.queries.length>=20&&this.sendLog()}sendLog(){0!==this.queries.length&&(s.A.log({type:"cdp",eventName:"search_typed",customAttributes:{queries:this.queries}}),(0,a.A)(this,n)[n]())}}},RTUF:(e,t,i)=>{i.d(t,{i:()=>n,m:()=>s});var a=i("q1tI");const o=a.createContext({isDragging:!1}),s=({children:e})=>{const[t,i]=a.useState(!1);a.useEffect((()=>{const e=e=>{e.preventDefault()},t=()=>{document.removeEventListener("dragend",t),document.removeEventListener("drop",t),document.removeEventListener("dragenter",e),document.removeEventListener("dragover",e),i(!1),document.body.classList.remove("is-dragging")};return document.addEventListener("dragstart",(()=>{document.addEventListener("dragenter",e),document.addEventListener("dragover",e),document.addEventListener("dragend",t),document.addEventListener("drop",t),i(!0),document.body.classList.add("is-dragging")})),()=>{document.removeEventListener("dragend",t),document.removeEventListener("drop",t),document.removeEventListener("dragenter",e),document.removeEventListener("dragover",e)}}),[]);const s=a.useMemo((()=>({isDragging:t})),[t]);return a.createElement(o.Provider,{value:s},e)},n=()=>{const e=a.useContext(o);if(!e)throw new Error("useDrag must be used wrapped inside a DragProvider");return e}},a9NY:(e,t,i)=>{i.d(t,{A:()=>o});var a=i("q1tI");function o(){const e="object"==typeof window,[t,i]=(0,a.useState)({width:e?window.innerWidth:void 0,height:e?window.innerHeight:void 0});return(0,a.useEffect)((()=>{if(!e)return()=>{};const t=()=>{i({width:e?window.innerWidth:void 0,height:e?window.innerHeight:void 0})};return window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)}),[]),t}},d6Kh:(e,t,i)=>{i.d(t,{Dh:()=>c,TV:()=>n,gj:()=>r,mK:()=>s});var a=i("5G9X"),o=i("Wp0Y");const s="top_result",n="lyrics",r={[a.Ay.Track]:(0,o.AP)("Titres"),[a.Ay.Artist]:(0,o.AP)("Artistes"),[a.Ay.Album]:(0,o.AP)("favoritessidebar_title_albums_web"),[a.Ay.Playlist]:(0,o.AP)("Playlists"),[a.Ay.Channel]:(0,o.AP)("Univers"),[a.Ay.Show]:(0,o.AP)("Podcasts"),[a.Ay.Radio]:(0,o.WI)("Mix","Mix",{count:2}),[a.Ay.Livestream]:(0,o.AP)("Radios"),[a.Ay.User]:(0,o.AP)("Profils"),[a.Ay.Episode]:(0,o.AP)("generic_title_episodes_web"),[n]:(0,o.AP)("generic_title_lyricsmatches_web"),[a.Ay.FlowConfig]:(0,o.AP)("Flow")},c={[s]:!0,...r}},gczi:(e,t,i)=>{i.d(t,{A:()=>g});var a=i("Au7y"),o=i("Sb6s"),s=i("TRpf"),n=i("Fzox"),r=i("X6oL"),c=i("Nz/Y"),d=i("34sk"),l=i("yJX9"),v=i("OPhi"),m=i("vXsw"),u=i("xobL"),_=i("A2sV"),p=i("5G9X");const y=a.J1`
	fragment isTrackFavorite on Track {
		isFavorite
	}
`,g=e=>{const t={trackId:e},i=(0,s.wA)(),a=(0,n.G)((({user:e})=>(0,u.UJ)(e))),g=(0,c.A)(),A=(0,r.z1)(),{data:h}=(0,o.I)({fragment:y,from:{__typename:"Track",id:e},optimistic:!0}),[f]=(0,_.M7C)({variables:t,optimisticResponse:{__typename:"Mutation",addTrackToFavorite:{track:{id:e,isFavorite:!0,__typename:"Track"},__typename:"TrackMutationFavoriteAddOut"}},onCompleted:()=>{i((0,d.TD)(l.Z.favorites,{id:e,timestamp:Date.now()},"song"));const t=A.getTrackingData(),{pagecategory:a,pagename:o,index:s}=t,n=a||o,r="track";n&&A.trackEvent({eventaction:`click-favorite-${n}_${r}`,event:"click",eventcategory:n,eventlabel:`favorite-${n}_${r}`,item:{id:e,type:r,rank:s||0}})}}),[w]=(0,_.qAq)({variables:t,onCompleted:()=>{i((0,d.E$)(l.Z.favorites,e,"song"))},optimisticResponse:{__typename:"Mutation",removeTrackFromFavorite:{track:{id:e,isFavorite:!1,__typename:"Track"},__typename:"TrackMutationFavoriteRemoveOut"}}}),[P]=(0,s.d4)((t=>[(0,v.BA)(t.feedbacks,e,p.Ay.Song)])),F=Boolean(P||(null==h?void 0:h.isFavorite));return{isFavorite:F,toggleFavorite:()=>{a?F?w():(g(),f()):m.g.goToConnection()}}}},ntT5:(e,t,i)=>{i.d(t,{F9:()=>_,FU:()=>u,Fw:()=>C,P$:()=>A,SC:()=>m,Sj:()=>k,TD:()=>S,UG:()=>h,Uw:()=>D,fO:()=>p,mJ:()=>l,mQ:()=>F,nD:()=>T,vg:()=>y,xX:()=>b});var a=i("nrKQ"),o=i("lXQd"),s=i("WKgy"),n=i("5G9X"),r=i("4liH"),c=i("7E8A"),d=i("d6Kh");const l="default",v="best_result",m="alternative",u="force_correction",_="force_no_correction",p="fuzzy",y="display_result",g="click_item",A="view_all",h={[n.Ay.Artist]:"view_all_artists",[n.Ay.Album]:"view_all_albums",[n.Ay.Track]:"view_all_songs",[n.Ay.Playlist]:"view_all_playlists",[n.Ay.Radio]:"view_all_radios",[n.Ay.Show]:"view_all_shows",[n.Ay.User]:"view_all_users",[n.Ay.Livestream]:"view_all_livestreams",[n.Ay.Channel]:"view_all_channels",[n.Ay.Episode]:"view_all_episodes",[n.Ay.FlowConfig]:"view_all_flow_configs",[d.TV]:"view_all_lyrics"},f="play",w="lyrics",P="add_to_favorite",F="TAG",k="search",b="tags",T="searchTag",E=[];function L(e,t,i,n,r,c){const d=a.A.call({method:"log_central.log",data:{BATCH:[{channel:"search_action",params:{action:r,method:c,context:n,query:e?e.trim().substring(0,80):"",suggested_query:t?t.trim().substring(0,80):"",search_version:(0,o.A)(s.A.getState(),"user.USER.ABTEST.search.option","default"),item:i}}]}});E.push(d)}function C(e,t,i,a,o,s=0,n=g){e&&""!==e&&L(e,t,{id:o?o[{song:"SNG_ID",album:"ALB_ID",artist:"ART_ID",playlist:"PLAYLIST_ID",radio:"RADIO_ID",show:"SHOW_ID",user:"USER_ID",channel:"id"}[o.__TYPE__]]||o.id:null,rank:s,type:o?o.__TYPE__||o.type:"query"},i,n,a)}function D(e,t,i,a,o=0,s=g){L(e,t,{id:0,rank:o,type:"query"},i,s,a)}function S(e){if(e.pagecategory!==c.CONTEXT_PAGE_SEARCH)return;const{eventaction:t,item:i,pagename:a}=e,o="string"!=typeof(s=t)?"":s.match(/click-play-/)?f:s.match(/click-favorite-/)?P:s.match(/click-lyrics-/)?w:s.match(/click-[a-z]+-search/)||s.match(/click-best-[a-z]+-search/)||s.match(/sort-by-/)||s.match(/select-all/)||s.match(/menu-multi-/)?g:"";var s;o&&L(a,"",i,function(e){return e.match(/best|top/)?v:l}(t),o,r.d0)}},r4LN:(e,t,i)=>{i.d(t,{A:()=>p});var a=i("q1tI"),o=i("juqV"),s=i("iooo"),n=i("GkjM"),r=i("BJtZ"),c=i("t08u"),d=i("/5X2"),l=i("xCFc"),v=i("iiSH"),m=i("1Pdy");const u={root:"hjoo7",multilines:"yjFrI",link:"_ZA0C",text:"A9te1","is-active":"_MAPk",isActive:"_MAPk"};var _=i("kb9X");const p=({links:e,onClick:t})=>{const{id:i,index:p,type:y}=a.useContext(d.gy),{context:g,rowHeight:A}=a.useContext(l.Gt),{triggerTracking:h}=(0,c.A)(g.TYPE),f=(0,_.A)(),w=(0,r.A)(u),P=(0,o.A)(u.root,w,{[u.multilines]:A>m.F4.md}),F=(0,o.A)(u.link,w),k=(0,o.A)(u.text,w),b=e=>""!==e?e:v.fs;return a.createElement("div",{className:P},e.map(((o,r)=>a.createElement(a.Fragment,{key:o.path},null===o.path?a.createElement("span",{className:k,"data-testid":o.type},b(o.name)):a.createElement(n.A,{className:F,"data-testid":o.type,to:(0,s.jd)(o.path),onClick:()=>{f(),null==t||t(o),h({action:o.type,item:{id:i,rank:p,type:y}})}},b(o.name)),r<e.length-1?", ":null))),0===e.length&&"-")}},syib:(e,t,i)=>{i.d(t,{A:()=>_});var a=i("Au7y"),o=i("Sb6s"),s=i("TRpf"),n=i("Fzox"),r=i("Nz/Y"),c=i("34sk"),d=i("yJX9"),l=i("vXsw"),v=i("xobL"),m=i("A2sV");const u=a.J1`
	fragment isPlaylistFavorite on Playlist {
		isFavorite
	}
`,_=e=>{const t={playlistId:e},i=(0,s.wA)(),a=(0,n.G)((({user:e})=>(0,v.UJ)(e))),_=(0,r.A)(),{data:p}=(0,o.I)({fragment:u,from:{__typename:"Playlist",id:e},optimistic:!0}),[y]=(0,m.LQK)({variables:t,optimisticResponse:{__typename:"Mutation",addPlaylistToFavorite:{playlist:{id:e,isFavorite:!0,__typename:"Playlist"},__typename:"PlaylistMutationFavoriteAddOut"}},onCompleted:()=>{i((0,c.TD)(d.Z.favorites,{id:e,timestamp:Date.now()},"playlist"))}}),[g]=(0,m.nPg)({variables:t,onCompleted:()=>{i((0,c.E$)(d.Z.favorites,e,"playlist"))},optimisticResponse:{__typename:"Mutation",removePlaylistFromFavorite:{playlist:{id:e,isFavorite:!1,__typename:"Playlist"},__typename:"PlaylistMutationFavoriteRemoveOut"}}}),A=(0,n.G)((t=>t.feedbacks.favorites.playlist.feedbacks[e])),h=Boolean(A||(null==p?void 0:p.isFavorite));return{isFavorite:h,toggleFavorite:()=>{a?h?g():(_(),y()):l.g.goToConnection()}}}}}]);